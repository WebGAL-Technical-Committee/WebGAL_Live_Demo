var iF=Object.defineProperty,oF=Object.defineProperties;var aF=Object.getOwnPropertyDescriptors;var Zx=Object.getOwnPropertySymbols;var sF=Object.prototype.hasOwnProperty,uF=Object.prototype.propertyIsEnumerable;var Jx=(e,t,r)=>t in e?iF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qx=(e,t)=>{for(var r in t||(t={}))sF.call(t,r)&&Jx(e,r,t[r]);if(Zx)for(var r of Zx(t))uF.call(t,r)&&Jx(e,r,t[r]);return e},eE=(e,t)=>oF(e,aF(t));const lF=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};lF();var Tn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function pc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dt={exports:{}},ot={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var tE=Object.getOwnPropertySymbols,fF=Object.prototype.hasOwnProperty,cF=Object.prototype.propertyIsEnumerable;function hF(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function dF(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var t0=dF()?Object.assign:function(e,t){for(var r,n=hF(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)fF.call(r,a)&&(n[a]=r[a]);if(tE){i=tE(r);for(var s=0;s<i.length;s++)cF.call(r,i[s])&&(n[i[s]]=r[i[s]])}}return n};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0=t0,ru=60103,IS=60106;ot.Fragment=60107;ot.StrictMode=60108;ot.Profiler=60114;var RS=60109,NS=60110,AS=60112;ot.Suspense=60113;var PS=60115,OS=60116;if(typeof Symbol=="function"&&Symbol.for){var Dn=Symbol.for;ru=Dn("react.element"),IS=Dn("react.portal"),ot.Fragment=Dn("react.fragment"),ot.StrictMode=Dn("react.strict_mode"),ot.Profiler=Dn("react.profiler"),RS=Dn("react.provider"),NS=Dn("react.context"),AS=Dn("react.forward_ref"),ot.Suspense=Dn("react.suspense"),PS=Dn("react.memo"),OS=Dn("react.lazy")}var rE=typeof Symbol=="function"&&Symbol.iterator;function pF(e){return e===null||typeof e!="object"?null:(e=rE&&e[rE]||e["@@iterator"],typeof e=="function"?e:null)}function tf(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kS={};function nu(e,t,r){this.props=e,this.context=t,this.refs=kS,this.updater=r||LS}nu.prototype.isReactComponent={};nu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(tf(85));this.updater.enqueueSetState(this,e,t,"setState")};nu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function FS(){}FS.prototype=nu.prototype;function n0(e,t,r){this.props=e,this.context=t,this.refs=kS,this.updater=r||LS}var i0=n0.prototype=new FS;i0.constructor=n0;r0(i0,nu.prototype);i0.isPureReactComponent=!0;var o0={current:null},US=Object.prototype.hasOwnProperty,BS={key:!0,ref:!0,__self:!0,__source:!0};function MS(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)US.call(t,n)&&!BS.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var f=Array(s),c=0;c<s;c++)f[c]=arguments[c+2];i.children=f}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:ru,type:e,key:o,ref:a,props:i,_owner:o0.current}}function vF(e,t){return{$$typeof:ru,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function a0(e){return typeof e=="object"&&e!==null&&e.$$typeof===ru}function _F(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var nE=/\/+/g;function jv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_F(""+e.key):t.toString(36)}function th(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ru:case IS:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+jv(a,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(nE,"$&/")+"/"),th(i,t,r,"",function(c){return c})):i!=null&&(a0(i)&&(i=vF(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(nE,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(e))for(var s=0;s<e.length;s++){o=e[s];var f=n+jv(o,s);a+=th(o,t,r,f,i)}else if(f=pF(e),typeof f=="function")for(e=f.call(e),s=0;!(o=e.next()).done;)o=o.value,f=n+jv(o,s++),a+=th(o,t,r,f,i);else if(o==="object")throw t=""+e,Error(tf(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function vc(e,t,r){if(e==null)return e;var n=[],i=0;return th(e,n,"","",function(o){return t.call(r,o,i++)}),n}function mF(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var DS={current:null};function Wi(){var e=DS.current;if(e===null)throw Error(tf(321));return e}var gF={ReactCurrentDispatcher:DS,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:o0,IsSomeRendererActing:{current:!1},assign:r0};ot.Children={map:vc,forEach:function(e,t,r){vc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vc(e,function(){t++}),t},toArray:function(e){return vc(e,function(t){return t})||[]},only:function(e){if(!a0(e))throw Error(tf(143));return e}};ot.Component=nu;ot.PureComponent=n0;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gF;ot.cloneElement=function(e,t,r){if(e==null)throw Error(tf(267,e));var n=r0({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=o0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(f in t)US.call(t,f)&&!BS.hasOwnProperty(f)&&(n[f]=t[f]===void 0&&s!==void 0?s[f]:t[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){s=Array(f);for(var c=0;c<f;c++)s[c]=arguments[c+2];n.children=s}return{$$typeof:ru,type:e.type,key:i,ref:o,props:n,_owner:a}};ot.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:NS,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:RS,_context:e},e.Consumer=e};ot.createElement=MS;ot.createFactory=function(e){var t=MS.bind(null,e);return t.type=e,t};ot.createRef=function(){return{current:null}};ot.forwardRef=function(e){return{$$typeof:AS,render:e}};ot.isValidElement=a0;ot.lazy=function(e){return{$$typeof:OS,_payload:{_status:-1,_result:e},_init:mF}};ot.memo=function(e,t){return{$$typeof:PS,type:e,compare:t===void 0?null:t}};ot.useCallback=function(e,t){return Wi().useCallback(e,t)};ot.useContext=function(e,t){return Wi().useContext(e,t)};ot.useDebugValue=function(){};ot.useEffect=function(e,t){return Wi().useEffect(e,t)};ot.useImperativeHandle=function(e,t,r){return Wi().useImperativeHandle(e,t,r)};ot.useLayoutEffect=function(e,t){return Wi().useLayoutEffect(e,t)};ot.useMemo=function(e,t){return Wi().useMemo(e,t)};ot.useReducer=function(e,t,r){return Wi().useReducer(e,t,r)};ot.useRef=function(e){return Wi().useRef(e)};ot.useState=function(e){return Wi().useState(e)};ot.version="17.0.2";Dt.exports=ot;var be=Dt.exports,s0={exports:{}},Pn={},GS={exports:{}},HS={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var f=null,c=null,h=function(){if(f!==null)try{var V=e.unstable_now();f(!0,V),f=null}catch(ne){throw setTimeout(h,0),ne}};t=function(V){f!==null?setTimeout(t,0,V):(f=V,setTimeout(h,0))},r=function(V,ne){c=setTimeout(V,ne)},n=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,v=window.clearTimeout;if(typeof console!="undefined"){var _=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof _!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,E=null,g=-1,x=5,w=0;e.unstable_shouldYield=function(){return e.unstable_now()>=w},i=function(){},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<V?Math.floor(1e3/V):5};var I=new MessageChannel,P=I.port2;I.port1.onmessage=function(){if(E!==null){var V=e.unstable_now();w=V+x;try{E(!0,V)?P.postMessage(null):(y=!1,E=null)}catch(ne){throw P.postMessage(null),ne}}else y=!1},t=function(V){E=V,y||(y=!0,P.postMessage(null))},r=function(V,ne){g=p(function(){V(e.unstable_now())},ne)},n=function(){v(g),g=-1}}function N(V,ne){var ce=V.length;V.push(ne);e:for(;;){var Se=ce-1>>>1,ke=V[Se];if(ke!==void 0&&0<X(ke,ne))V[Se]=ne,V[ce]=ke,ce=Se;else break e}}function R(V){return V=V[0],V===void 0?null:V}function M(V){var ne=V[0];if(ne!==void 0){var ce=V.pop();if(ce!==ne){V[0]=ce;e:for(var Se=0,ke=V.length;Se<ke;){var Me=2*(Se+1)-1,st=V[Me],ut=Me+1,Ye=V[ut];if(st!==void 0&&0>X(st,ce))Ye!==void 0&&0>X(Ye,st)?(V[Se]=Ye,V[ut]=ce,Se=ut):(V[Se]=st,V[Me]=ce,Se=Me);else if(Ye!==void 0&&0>X(Ye,ce))V[Se]=Ye,V[ut]=ce,Se=ut;else break e}}return ne}return null}function X(V,ne){var ce=V.sortIndex-ne.sortIndex;return ce!==0?ce:V.id-ne.id}var D=[],W=[],de=1,ue=null,pe=3,We=!1,le=!1,fe=!1;function Ee(V){for(var ne=R(W);ne!==null;){if(ne.callback===null)M(W);else if(ne.startTime<=V)M(W),ne.sortIndex=ne.expirationTime,N(D,ne);else break;ne=R(W)}}function Fe(V){if(fe=!1,Ee(V),!le)if(R(D)!==null)le=!0,t(dt);else{var ne=R(W);ne!==null&&r(Fe,ne.startTime-V)}}function dt(V,ne){le=!1,fe&&(fe=!1,n()),We=!0;var ce=pe;try{for(Ee(ne),ue=R(D);ue!==null&&(!(ue.expirationTime>ne)||V&&!e.unstable_shouldYield());){var Se=ue.callback;if(typeof Se=="function"){ue.callback=null,pe=ue.priorityLevel;var ke=Se(ue.expirationTime<=ne);ne=e.unstable_now(),typeof ke=="function"?ue.callback=ke:ue===R(D)&&M(D),Ee(ne)}else M(D);ue=R(D)}if(ue!==null)var Me=!0;else{var st=R(W);st!==null&&r(Fe,st.startTime-ne),Me=!1}return Me}finally{ue=null,pe=ce,We=!1}}var Z=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){le||We||(le=!0,t(dt))},e.unstable_getCurrentPriorityLevel=function(){return pe},e.unstable_getFirstCallbackNode=function(){return R(D)},e.unstable_next=function(V){switch(pe){case 1:case 2:case 3:var ne=3;break;default:ne=pe}var ce=pe;pe=ne;try{return V()}finally{pe=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=Z,e.unstable_runWithPriority=function(V,ne){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ce=pe;pe=V;try{return ne()}finally{pe=ce}},e.unstable_scheduleCallback=function(V,ne,ce){var Se=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?Se+ce:Se):ce=Se,V){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=ce+ke,V={id:de++,callback:ne,priorityLevel:V,startTime:ce,expirationTime:ke,sortIndex:-1},ce>Se?(V.sortIndex=ce,N(W,V),R(D)===null&&V===R(W)&&(fe?n():fe=!0,r(Fe,ce-Se))):(V.sortIndex=ke,N(D,V),le||We||(le=!0,t(dt))),V},e.unstable_wrapCallback=function(V){var ne=pe;return function(){var ce=pe;pe=ne;try{return V.apply(this,arguments)}finally{pe=ce}}}})(HS);GS.exports=HS;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=Dt.exports,Ot=t0,lr=GS.exports;function oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!fd)throw Error(oe(227));var $S=new Set,Tl={};function Na(e,t){Vs(e,t),Vs(e+"Capture",t)}function Vs(e,t){for(Tl[e]=t,e=0;e<t.length;e++)$S.add(t[e])}var $i=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),yF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iE=Object.prototype.hasOwnProperty,oE={},aE={};function xF(e){return iE.call(aE,e)?!0:iE.call(oE,e)?!1:yF.test(e)?aE[e]=!0:(oE[e]=!0,!1)}function EF(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bF(e,t,r,n){if(t===null||typeof t=="undefined"||EF(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Br(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yr[e]=new Br(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yr[t]=new Br(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yr[e]=new Br(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yr[e]=new Br(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yr[e]=new Br(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yr[e]=new Br(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yr[e]=new Br(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yr[e]=new Br(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yr[e]=new Br(e,5,!1,e.toLowerCase(),null,!1,!1)});var u0=/[\-:]([a-z])/g;function l0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(u0,l0);yr[t]=new Br(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(u0,l0);yr[t]=new Br(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(u0,l0);yr[t]=new Br(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yr[e]=new Br(e,1,!1,e.toLowerCase(),null,!1,!1)});yr.xlinkHref=new Br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yr[e]=new Br(e,1,!1,e.toLowerCase(),null,!0,!0)});function f0(e,t,r,n){var i=yr.hasOwnProperty(t)?yr[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(bF(t,r,i,n)&&(r=null),n||i===null?xF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Aa=fd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=60103,da=60106,fo=60107,c0=60108,ul=60114,h0=60109,d0=60110,cd=60112,ll=60113,bh=60120,hd=60115,p0=60116,v0=60121,_0=60128,XS=60129,m0=60130,cm=60131;if(typeof Symbol=="function"&&Symbol.for){var sr=Symbol.for;rl=sr("react.element"),da=sr("react.portal"),fo=sr("react.fragment"),c0=sr("react.strict_mode"),ul=sr("react.profiler"),h0=sr("react.provider"),d0=sr("react.context"),cd=sr("react.forward_ref"),ll=sr("react.suspense"),bh=sr("react.suspense_list"),hd=sr("react.memo"),p0=sr("react.lazy"),v0=sr("react.block"),sr("react.scope"),_0=sr("react.opaque.id"),XS=sr("react.debug_trace_mode"),m0=sr("react.offscreen"),cm=sr("react.legacy_hidden")}var sE=typeof Symbol=="function"&&Symbol.iterator;function ku(e){return e===null||typeof e!="object"?null:(e=sE&&e[sE]||e["@@iterator"],typeof e=="function"?e:null)}var zv;function nl(e){if(zv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zv=t&&t[1]||""}return`
`+zv+e}var Wv=!1;function _c(e,t){if(!e||Wv)return"";Wv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=s);break}}}finally{Wv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nl(e):""}function wF(e){switch(e.tag){case 5:return nl(e.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return e=_c(e.type,!1),e;case 11:return e=_c(e.type.render,!1),e;case 22:return e=_c(e.type._render,!1),e;case 1:return e=_c(e.type,!0),e;default:return""}}function Rs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fo:return"Fragment";case da:return"Portal";case ul:return"Profiler";case c0:return"StrictMode";case ll:return"Suspense";case bh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case d0:return(e.displayName||"Context")+".Consumer";case h0:return(e._context.displayName||"Context")+".Provider";case cd:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case hd:return Rs(e.type);case v0:return Rs(e._render);case p0:t=e._payload,e=e._init;try{return Rs(e(t))}catch{}}return null}function Io(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function VS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TF(e){var t=VS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mc(e){e._valueTracker||(e._valueTracker=TF(e))}function jS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=VS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wh(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function hm(e,t){var r=t.checked;return Ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function uE(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Io(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zS(e,t){t=t.checked,t!=null&&f0(e,"checked",t,!1)}function dm(e,t){zS(e,t);var r=Io(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pm(e,t.type,r):t.hasOwnProperty("defaultValue")&&pm(e,t.type,Io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pm(e,t,r){(t!=="number"||wh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function SF(e){var t="";return fd.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function vm(e,t){return e=Ot({children:void 0},t),(t=SF(t.children))&&(e.children=t),e}function Ns(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Io(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function _m(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fE(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(oe(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Io(r)}}function WS(e,t){var r=Io(t.value),n=Io(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function cE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var mm={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function YS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gc,qS=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==mm.svg||"innerHTML"in e)e.innerHTML=t;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CF=["Webkit","ms","Moz","O"];Object.keys(fl).forEach(function(e){CF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fl[t]=fl[e]})});function KS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fl.hasOwnProperty(e)&&fl[e]?(""+t).trim():t+"px"}function ZS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=KS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var IF=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ym(e,t){if(t){if(IF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(oe(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(oe(62))}}function xm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function g0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Em=null,As=null,Ps=null;function hE(e){if(e=nf(e)){if(typeof Em!="function")throw Error(oe(280));var t=e.stateNode;t&&(t=gd(t),Em(e.stateNode,e.type,t))}}function JS(e){As?Ps?Ps.push(e):Ps=[e]:As=e}function QS(){if(As){var e=As,t=Ps;if(Ps=As=null,hE(e),t)for(e=0;e<t.length;e++)hE(t[e])}}function y0(e,t){return e(t)}function eC(e,t,r,n,i){return e(t,r,n,i)}function x0(){}var tC=y0,pa=!1,Yv=!1;function E0(){(As!==null||Ps!==null)&&(x0(),QS())}function RF(e,t,r){if(Yv)return e(t,r);Yv=!0;try{return tC(e,t,r)}finally{Yv=!1,E0()}}function Cl(e,t){var r=e.stateNode;if(r===null)return null;var n=gd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(oe(231,t,typeof r));return r}var bm=!1;if($i)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){bm=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{bm=!1}function NF(e,t,r,n,i,o,a,s,f){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(h){this.onError(h)}}var cl=!1,Th=null,Sh=!1,wm=null,AF={onError:function(e){cl=!0,Th=e}};function PF(e,t,r,n,i,o,a,s,f){cl=!1,Th=null,NF.apply(AF,arguments)}function OF(e,t,r,n,i,o,a,s,f){if(PF.apply(this,arguments),cl){if(cl){var c=Th;cl=!1,Th=null}else throw Error(oe(198));Sh||(Sh=!0,wm=c)}}function Pa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dE(e){if(Pa(e)!==e)throw Error(oe(188))}function LF(e){var t=e.alternate;if(!t){if(t=Pa(e),t===null)throw Error(oe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return dE(i),e;if(o===n)return dE(i),t;o=o.sibling}throw Error(oe(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(oe(189))}}if(r.alternate!==n)throw Error(oe(190))}if(r.tag!==3)throw Error(oe(188));return r.stateNode.current===r?e:t}function nC(e){if(e=LF(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function pE(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var iC,b0,oC,aC,Tm=!1,ii=[],go=null,yo=null,xo=null,Il=new Map,Rl=new Map,Uu=[],vE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sm(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function _E(e,t){switch(e){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":xo=null;break;case"pointerover":case"pointerout":Il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(t.pointerId)}}function Bu(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=Sm(t,r,n,i,o),t!==null&&(t=nf(t),t!==null&&b0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kF(e,t,r,n,i){switch(t){case"focusin":return go=Bu(go,e,t,r,n,i),!0;case"dragenter":return yo=Bu(yo,e,t,r,n,i),!0;case"mouseover":return xo=Bu(xo,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Il.set(o,Bu(Il.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Rl.set(o,Bu(Rl.get(o)||null,e,t,r,n,i)),!0}return!1}function FF(e){var t=va(e.target);if(t!==null){var r=Pa(t);if(r!==null){if(t=r.tag,t===13){if(t=rC(r),t!==null){e.blockedOn=t,aC(e.lanePriority,function(){lr.unstable_runWithPriority(e.priority,function(){oC(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=C0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=nf(r),t!==null&&b0(t),e.blockedOn=r,!1;t.shift()}return!0}function mE(e,t,r){rh(e)&&r.delete(t)}function UF(){for(Tm=!1;0<ii.length;){var e=ii[0];if(e.blockedOn!==null){e=nf(e.blockedOn),e!==null&&iC(e);break}for(var t=e.targetContainers;0<t.length;){var r=C0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&ii.shift()}go!==null&&rh(go)&&(go=null),yo!==null&&rh(yo)&&(yo=null),xo!==null&&rh(xo)&&(xo=null),Il.forEach(mE),Rl.forEach(mE)}function Mu(e,t){e.blockedOn===t&&(e.blockedOn=null,Tm||(Tm=!0,lr.unstable_scheduleCallback(lr.unstable_NormalPriority,UF)))}function sC(e){function t(i){return Mu(i,e)}if(0<ii.length){Mu(ii[0],e);for(var r=1;r<ii.length;r++){var n=ii[r];n.blockedOn===e&&(n.blockedOn=null)}}for(go!==null&&Mu(go,e),yo!==null&&Mu(yo,e),xo!==null&&Mu(xo,e),Il.forEach(t),Rl.forEach(t),r=0;r<Uu.length;r++)n=Uu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Uu.length&&(r=Uu[0],r.blockedOn===null);)FF(r),r.blockedOn===null&&Uu.shift()}function yc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vs={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},qv={},uC={};$i&&(uC=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function dd(e){if(qv[e])return qv[e];if(!vs[e])return e;var t=vs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uC)return qv[e]=t[r];return e}var lC=dd("animationend"),fC=dd("animationiteration"),cC=dd("animationstart"),hC=dd("transitionend"),dC=new Map,w0=new Map,BF=["abort","abort",lC,"animationEnd",fC,"animationIteration",cC,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",hC,"transitionEnd","waiting","waiting"];function T0(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),w0.set(n,t),dC.set(n,i),Na(i,[n])}}var MF=lr.unstable_now;MF();var Et=8;function hs(e){if((1&e)!==0)return Et=15,1;if((2&e)!==0)return Et=14,2;if((4&e)!==0)return Et=13,4;var t=24&e;return t!==0?(Et=12,t):(e&32)!==0?(Et=11,32):(t=192&e,t!==0?(Et=10,t):(e&256)!==0?(Et=9,256):(t=3584&e,t!==0?(Et=8,t):(e&4096)!==0?(Et=7,4096):(t=4186112&e,t!==0?(Et=6,t):(t=62914560&e,t!==0?(Et=5,t):e&67108864?(Et=4,67108864):(e&134217728)!==0?(Et=3,134217728):(t=805306368&e,t!==0?(Et=2,t):(1073741824&e)!==0?(Et=1,1073741824):(Et=8,e))))))}function DF(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function GF(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(oe(358,e))}}function Nl(e,t){var r=e.pendingLanes;if(r===0)return Et=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(o!==0)n=o,i=Et=15;else if(o=r&134217727,o!==0){var f=o&~a;f!==0?(n=hs(f),i=Et):(s&=o,s!==0&&(n=hs(s),i=Et))}else o=r&~a,o!==0?(n=hs(o),i=Et):s!==0&&(n=hs(s),i=Et);if(n===0)return 0;if(n=31-Ro(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&a)===0){if(hs(t),i<=Et)return t;Et=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ro(t),i=1<<r,n|=e[r],t&=~i;return n}function pC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ch(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=ds(24&~t),e===0?Ch(10,t):e;case 10:return e=ds(192&~t),e===0?Ch(8,t):e;case 8:return e=ds(3584&~t),e===0&&(e=ds(4186112&~t),e===0&&(e=512)),e;case 2:return t=ds(805306368&~t),t===0&&(t=268435456),t}throw Error(oe(358,e))}function ds(e){return e&-e}function Kv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function pd(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-Ro(t),e[t]=r}var Ro=Math.clz32?Math.clz32:XF,HF=Math.log,$F=Math.LN2;function XF(e){return e===0?32:31-(HF(e)/$F|0)|0}var VF=lr.unstable_UserBlockingPriority,jF=lr.unstable_runWithPriority,nh=!0;function zF(e,t,r,n){pa||x0();var i=S0,o=pa;pa=!0;try{eC(i,e,t,r,n)}finally{(pa=o)||E0()}}function WF(e,t,r,n){jF(VF,S0.bind(null,e,t,r,n))}function S0(e,t,r,n){if(nh){var i;if((i=(t&4)===0)&&0<ii.length&&-1<vE.indexOf(e))e=Sm(null,e,t,r,n),ii.push(e);else{var o=C0(e,t,r,n);if(o===null)i&&_E(e,n);else{if(i){if(-1<vE.indexOf(e)){e=Sm(o,e,t,r,n),ii.push(e);return}if(kF(o,e,t,r,n))return;_E(e,n)}IC(e,t,n,null,r)}}}}function C0(e,t,r,n){var i=g0(n);if(i=va(i),i!==null){var o=Pa(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=rC(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return IC(e,t,n,i,r),null}var ho=null,I0=null,ih=null;function vC(){if(ih)return ih;var e,t=I0,r=t.length,n,i="value"in ho?ho.value:ho.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return ih=i.slice(e,1<n?1-n:void 0)}function oh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xc(){return!0}function gE(){return!1}function cn(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xc:gE,this.isPropagationStopped=gE,this}return Ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),t}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R0=cn(iu),rf=Ot({},iu,{view:0,detail:0}),YF=cn(rf),Zv,Jv,Du,vd=Ot({},rf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:N0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Du&&(Du&&e.type==="mousemove"?(Zv=e.screenX-Du.screenX,Jv=e.screenY-Du.screenY):Jv=Zv=0,Du=e),Zv)},movementY:function(e){return"movementY"in e?e.movementY:Jv}}),yE=cn(vd),qF=Ot({},vd,{dataTransfer:0}),KF=cn(qF),ZF=Ot({},rf,{relatedTarget:0}),Qv=cn(ZF),JF=Ot({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),QF=cn(JF),eU=Ot({},iu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tU=cn(eU),rU=Ot({},iu,{data:0}),xE=cn(rU),nU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oU[e])?!!t[e]:!1}function N0(){return aU}var sU=Ot({},rf,{key:function(e){if(e.key){var t=nU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:N0,charCode:function(e){return e.type==="keypress"?oh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uU=cn(sU),lU=Ot({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EE=cn(lU),fU=Ot({},rf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:N0}),cU=cn(fU),hU=Ot({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),dU=cn(hU),pU=Ot({},vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vU=cn(pU),_U=[9,13,27,32],A0=$i&&"CompositionEvent"in window,hl=null;$i&&"documentMode"in document&&(hl=document.documentMode);var mU=$i&&"TextEvent"in window&&!hl,_C=$i&&(!A0||hl&&8<hl&&11>=hl),bE=String.fromCharCode(32),wE=!1;function mC(e,t){switch(e){case"keyup":return _U.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _s=!1;function gU(e,t){switch(e){case"compositionend":return gC(t);case"keypress":return t.which!==32?null:(wE=!0,bE);case"textInput":return e=t.data,e===bE&&wE?null:e;default:return null}}function yU(e,t){if(_s)return e==="compositionend"||!A0&&mC(e,t)?(e=vC(),ih=I0=ho=null,_s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _C&&t.locale!=="ko"?null:t.data;default:return null}}var xU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function TE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xU[e.type]:t==="textarea"}function yC(e,t,r,n){JS(n),t=Ih(t,"onChange"),0<t.length&&(r=new R0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dl=null,Al=null;function EU(e){TC(e,0)}function _d(e){var t=gs(e);if(jS(t))return e}function bU(e,t){if(e==="change")return t}var xC=!1;if($i){var e_;if($i){var t_="oninput"in document;if(!t_){var SE=document.createElement("div");SE.setAttribute("oninput","return;"),t_=typeof SE.oninput=="function"}e_=t_}else e_=!1;xC=e_&&(!document.documentMode||9<document.documentMode)}function CE(){dl&&(dl.detachEvent("onpropertychange",EC),Al=dl=null)}function EC(e){if(e.propertyName==="value"&&_d(Al)){var t=[];if(yC(t,Al,e,g0(e)),e=EU,pa)e(t);else{pa=!0;try{y0(e,t)}finally{pa=!1,E0()}}}}function wU(e,t,r){e==="focusin"?(CE(),dl=t,Al=r,dl.attachEvent("onpropertychange",EC)):e==="focusout"&&CE()}function TU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _d(Al)}function SU(e,t){if(e==="click")return _d(t)}function CU(e,t){if(e==="input"||e==="change")return _d(t)}function IU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sn=typeof Object.is=="function"?Object.is:IU,RU=Object.prototype.hasOwnProperty;function Pl(e,t){if(Sn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!RU.call(t,r[n])||!Sn(e[r[n]],t[r[n]]))return!1;return!0}function IE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function RE(e,t){var r=IE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=IE(r)}}function bC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NE(){for(var e=window,t=wh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wh(e.document)}return t}function Cm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var NU=$i&&"documentMode"in document&&11>=document.documentMode,ms=null,Im=null,pl=null,Rm=!1;function AE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rm||ms==null||ms!==wh(n)||(n=ms,"selectionStart"in n&&Cm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pl&&Pl(pl,n)||(pl=n,n=Ih(Im,"onSelect"),0<n.length&&(t=new R0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ms)))}T0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);T0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);T0(BF,2);for(var PE="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),r_=0;r_<PE.length;r_++)w0.set(PE[r_],0);Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);Na("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Na("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Na("onBeforeInput",["compositionend","keypress","textInput","paste"]);Na("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Na("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function OE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,OF(n,t,void 0,e),e.currentTarget=null}function TC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],f=s.instance,c=s.currentTarget;if(s=s.listener,f!==o&&i.isPropagationStopped())break e;OE(i,s,c),o=f}else for(a=0;a<n.length;a++){if(s=n[a],f=s.instance,c=s.currentTarget,s=s.listener,f!==o&&i.isPropagationStopped())break e;OE(i,s,c),o=f}}}if(Sh)throw e=wm,Sh=!1,wm=null,e}function St(e,t){var r=NC(t),n=e+"__bubble";r.has(n)||(CC(t,e,2,!1),r.add(n))}var LE="_reactListening"+Math.random().toString(36).slice(2);function SC(e){e[LE]||(e[LE]=!0,$S.forEach(function(t){wC.has(t)||kE(t,!1,e,null),kE(t,!0,e,null)}))}function kE(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&wC.has(e)){if(e!=="scroll")return;i|=2,o=n}var a=NC(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),CC(o,e,i,t),a.add(s))}function CC(e,t,r,n){var i=w0.get(t);switch(i===void 0?2:i){case 0:i=zF;break;case 1:i=WF;break;default:i=S0}r=i.bind(null,t,r,e),i=void 0,!bm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function IC(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;a=a.return}for(;s!==null;){if(a=va(s),a===null)return;if(f=a.tag,f===5||f===6){n=o=a;continue e}s=s.parentNode}}n=n.return}RF(function(){var c=o,h=g0(r),p=[];e:{var v=dC.get(e);if(v!==void 0){var _=R0,y=e;switch(e){case"keypress":if(oh(r)===0)break e;case"keydown":case"keyup":_=uU;break;case"focusin":y="focus",_=Qv;break;case"focusout":y="blur",_=Qv;break;case"beforeblur":case"afterblur":_=Qv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=yE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=KF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=cU;break;case lC:case fC:case cC:_=QF;break;case hC:_=dU;break;case"scroll":_=YF;break;case"wheel":_=vU;break;case"copy":case"cut":case"paste":_=tU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=EE}var E=(t&4)!==0,g=!E&&e==="scroll",x=E?v!==null?v+"Capture":null:v;E=[];for(var w=c,I;w!==null;){I=w;var P=I.stateNode;if(I.tag===5&&P!==null&&(I=P,x!==null&&(P=Cl(w,x),P!=null&&E.push(Ol(w,P,I)))),g)break;w=w.return}0<E.length&&(v=new _(v,y,null,r,h),p.push({event:v,listeners:E}))}}if((t&7)===0){e:{if(v=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",v&&(t&16)===0&&(y=r.relatedTarget||r.fromElement)&&(va(y)||y[ou]))break e;if((_||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,_?(y=r.relatedTarget||r.toElement,_=c,y=y?va(y):null,y!==null&&(g=Pa(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(_=null,y=c),_!==y)){if(E=yE,P="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(E=EE,P="onPointerLeave",x="onPointerEnter",w="pointer"),g=_==null?v:gs(_),I=y==null?v:gs(y),v=new E(P,w+"leave",_,r,h),v.target=g,v.relatedTarget=I,P=null,va(h)===c&&(E=new E(x,w+"enter",y,r,h),E.target=I,E.relatedTarget=g,P=E),g=P,_&&y)t:{for(E=_,x=y,w=0,I=E;I;I=ns(I))w++;for(I=0,P=x;P;P=ns(P))I++;for(;0<w-I;)E=ns(E),w--;for(;0<I-w;)x=ns(x),I--;for(;w--;){if(E===x||x!==null&&E===x.alternate)break t;E=ns(E),x=ns(x)}E=null}else E=null;_!==null&&FE(p,v,_,E,!1),y!==null&&g!==null&&FE(p,g,y,E,!0)}}e:{if(v=c?gs(c):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var N=bU;else if(TE(v))if(xC)N=CU;else{N=TU;var R=wU}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=SU);if(N&&(N=N(e,c))){yC(p,N,r,h);break e}R&&R(e,v,c),e==="focusout"&&(R=v._wrapperState)&&R.controlled&&v.type==="number"&&pm(v,"number",v.value)}switch(R=c?gs(c):window,e){case"focusin":(TE(R)||R.contentEditable==="true")&&(ms=R,Im=c,pl=null);break;case"focusout":pl=Im=ms=null;break;case"mousedown":Rm=!0;break;case"contextmenu":case"mouseup":case"dragend":Rm=!1,AE(p,r,h);break;case"selectionchange":if(NU)break;case"keydown":case"keyup":AE(p,r,h)}var M;if(A0)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else _s?mC(e,r)&&(X="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(X="onCompositionStart");X&&(_C&&r.locale!=="ko"&&(_s||X!=="onCompositionStart"?X==="onCompositionEnd"&&_s&&(M=vC()):(ho=h,I0="value"in ho?ho.value:ho.textContent,_s=!0)),R=Ih(c,X),0<R.length&&(X=new xE(X,e,null,r,h),p.push({event:X,listeners:R}),M?X.data=M:(M=gC(r),M!==null&&(X.data=M)))),(M=mU?gU(e,r):yU(e,r))&&(c=Ih(c,"onBeforeInput"),0<c.length&&(h=new xE("onBeforeInput","beforeinput",null,r,h),p.push({event:h,listeners:c}),h.data=M))}TC(p,t)})}function Ol(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ih(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Cl(e,r),o!=null&&n.unshift(Ol(e,o,i)),o=Cl(e,t),o!=null&&n.push(Ol(e,o,i))),e=e.return}return n}function ns(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FE(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var s=r,f=s.alternate,c=s.stateNode;if(f!==null&&f===n)break;s.tag===5&&c!==null&&(s=c,i?(f=Cl(r,o),f!=null&&a.unshift(Ol(r,f,s))):i||(f=Cl(r,o),f!=null&&a.push(Ol(r,f,s)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}function Rh(){}var n_=null,i_=null;function RC(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Nm(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var UE=typeof setTimeout=="function"?setTimeout:void 0,AU=typeof clearTimeout=="function"?clearTimeout:void 0;function P0(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function Os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function BE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var o_=0;function PU(e){return{$$typeof:_0,toString:e,valueOf:e}}var md=Math.random().toString(36).slice(2),po="__reactFiber$"+md,Nh="__reactProps$"+md,ou="__reactContainer$"+md,ME="__reactEvents$"+md;function va(e){var t=e[po];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ou]||r[po]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=BE(e);e!==null;){if(r=e[po])return r;e=BE(e)}return t}e=r,r=e.parentNode}return null}function nf(e){return e=e[po]||e[ou],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(oe(33))}function gd(e){return e[Nh]||null}function NC(e){var t=e[ME];return t===void 0&&(t=e[ME]=new Set),t}var Am=[],ys=-1;function Bo(e){return{current:e}}function Ct(e){0>ys||(e.current=Am[ys],Am[ys]=null,ys--)}function Xt(e,t){ys++,Am[ys]=e.current,e.current=t}var No={},Pr=Bo(No),zr=Bo(!1),Ea=No;function js(e,t){var r=e.type.contextTypes;if(!r)return No;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Wr(e){return e=e.childContextTypes,e!=null}function Ah(){Ct(zr),Ct(Pr)}function DE(e,t,r){if(Pr.current!==No)throw Error(oe(168));Xt(Pr,t),Xt(zr,r)}function AC(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(oe(108,Rs(t)||"Unknown",i));return Ot({},r,n)}function ah(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||No,Ea=Pr.current,Xt(Pr,e),Xt(zr,zr.current),!0}function GE(e,t,r){var n=e.stateNode;if(!n)throw Error(oe(169));r?(e=AC(e,t,Ea),n.__reactInternalMemoizedMergedChildContext=e,Ct(zr),Ct(Pr),Xt(Pr,e)):Ct(zr),Xt(zr,r)}var O0=null,ga=null,OU=lr.unstable_runWithPriority,L0=lr.unstable_scheduleCallback,Pm=lr.unstable_cancelCallback,LU=lr.unstable_shouldYield,HE=lr.unstable_requestPaint,Om=lr.unstable_now,kU=lr.unstable_getCurrentPriorityLevel,yd=lr.unstable_ImmediatePriority,PC=lr.unstable_UserBlockingPriority,OC=lr.unstable_NormalPriority,LC=lr.unstable_LowPriority,kC=lr.unstable_IdlePriority,a_={},FU=HE!==void 0?HE:function(){},Li=null,sh=null,s_=!1,$E=Om(),Rr=1e4>$E?Om:function(){return Om()-$E};function zs(){switch(kU()){case yd:return 99;case PC:return 98;case OC:return 97;case LC:return 96;case kC:return 95;default:throw Error(oe(332))}}function FC(e){switch(e){case 99:return yd;case 98:return PC;case 97:return OC;case 96:return LC;case 95:return kC;default:throw Error(oe(332))}}function ba(e,t){return e=FC(e),OU(e,t)}function Ll(e,t,r){return e=FC(e),L0(e,t,r)}function pi(){if(sh!==null){var e=sh;sh=null,Pm(e)}UC()}function UC(){if(!s_&&Li!==null){s_=!0;var e=0;try{var t=Li;ba(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Li=null}catch(r){throw Li!==null&&(Li=Li.slice(e+1)),L0(yd,pi),r}finally{s_=!1}}}var UU=Aa.ReactCurrentBatchConfig;function Xn(e,t){if(e&&e.defaultProps){t=Ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Ph=Bo(null),Oh=null,xs=null,Lh=null;function k0(){Lh=xs=Oh=null}function F0(e){var t=Ph.current;Ct(Ph),e.type._context._currentValue=t}function BC(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function Ls(e,t){Oh=e,Lh=xs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(jn=!0),e.firstContext=null)}function Rn(e,t){if(Lh!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Lh=e,t=1073741823),t={context:e,observedBits:t,next:null},xs===null){if(Oh===null)throw Error(oe(308));xs=t,Oh.dependencies={lanes:0,firstContext:t,responders:null}}else xs=xs.next=t;return e._currentValue}var uo=!1;function U0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function MC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Eo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bo(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function XE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kl(e,t,r,n){var i=e.updateQueue;uo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var f=s,c=f.next;f.next=null,a===null?o=c:a.next=c,a=f;var h=e.alternate;if(h!==null){h=h.updateQueue;var p=h.lastBaseUpdate;p!==a&&(p===null?h.firstBaseUpdate=c:p.next=c,h.lastBaseUpdate=f)}}if(o!==null){p=i.baseState,a=0,h=c=f=null;do{s=o.lane;var v=o.eventTime;if((n&s)===s){h!==null&&(h=h.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,y=o;switch(s=t,v=r,y.tag){case 1:if(_=y.payload,typeof _=="function"){p=_.call(v,p,s);break e}p=_;break e;case 3:_.flags=_.flags&-4097|64;case 0:if(_=y.payload,s=typeof _=="function"?_.call(v,p,s):_,s==null)break e;p=Ot({},p,s);break e;case 2:uo=!0}}o.callback!==null&&(e.flags|=32,s=i.effects,s===null?i.effects=[o]:s.push(o))}else v={eventTime:v,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=v,f=p):h=h.next=v,a|=s;if(o=o.next,o===null){if(s=i.shared.pending,s===null)break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);h===null&&(f=p),i.baseState=f,i.firstBaseUpdate=c,i.lastBaseUpdate=h,af|=a,e.lanes=a,e.memoizedState=p}}function VE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(oe(191,i));i.call(n)}}}var DC=new fd.Component().refs;function kh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xd={isMounted:function(e){return(e=e._reactInternals)?Pa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=un(),i=wo(e),o=Eo(n,i);o.payload=t,r!=null&&(o.callback=r),bo(e,o),To(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=un(),i=wo(e),o=Eo(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),bo(e,o),To(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=un(),n=wo(e),i=Eo(r,n);i.tag=2,t!=null&&(i.callback=t),bo(e,i),To(e,n,r)}};function jE(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Pl(r,n)||!Pl(i,o):!0}function GC(e,t,r){var n=!1,i=No,o=t.contextType;return typeof o=="object"&&o!==null?o=Rn(o):(i=Wr(t)?Ea:Pr.current,n=t.contextTypes,o=(n=n!=null)?js(e,i):No),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xd,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function zE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xd.enqueueReplaceState(t,t.state,null)}function Lm(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=DC,U0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Rn(o):(o=Wr(t)?Ea:Pr.current,i.context=js(e,o)),kl(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(kh(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&xd.enqueueReplaceState(i,i.state,null),kl(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var Ec=Array.isArray;function Gu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(oe(309));var n=r.stateNode}if(!n)throw Error(oe(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=n.refs;a===DC&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(oe(284));if(!r._owner)throw Error(oe(290,e))}return e}function bc(e,t){if(e.type!=="textarea")throw Error(oe(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function HC(e){function t(g,x){if(e){var w=g.lastEffect;w!==null?(w.nextEffect=x,g.lastEffect=x):g.firstEffect=g.lastEffect=x,x.nextEffect=null,x.flags=8}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Po(g,x),g.index=0,g.sibling=null,g}function o(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags=2,x):w):(g.flags=2,x)):x}function a(g){return e&&g.alternate===null&&(g.flags=2),g}function s(g,x,w,I){return x===null||x.tag!==6?(x=h_(w,g.mode,I),x.return=g,x):(x=i(x,w),x.return=g,x)}function f(g,x,w,I){return x!==null&&x.elementType===w.type?(I=i(x,w.props),I.ref=Gu(g,x,w),I.return=g,I):(I=ch(w.type,w.key,w.props,null,g.mode,I),I.ref=Gu(g,x,w),I.return=g,I)}function c(g,x,w,I){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=d_(w,g.mode,I),x.return=g,x):(x=i(x,w.children||[]),x.return=g,x)}function h(g,x,w,I,P){return x===null||x.tag!==7?(x=Bs(w,g.mode,I,P),x.return=g,x):(x=i(x,w),x.return=g,x)}function p(g,x,w){if(typeof x=="string"||typeof x=="number")return x=h_(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case rl:return w=ch(x.type,x.key,x.props,null,g.mode,w),w.ref=Gu(g,null,x),w.return=g,w;case da:return x=d_(x,g.mode,w),x.return=g,x}if(Ec(x)||ku(x))return x=Bs(x,g.mode,w,null),x.return=g,x;bc(g,x)}return null}function v(g,x,w,I){var P=x!==null?x.key:null;if(typeof w=="string"||typeof w=="number")return P!==null?null:s(g,x,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rl:return w.key===P?w.type===fo?h(g,x,w.props.children,I,P):f(g,x,w,I):null;case da:return w.key===P?c(g,x,w,I):null}if(Ec(w)||ku(w))return P!==null?null:h(g,x,w,I,null);bc(g,w)}return null}function _(g,x,w,I,P){if(typeof I=="string"||typeof I=="number")return g=g.get(w)||null,s(x,g,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case rl:return g=g.get(I.key===null?w:I.key)||null,I.type===fo?h(x,g,I.props.children,P,I.key):f(x,g,I,P);case da:return g=g.get(I.key===null?w:I.key)||null,c(x,g,I,P)}if(Ec(I)||ku(I))return g=g.get(w)||null,h(x,g,I,P,null);bc(x,I)}return null}function y(g,x,w,I){for(var P=null,N=null,R=x,M=x=0,X=null;R!==null&&M<w.length;M++){R.index>M?(X=R,R=null):X=R.sibling;var D=v(g,R,w[M],I);if(D===null){R===null&&(R=X);break}e&&R&&D.alternate===null&&t(g,R),x=o(D,x,M),N===null?P=D:N.sibling=D,N=D,R=X}if(M===w.length)return r(g,R),P;if(R===null){for(;M<w.length;M++)R=p(g,w[M],I),R!==null&&(x=o(R,x,M),N===null?P=R:N.sibling=R,N=R);return P}for(R=n(g,R);M<w.length;M++)X=_(R,g,M,w[M],I),X!==null&&(e&&X.alternate!==null&&R.delete(X.key===null?M:X.key),x=o(X,x,M),N===null?P=X:N.sibling=X,N=X);return e&&R.forEach(function(W){return t(g,W)}),P}function E(g,x,w,I){var P=ku(w);if(typeof P!="function")throw Error(oe(150));if(w=P.call(w),w==null)throw Error(oe(151));for(var N=P=null,R=x,M=x=0,X=null,D=w.next();R!==null&&!D.done;M++,D=w.next()){R.index>M?(X=R,R=null):X=R.sibling;var W=v(g,R,D.value,I);if(W===null){R===null&&(R=X);break}e&&R&&W.alternate===null&&t(g,R),x=o(W,x,M),N===null?P=W:N.sibling=W,N=W,R=X}if(D.done)return r(g,R),P;if(R===null){for(;!D.done;M++,D=w.next())D=p(g,D.value,I),D!==null&&(x=o(D,x,M),N===null?P=D:N.sibling=D,N=D);return P}for(R=n(g,R);!D.done;M++,D=w.next())D=_(R,g,M,D.value,I),D!==null&&(e&&D.alternate!==null&&R.delete(D.key===null?M:D.key),x=o(D,x,M),N===null?P=D:N.sibling=D,N=D);return e&&R.forEach(function(de){return t(g,de)}),P}return function(g,x,w,I){var P=typeof w=="object"&&w!==null&&w.type===fo&&w.key===null;P&&(w=w.props.children);var N=typeof w=="object"&&w!==null;if(N)switch(w.$$typeof){case rl:e:{for(N=w.key,P=x;P!==null;){if(P.key===N){switch(P.tag){case 7:if(w.type===fo){r(g,P.sibling),x=i(P,w.props.children),x.return=g,g=x;break e}break;default:if(P.elementType===w.type){r(g,P.sibling),x=i(P,w.props),x.ref=Gu(g,P,w),x.return=g,g=x;break e}}r(g,P);break}else t(g,P);P=P.sibling}w.type===fo?(x=Bs(w.props.children,g.mode,I,w.key),x.return=g,g=x):(I=ch(w.type,w.key,w.props,null,g.mode,I),I.ref=Gu(g,x,w),I.return=g,g=I)}return a(g);case da:e:{for(P=w.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(g,x.sibling),x=i(x,w.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=d_(w,g.mode,I),x.return=g,g=x}return a(g)}if(typeof w=="string"||typeof w=="number")return w=""+w,x!==null&&x.tag===6?(r(g,x.sibling),x=i(x,w),x.return=g,g=x):(r(g,x),x=h_(w,g.mode,I),x.return=g,g=x),a(g);if(Ec(w))return y(g,x,w,I);if(ku(w))return E(g,x,w,I);if(N&&bc(g,w),typeof w=="undefined"&&!P)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(oe(152,Rs(g.type)||"Component"))}return r(g,x)}}var Fh=HC(!0),$C=HC(!1),of={},li=Bo(of),Fl=Bo(of),Ul=Bo(of);function _a(e){if(e===of)throw Error(oe(174));return e}function km(e,t){switch(Xt(Ul,t),Xt(Fl,e),Xt(li,of),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gm(t,e)}Ct(li),Xt(li,t)}function Ws(){Ct(li),Ct(Fl),Ct(Ul)}function WE(e){_a(Ul.current);var t=_a(li.current),r=gm(t,e.type);t!==r&&(Xt(Fl,e),Xt(li,r))}function B0(e){Fl.current===e&&(Ct(li),Ct(Fl))}var $t=Bo(0);function Uh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=null,vo=null,fi=!1;function XC(e,t){var r=Cn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function YE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Fm(e){if(fi){var t=vo;if(t){var r=t;if(!YE(e,t)){if(t=Os(r.nextSibling),!t||!YE(e,t)){e.flags=e.flags&-1025|2,fi=!1,Bi=e;return}XC(Bi,r)}Bi=e,vo=Os(t.firstChild)}else e.flags=e.flags&-1025|2,fi=!1,Bi=e}}function qE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bi=e}function wc(e){if(e!==Bi)return!1;if(!fi)return qE(e),fi=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Nm(t,e.memoizedProps))for(t=vo;t;)XC(e,t),t=Os(t.nextSibling);if(qE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vo=Os(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vo=null}}else vo=Bi?Os(e.stateNode.nextSibling):null;return!0}function u_(){vo=Bi=null,fi=!1}var ks=[];function M0(){for(var e=0;e<ks.length;e++)ks[e]._workInProgressVersionPrimary=null;ks.length=0}var vl=Aa.ReactCurrentDispatcher,In=Aa.ReactCurrentBatchConfig,Bl=0,Kt=null,Sr=null,_r=null,Bh=!1,_l=!1;function Xr(){throw Error(oe(321))}function D0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sn(e[r],t[r]))return!1;return!0}function G0(e,t,r,n,i,o){if(Bl=o,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vl.current=e===null||e.memoizedState===null?MU:DU,e=r(n,i),_l){o=0;do{if(_l=!1,!(25>o))throw Error(oe(301));o+=1,_r=Sr=null,t.updateQueue=null,vl.current=GU,e=r(n,i)}while(_l)}if(vl.current=Hh,t=Sr!==null&&Sr.next!==null,Bl=0,_r=Sr=Kt=null,Bh=!1,t)throw Error(oe(300));return e}function ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Kt.memoizedState=_r=e:_r=_r.next=e,_r}function Oa(){if(Sr===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Sr.next;var t=_r===null?Kt.memoizedState:_r.next;if(t!==null)_r=t,Sr=e;else{if(e===null)throw Error(oe(310));Sr=e,e={memoizedState:Sr.memoizedState,baseState:Sr.baseState,baseQueue:Sr.baseQueue,queue:Sr.queue,next:null},_r===null?Kt.memoizedState=_r=e:_r=_r.next=e}return _r}function oi(e,t){return typeof t=="function"?t(e):t}function Hu(e){var t=Oa(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=Sr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var s=a=o=null,f=i;do{var c=f.lane;if((Bl&c)===c)s!==null&&(s=s.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===e?f.eagerState:e(n,f.action);else{var h={lane:c,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};s===null?(a=s=h,o=n):s=s.next=h,Kt.lanes|=c,af|=c}f=f.next}while(f!==null&&f!==i);s===null?o=n:s.next=a,Sn(n,t.memoizedState)||(jn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=s,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function $u(e){var t=Oa(),r=t.queue;if(r===null)throw Error(oe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Sn(o,t.memoizedState)||(jn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function KE(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(Bl&e)===e)&&(t._workInProgressVersionPrimary=n,ks.push(t))),e)return r(t._source);throw ks.push(t),Error(oe(350))}function VC(e,t,r,n){var i=Ur;if(i===null)throw Error(oe(349));var o=t._getVersion,a=o(t._source),s=vl.current,f=s.useState(function(){return KE(i,t,r)}),c=f[1],h=f[0];f=_r;var p=e.memoizedState,v=p.refs,_=v.getSnapshot,y=p.source;p=p.subscribe;var E=Kt;return e.memoizedState={refs:v,source:t,subscribe:n},s.useEffect(function(){v.getSnapshot=r,v.setSnapshot=c;var g=o(t._source);if(!Sn(a,g)){g=r(t._source),Sn(h,g)||(c(g),g=wo(E),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var x=i.entanglements,w=g;0<w;){var I=31-Ro(w),P=1<<I;x[I]|=g,w&=~P}}},[r,t,n]),s.useEffect(function(){return n(t._source,function(){var g=v.getSnapshot,x=v.setSnapshot;try{x(g(t._source));var w=wo(E);i.mutableReadLanes|=w&i.pendingLanes}catch(I){x(function(){throw I})}})},[t,n]),Sn(_,r)&&Sn(y,t)&&Sn(p,n)||(e={pending:null,dispatch:null,lastRenderedReducer:oi,lastRenderedState:h},e.dispatch=c=X0.bind(null,Kt,e),f.queue=e,f.baseQueue=null,h=KE(i,t,r),f.memoizedState=f.baseState=h),h}function jC(e,t,r){var n=Oa();return VC(n,e,t,r)}function Xu(e){var t=ma();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:oi,lastRenderedState:e},e=e.dispatch=X0.bind(null,Kt,e),[t.memoizedState,e]}function Mh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Kt.updateQueue,t===null?(t={lastEffect:null},Kt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ZE(e){var t=ma();return e={current:e},t.memoizedState=e}function Dh(){return Oa().memoizedState}function Um(e,t,r,n){var i=ma();Kt.flags|=e,i.memoizedState=Mh(1|t,r,void 0,n===void 0?null:n)}function H0(e,t,r,n){var i=Oa();n=n===void 0?null:n;var o=void 0;if(Sr!==null){var a=Sr.memoizedState;if(o=a.destroy,n!==null&&D0(n,a.deps)){Mh(t,r,o,n);return}}Kt.flags|=e,i.memoizedState=Mh(1|t,r,o,n)}function JE(e,t){return Um(516,4,e,t)}function Gh(e,t){return H0(516,4,e,t)}function zC(e,t){return H0(4,2,e,t)}function WC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function YC(e,t,r){return r=r!=null?r.concat([e]):null,H0(4,2,WC.bind(null,t,e),r)}function $0(){}function qC(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function KC(e,t){var r=Oa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&D0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function BU(e,t){var r=zs();ba(98>r?98:r,function(){e(!0)}),ba(97<r?97:r,function(){var n=In.transition;In.transition=1;try{e(!1),t()}finally{In.transition=n}})}function X0(e,t,r){var n=un(),i=wo(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Kt||a!==null&&a===Kt)_l=Bh=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,f=a(s,r);if(o.eagerReducer=a,o.eagerState=f,Sn(f,s))return}catch{}finally{}To(e,i,n)}}var Hh={readContext:Rn,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useOpaqueIdentifier:Xr,unstable_isNewReconciler:!1},MU={readContext:Rn,useCallback:function(e,t){return ma().memoizedState=[e,t===void 0?null:t],e},useContext:Rn,useEffect:JE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Um(4,2,WC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Um(4,2,e,t)},useMemo:function(e,t){var r=ma();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ma();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=X0.bind(null,Kt,e),[n.memoizedState,e]},useRef:ZE,useState:Xu,useDebugValue:$0,useDeferredValue:function(e){var t=Xu(e),r=t[0],n=t[1];return JE(function(){var i=In.transition;In.transition=1;try{n(e)}finally{In.transition=i}},[e]),r},useTransition:function(){var e=Xu(!1),t=e[0];return e=BU.bind(null,e[1]),ZE(e),[e,t]},useMutableSource:function(e,t,r){var n=ma();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},VC(n,e,t,r)},useOpaqueIdentifier:function(){if(fi){var e=!1,t=PU(function(){throw e||(e=!0,r("r:"+(o_++).toString(36))),Error(oe(355))}),r=Xu(t)[1];return(Kt.mode&2)===0&&(Kt.flags|=516,Mh(5,function(){r("r:"+(o_++).toString(36))},void 0,null)),t}return t="r:"+(o_++).toString(36),Xu(t),t},unstable_isNewReconciler:!1},DU={readContext:Rn,useCallback:qC,useContext:Rn,useEffect:Gh,useImperativeHandle:YC,useLayoutEffect:zC,useMemo:KC,useReducer:Hu,useRef:Dh,useState:function(){return Hu(oi)},useDebugValue:$0,useDeferredValue:function(e){var t=Hu(oi),r=t[0],n=t[1];return Gh(function(){var i=In.transition;In.transition=1;try{n(e)}finally{In.transition=i}},[e]),r},useTransition:function(){var e=Hu(oi)[0];return[Dh().current,e]},useMutableSource:jC,useOpaqueIdentifier:function(){return Hu(oi)[0]},unstable_isNewReconciler:!1},GU={readContext:Rn,useCallback:qC,useContext:Rn,useEffect:Gh,useImperativeHandle:YC,useLayoutEffect:zC,useMemo:KC,useReducer:$u,useRef:Dh,useState:function(){return $u(oi)},useDebugValue:$0,useDeferredValue:function(e){var t=$u(oi),r=t[0],n=t[1];return Gh(function(){var i=In.transition;In.transition=1;try{n(e)}finally{In.transition=i}},[e]),r},useTransition:function(){var e=$u(oi)[0];return[Dh().current,e]},useMutableSource:jC,useOpaqueIdentifier:function(){return $u(oi)[0]},unstable_isNewReconciler:!1},HU=Aa.ReactCurrentOwner,jn=!1;function Vr(e,t,r,n){t.child=e===null?$C(t,null,r,n):Fh(t,e.child,r,n)}function QE(e,t,r,n,i){r=r.render;var o=t.ref;return Ls(t,i),n=G0(e,t,r,n,o,i),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Mi(e,t,i)):(t.flags|=1,Vr(e,t,n,i),t.child)}function eb(e,t,r,n,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!q0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,ZC(e,t,a,n,i,o)):(e=ch(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,(i&o)===0&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:Pl,r(i,n)&&e.ref===t.ref)?Mi(e,t,o):(t.flags|=1,e=Po(a,n),e.ref=t.ref,e.return=t,t.child=e)}function ZC(e,t,r,n,i,o){if(e!==null&&Pl(e.memoizedProps,n)&&e.ref===t.ref)if(jn=!1,(o&i)!==0)(e.flags&16384)!==0&&(jn=!0);else return t.lanes=e.lanes,Mi(e,t,o);return Bm(e,t,r,n,o)}function l_(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},Sc(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},Sc(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Sc(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Sc(t,n);return Vr(e,t,i,r),t.child}function JC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function Bm(e,t,r,n,i){var o=Wr(r)?Ea:Pr.current;return o=js(t,o),Ls(t,i),r=G0(e,t,r,n,o,i),e!==null&&!jn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Mi(e,t,i)):(t.flags|=1,Vr(e,t,r,i),t.child)}function tb(e,t,r,n,i){if(Wr(r)){var o=!0;ah(t)}else o=!1;if(Ls(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),GC(t,r,n),Lm(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var f=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Rn(c):(c=Wr(r)?Ea:Pr.current,c=js(t,c));var h=r.getDerivedStateFromProps,p=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==n||f!==c)&&zE(t,a,n,c),uo=!1;var v=t.memoizedState;a.state=v,kl(t,n,a,i),f=t.memoizedState,s!==n||v!==f||zr.current||uo?(typeof h=="function"&&(kh(t,r,h,n),f=t.memoizedState),(s=uo||jE(t,r,s,n,v,f,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=c,n=s):(typeof a.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{a=t.stateNode,MC(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xn(t.type,s),a.props=c,p=t.pendingProps,v=a.context,f=r.contextType,typeof f=="object"&&f!==null?f=Rn(f):(f=Wr(r)?Ea:Pr.current,f=js(t,f));var _=r.getDerivedStateFromProps;(h=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==p||v!==f)&&zE(t,a,n,f),uo=!1,v=t.memoizedState,a.state=v,kl(t,n,a,i);var y=t.memoizedState;s!==p||v!==y||zr.current||uo?(typeof _=="function"&&(kh(t,r,_,n),y=t.memoizedState),(c=uo||jE(t,r,c,n,v,y,f))?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,f)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=f,n=c):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),n=!1)}return Mm(e,t,r,n,o,i)}function Mm(e,t,r,n,i,o){JC(e,t);var a=(t.flags&64)!==0;if(!n&&!a)return i&&GE(t,r,!1),Mi(e,t,o);n=t.stateNode,HU.current=t;var s=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Fh(t,e.child,null,o),t.child=Fh(t,null,s,o)):Vr(e,t,s,o),t.memoizedState=n.state,i&&GE(t,r,!0),t.child}function rb(e){var t=e.stateNode;t.pendingContext?DE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&DE(e,t.context,!1),km(e,t.containerInfo)}var Tc={dehydrated:null,retryLane:0};function nb(e,t,r){var n=t.pendingProps,i=$t.current,o=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Xt($t,i&1),e===null?(n.fallback!==void 0&&Fm(t),e=n.children,i=n.fallback,o?(e=ib(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Tc,e):typeof n.unstable_expectedLoadTime=="number"?(e=ib(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Tc,t.lanes=33554432,e):(r=K0({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=ab(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Tc,n):(r=ob(e,t,n.children,r),t.memoizedState=null,r):o?(n=ab(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=Tc,n):(r=ob(e,t,n.children,r),t.memoizedState=null,r)}function ib(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=K0(t,i,0,null),r=Bs(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function ob(e,t,r,n){var i=e.child;return e=i.sibling,r=Po(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function ab(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return(o&2)===0&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=s,a=r.lastEffect,a!==null?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Po(a,s),e!==null?n=Po(e,n):(n=Bs(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function sb(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),BC(e.return,t)}function f_(e,t,r,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function ub(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Vr(e,t,n.children,r),n=$t.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sb(e,r);else if(e.tag===19)sb(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Xt($t,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Uh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),f_(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Uh(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}f_(t,!0,r,null,o,t.lastEffect);break;case"together":f_(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Mi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),af|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(oe(153));if(t.child!==null){for(e=t.child,r=Po(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Po(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var QC,Dm,e2,t2;QC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dm=function(){};e2=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,_a(li.current);var o=null;switch(r){case"input":i=hm(e,i),n=hm(e,n),o=[];break;case"option":i=vm(e,i),n=vm(e,n),o=[];break;case"select":i=Ot({},i,{value:void 0}),n=Ot({},n,{value:void 0}),o=[];break;case"textarea":i=_m(e,i),n=_m(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Rh)}ym(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Tl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var f=n[c];if(s=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&f!==s&&(f!=null||s!=null))if(c==="style")if(s){for(a in s)!s.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in f)f.hasOwnProperty(a)&&s[a]!==f[a]&&(r||(r={}),r[a]=f[a])}else r||(o||(o=[]),o.push(c,r)),r=f;else c==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,s=s?s.__html:void 0,f!=null&&s!==f&&(o=o||[]).push(c,f)):c==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(c,""+f):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Tl.hasOwnProperty(c)?(f!=null&&c==="onScroll"&&St("scroll",e),o||s===f||(o=[])):typeof f=="object"&&f!==null&&f.$$typeof===_0?f.toString():(o=o||[]).push(c,f))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};t2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vu(e,t){if(!fi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $U(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Wr(t.type)&&Ah(),null;case 3:return Ws(),Ct(zr),Ct(Pr),M0(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(wc(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Dm(t),null;case 5:B0(t);var i=_a(Ul.current);if(r=t.type,e!==null&&t.stateNode!=null)e2(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(oe(166));return null}if(e=_a(li.current),wc(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[po]=t,n[Nh]=o,r){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(e=0;e<il.length;e++)St(il[e],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":uE(n,o),St("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},St("invalid",n);break;case"textarea":fE(n,o),St("invalid",n)}ym(r,o),e=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):Tl.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&St("scroll",n));switch(r){case"input":mc(n),lE(n,o,!0);break;case"textarea":mc(n),cE(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Rh)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===mm.html&&(e=YS(r)),e===mm.html?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[po]=t,e[Nh]=n,QC(e,t,!1,!1),t.stateNode=e,a=xm(r,n),r){case"dialog":St("cancel",e),St("close",e),i=n;break;case"iframe":case"object":case"embed":St("load",e),i=n;break;case"video":case"audio":for(i=0;i<il.length;i++)St(il[i],e);i=n;break;case"source":St("error",e),i=n;break;case"img":case"image":case"link":St("error",e),St("load",e),i=n;break;case"details":St("toggle",e),i=n;break;case"input":uE(e,n),i=hm(e,n),St("invalid",e);break;case"option":i=vm(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ot({},n,{value:void 0}),St("invalid",e);break;case"textarea":fE(e,n),i=_m(e,n),St("invalid",e);break;default:i=n}ym(r,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var f=s[o];o==="style"?ZS(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&qS(e,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&Sl(e,f):typeof f=="number"&&Sl(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Tl.hasOwnProperty(o)?f!=null&&o==="onScroll"&&St("scroll",e):f!=null&&f0(e,o,f,a))}switch(r){case"input":mc(e),lE(e,n,!1);break;case"textarea":mc(e),cE(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Io(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ns(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ns(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Rh)}RC(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)t2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(oe(166));r=_a(Ul.current),_a(li.current),wc(t)?(n=t.stateNode,r=t.memoizedProps,n[po]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[po]=t,t.stateNode=n)}return null;case 13:return Ct($t),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&wc(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||($t.current&1)!==0?mr===0&&(mr=3):((mr===0||mr===3)&&(mr=4),Ur===null||(af&134217727)===0&&(su&134217727)===0||Fs(Ur,Nr))),(n||r)&&(t.flags|=4),null);case 4:return Ws(),Dm(t),e===null&&SC(t.stateNode.containerInfo),null;case 10:return F0(t),null;case 17:return Wr(t.type)&&Ah(),null;case 19:if(Ct($t),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,a=n.rendering,a===null)if(o)Vu(n,!1);else{if(mr!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(a=Uh(e),a!==null){for(t.flags|=64,Vu(n,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xt($t,$t.current&1|2),t.child}e=e.sibling}n.tail!==null&&Rr()>jm&&(t.flags|=64,o=!0,Vu(n,!1),t.lanes=33554432)}else{if(!o)if(e=Uh(a),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vu(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!fi)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Rr()-n.renderingStartTime>jm&&r!==1073741824&&(t.flags|=64,o=!0,Vu(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(r=n.last,r!==null?r.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Rr(),r.sibling=null,t=$t.current,Xt($t,o?t&1|2:t&1),r):null;case 23:case 24:return Y0(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(oe(156,t.tag))}function XU(e){switch(e.tag){case 1:Wr(e.type)&&Ah();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Ws(),Ct(zr),Ct(Pr),M0(),t=e.flags,(t&64)!==0)throw Error(oe(285));return e.flags=t&-4097|64,e;case 5:return B0(e),null;case 13:return Ct($t),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return Ct($t),null;case 4:return Ws(),null;case 10:return F0(e),null;case 23:case 24:return Y0(),null;default:return null}}function V0(e,t){try{var r="",n=t;do r+=wF(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function Gm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var VU=typeof WeakMap=="function"?WeakMap:Map;function r2(e,t,r){r=Eo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xh||(Xh=!0,zm=n),Gm(e,t)},r}function n2(e,t,r){r=Eo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return Gm(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(ai===null?ai=new Set([this]):ai.add(this),Gm(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}var jU=typeof WeakSet=="function"?WeakSet:Set;function lb(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){So(e,r)}else t.current=null}function zU(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Xn(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&P0(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(oe(163))}function WU(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(h2(r,e),t4(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Xn(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&VE(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}VE(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&RC(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&sC(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(oe(163))}function fb(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=KS("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function cb(e,t){if(ga&&typeof ga.onCommitFiberUnmount=="function")try{ga.onCommitFiberUnmount(O0,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)h2(t,r);else{n=t;try{i()}catch(o){So(n,o)}}r=r.next}while(r!==e)}break;case 1:if(lb(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){So(t,o)}break;case 5:lb(t);break;case 4:i2(e,t)}}function hb(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function db(e){return e.tag===5||e.tag===3||e.tag===4}function pb(e){e:{for(var t=e.return;t!==null;){if(db(t))break e;t=t.return}throw Error(oe(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(oe(161))}r.flags&16&&(Sl(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||db(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Hm(e,r,t):$m(e,r,t)}function Hm(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Rh));else if(n!==4&&(e=e.child,e!==null))for(Hm(e,t,r),e=e.sibling;e!==null;)Hm(e,t,r),e=e.sibling}function $m(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($m(e,t,r),e=e.sibling;e!==null;)$m(e,t,r),e=e.sibling}function i2(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(oe(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=e,s=r,f=s;;)if(cb(a,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(a=i,s=r.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(cb(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function c_(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[Nh]=n,e==="input"&&n.type==="radio"&&n.name!=null&&zS(r,n),xm(e,i),t=xm(e,n),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];a==="style"?ZS(r,s):a==="dangerouslySetInnerHTML"?qS(r,s):a==="children"?Sl(r,s):f0(r,a,s,t)}switch(e){case"input":dm(r,n);break;case"textarea":WS(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Ns(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Ns(r,!!n.multiple,n.defaultValue,!0):Ns(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(oe(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,sC(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(W0=Rr(),fb(t.child,!0)),vb(t);return;case 19:vb(t);return;case 17:return;case 23:case 24:fb(t,t.memoizedState!==null);return}throw Error(oe(163))}function vb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jU),t.forEach(function(n){var i=i4.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function YU(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var qU=Math.ceil,$h=Aa.ReactCurrentDispatcher,j0=Aa.ReactCurrentOwner,Ue=0,Ur=null,nr=null,Nr=0,wa=0,Xm=Bo(0),mr=0,Ed=null,au=0,af=0,su=0,z0=0,Vm=null,W0=0,jm=1/0;function uu(){jm=Rr()+500}var _e=null,Xh=!1,zm=null,ai=null,Ao=!1,ml=null,ol=90,Wm=[],Ym=[],Gi=null,gl=0,qm=null,uh=-1,Fi=0,lh=0,yl=null,fh=!1;function un(){return(Ue&48)!==0?Rr():uh!==-1?uh:uh=Rr()}function wo(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return zs()===99?1:2;if(Fi===0&&(Fi=au),UU.transition!==0){lh!==0&&(lh=Vm!==null?Vm.pendingLanes:0),e=Fi;var t=4186112&~lh;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=zs(),(Ue&4)!==0&&e===98?e=Ch(12,Fi):(e=DF(e),e=Ch(e,Fi)),e}function To(e,t,r){if(50<gl)throw gl=0,qm=null,Error(oe(185));if(e=bd(e,t),e===null)return null;pd(e,t,r),e===Ur&&(su|=t,mr===4&&Fs(e,Nr));var n=zs();t===1?(Ue&8)!==0&&(Ue&48)===0?Km(e):(Nn(e,r),Ue===0&&(uu(),pi())):((Ue&4)===0||n!==98&&n!==99||(Gi===null?Gi=new Set([e]):Gi.add(e)),Nn(e,r)),Vm=e}function bd(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Nn(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Ro(a),f=1<<s,c=o[s];if(c===-1){if((f&n)===0||(f&i)!==0){c=t,hs(f);var h=Et;o[s]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=f);a&=~f}if(n=Nl(e,e===Ur?Nr:0),t=Et,n===0)r!==null&&(r!==a_&&Pm(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==a_&&Pm(r)}t===15?(r=Km.bind(null,e),Li===null?(Li=[r],sh=L0(yd,UC)):Li.push(r),r=a_):t===14?r=Ll(99,Km.bind(null,e)):(r=GF(t),r=Ll(r,o2.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function o2(e){if(uh=-1,lh=Fi=0,(Ue&48)!==0)throw Error(oe(327));var t=e.callbackNode;if(Mo()&&e.callbackNode!==t)return null;var r=Nl(e,e===Ur?Nr:0);if(r===0)return null;var n=r,i=Ue;Ue|=16;var o=l2();(Ur!==e||Nr!==n)&&(uu(),Us(e,n));do try{JU();break}catch(s){u2(e,s)}while(1);if(k0(),$h.current=o,Ue=i,nr!==null?n=0:(Ur=null,Nr=0,n=mr),(au&su)!==0)Us(e,0);else if(n!==0){if(n===2&&(Ue|=64,e.hydrate&&(e.hydrate=!1,P0(e.containerInfo)),r=pC(e),r!==0&&(n=al(e,r))),n===1)throw t=Ed,Us(e,0),Fs(e,r),Nn(e,Rr()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(oe(345));case 2:sa(e);break;case 3:if(Fs(e,r),(r&62914560)===r&&(n=W0+500-Rr(),10<n)){if(Nl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){un(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=UE(sa.bind(null,e),n);break}sa(e);break;case 4:if(Fs(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var a=31-Ro(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=Rr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qU(r/1960))-r,10<r){e.timeoutHandle=UE(sa.bind(null,e),r);break}sa(e);break;case 5:sa(e);break;default:throw Error(oe(329))}}return Nn(e,Rr()),e.callbackNode===t?o2.bind(null,e):null}function Fs(e,t){for(t&=~z0,t&=~su,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ro(t),n=1<<r;e[r]=-1,t&=~n}}function Km(e){if((Ue&48)!==0)throw Error(oe(327));if(Mo(),e===Ur&&(e.expiredLanes&Nr)!==0){var t=Nr,r=al(e,t);(au&su)!==0&&(t=Nl(e,t),r=al(e,t))}else t=Nl(e,0),r=al(e,t);if(e.tag!==0&&r===2&&(Ue|=64,e.hydrate&&(e.hydrate=!1,P0(e.containerInfo)),t=pC(e),t!==0&&(r=al(e,t))),r===1)throw r=Ed,Us(e,0),Fs(e,t),Nn(e,Rr()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,sa(e),Nn(e,Rr()),null}function KU(){if(Gi!==null){var e=Gi;Gi=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Nn(t,Rr())})}pi()}function a2(e,t){var r=Ue;Ue|=1;try{return e(t)}finally{Ue=r,Ue===0&&(uu(),pi())}}function s2(e,t){var r=Ue;Ue&=-2,Ue|=8;try{return e(t)}finally{Ue=r,Ue===0&&(uu(),pi())}}function Sc(e,t){Xt(Xm,wa),wa|=t,au|=t}function Y0(){wa=Xm.current,Ct(Xm)}function Us(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,AU(r)),nr!==null)for(r=nr.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ah();break;case 3:Ws(),Ct(zr),Ct(Pr),M0();break;case 5:B0(n);break;case 4:Ws();break;case 13:Ct($t);break;case 19:Ct($t);break;case 10:F0(n);break;case 23:case 24:Y0()}r=r.return}Ur=e,nr=Po(e.current,null),Nr=wa=au=t,mr=0,Ed=null,z0=su=af=0}function u2(e,t){do{var r=nr;try{if(k0(),vl.current=Hh,Bh){for(var n=Kt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Bh=!1}if(Bl=0,_r=Sr=Kt=null,_l=!1,j0.current=null,r===null||r.return===null){mr=1,Ed=t,nr=null;break}e:{var o=e,a=r.return,s=r,f=t;if(t=Nr,s.flags|=2048,s.firstEffect=s.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var c=f;if((s.mode&2)===0){var h=s.alternate;h?(s.updateQueue=h.updateQueue,s.memoizedState=h.memoizedState,s.lanes=h.lanes):(s.updateQueue=null,s.memoizedState=null)}var p=($t.current&1)!==0,v=a;do{var _;if(_=v.tag===13){var y=v.memoizedState;if(y!==null)_=y.dehydrated!==null;else{var E=v.memoizedProps;_=E.fallback===void 0?!1:E.unstable_avoidThisFallback!==!0?!0:!p}}if(_){var g=v.updateQueue;if(g===null){var x=new Set;x.add(c),v.updateQueue=x}else g.add(c);if((v.mode&2)===0){if(v.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var w=Eo(-1,1);w.tag=2,bo(s,w)}s.lanes|=1;break e}f=void 0,s=t;var I=o.pingCache;if(I===null?(I=o.pingCache=new VU,f=new Set,I.set(c,f)):(f=I.get(c),f===void 0&&(f=new Set,I.set(c,f))),!f.has(s)){f.add(s);var P=n4.bind(null,o,c,s);c.then(P,P)}v.flags|=4096,v.lanes=t;break e}v=v.return}while(v!==null);f=Error((Rs(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}mr!==5&&(mr=2),f=V0(f,s),v=a;do{switch(v.tag){case 3:o=f,v.flags|=4096,t&=-t,v.lanes|=t;var N=r2(v,o,t);XE(v,N);break e;case 1:o=f;var R=v.type,M=v.stateNode;if((v.flags&64)===0&&(typeof R.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ai===null||!ai.has(M)))){v.flags|=4096,t&=-t,v.lanes|=t;var X=n2(v,o,t);XE(v,X);break e}}v=v.return}while(v!==null)}c2(r)}catch(D){t=D,nr===r&&r!==null&&(nr=r=r.return);continue}break}while(1)}function l2(){var e=$h.current;return $h.current=Hh,e===null?Hh:e}function al(e,t){var r=Ue;Ue|=16;var n=l2();Ur===e&&Nr===t||Us(e,t);do try{ZU();break}catch(i){u2(e,i)}while(1);if(k0(),Ue=r,$h.current=n,nr!==null)throw Error(oe(261));return Ur=null,Nr=0,mr}function ZU(){for(;nr!==null;)f2(nr)}function JU(){for(;nr!==null&&!LU();)f2(nr)}function f2(e){var t=d2(e.alternate,e,wa);e.memoizedProps=e.pendingProps,t===null?c2(e):nr=t,j0.current=null}function c2(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=$U(r,t,wa),r!==null){nr=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(wa&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=XU(t),r!==null){r.flags&=2047,nr=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){nr=t;return}nr=t=e}while(t!==null);mr===0&&(mr=5)}function sa(e){var t=zs();return ba(99,QU.bind(null,e,t)),null}function QU(e,t){do Mo();while(ml!==null);if((Ue&48)!==0)throw Error(oe(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(oe(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var f=31-Ro(o),c=1<<f;i[f]=0,a[f]=-1,s[f]=-1,o&=~c}if(Gi!==null&&(n&24)===0&&Gi.has(e)&&Gi.delete(e),e===Ur&&(nr=Ur=null,Nr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ue,Ue|=32,j0.current=null,n_=nh,a=NE(),Cm(a)){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&c.rangeCount!==0){s=c.anchorNode,o=c.anchorOffset,f=c.focusNode,c=c.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var h=0,p=-1,v=-1,_=0,y=0,E=a,g=null;t:for(;;){for(var x;E!==s||o!==0&&E.nodeType!==3||(p=h+o),E!==f||c!==0&&E.nodeType!==3||(v=h+c),E.nodeType===3&&(h+=E.nodeValue.length),(x=E.firstChild)!==null;)g=E,E=x;for(;;){if(E===a)break t;if(g===s&&++_===o&&(p=h),g===f&&++y===c&&(v=h),(x=E.nextSibling)!==null)break;E=g,g=E.parentNode}E=x}s=p===-1||v===-1?null:{start:p,end:v}}else s=null;s=s||{start:0,end:0}}else s=null;i_={focusedElem:a,selectionRange:s},nh=!1,yl=null,fh=!1,_e=n;do try{e4()}catch(D){if(_e===null)throw Error(oe(330));So(_e,D),_e=_e.nextEffect}while(_e!==null);yl=null,_e=n;do try{for(a=e;_e!==null;){var w=_e.flags;if(w&16&&Sl(_e.stateNode,""),w&128){var I=_e.alternate;if(I!==null){var P=I.ref;P!==null&&(typeof P=="function"?P(null):P.current=null)}}switch(w&1038){case 2:pb(_e),_e.flags&=-3;break;case 6:pb(_e),_e.flags&=-3,c_(_e.alternate,_e);break;case 1024:_e.flags&=-1025;break;case 1028:_e.flags&=-1025,c_(_e.alternate,_e);break;case 4:c_(_e.alternate,_e);break;case 8:s=_e,i2(a,s);var N=s.alternate;hb(s),N!==null&&hb(N)}_e=_e.nextEffect}}catch(D){if(_e===null)throw Error(oe(330));So(_e,D),_e=_e.nextEffect}while(_e!==null);if(P=i_,I=NE(),w=P.focusedElem,a=P.selectionRange,I!==w&&w&&w.ownerDocument&&bC(w.ownerDocument.documentElement,w)){for(a!==null&&Cm(w)&&(I=a.start,P=a.end,P===void 0&&(P=I),"selectionStart"in w?(w.selectionStart=I,w.selectionEnd=Math.min(P,w.value.length)):(P=(I=w.ownerDocument||document)&&I.defaultView||window,P.getSelection&&(P=P.getSelection(),s=w.textContent.length,N=Math.min(a.start,s),a=a.end===void 0?N:Math.min(a.end,s),!P.extend&&N>a&&(s=a,a=N,N=s),s=RE(w,N),o=RE(w,a),s&&o&&(P.rangeCount!==1||P.anchorNode!==s.node||P.anchorOffset!==s.offset||P.focusNode!==o.node||P.focusOffset!==o.offset)&&(I=I.createRange(),I.setStart(s.node,s.offset),P.removeAllRanges(),N>a?(P.addRange(I),P.extend(o.node,o.offset)):(I.setEnd(o.node,o.offset),P.addRange(I)))))),I=[],P=w;P=P.parentNode;)P.nodeType===1&&I.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<I.length;w++)P=I[w],P.element.scrollLeft=P.left,P.element.scrollTop=P.top}nh=!!n_,i_=n_=null,e.current=r,_e=n;do try{for(w=e;_e!==null;){var R=_e.flags;if(R&36&&WU(w,_e.alternate,_e),R&128){I=void 0;var M=_e.ref;if(M!==null){var X=_e.stateNode;switch(_e.tag){case 5:I=X;break;default:I=X}typeof M=="function"?M(I):M.current=I}}_e=_e.nextEffect}}catch(D){if(_e===null)throw Error(oe(330));So(_e,D),_e=_e.nextEffect}while(_e!==null);_e=null,FU(),Ue=i}else e.current=r;if(Ao)Ao=!1,ml=e,ol=t;else for(_e=n;_e!==null;)t=_e.nextEffect,_e.nextEffect=null,_e.flags&8&&(R=_e,R.sibling=null,R.stateNode=null),_e=t;if(n=e.pendingLanes,n===0&&(ai=null),n===1?e===qm?gl++:(gl=0,qm=e):gl=0,r=r.stateNode,ga&&typeof ga.onCommitFiberRoot=="function")try{ga.onCommitFiberRoot(O0,r,void 0,(r.current.flags&64)===64)}catch{}if(Nn(e,Rr()),Xh)throw Xh=!1,e=zm,zm=null,e;return(Ue&8)!==0||pi(),null}function e4(){for(;_e!==null;){var e=_e.alternate;fh||yl===null||((_e.flags&8)!==0?pE(_e,yl)&&(fh=!0):_e.tag===13&&YU(e,_e)&&pE(_e,yl)&&(fh=!0));var t=_e.flags;(t&256)!==0&&zU(e,_e),(t&512)===0||Ao||(Ao=!0,Ll(97,function(){return Mo(),null})),_e=_e.nextEffect}}function Mo(){if(ol!==90){var e=97<ol?97:ol;return ol=90,ba(e,r4)}return!1}function t4(e,t){Wm.push(t,e),Ao||(Ao=!0,Ll(97,function(){return Mo(),null}))}function h2(e,t){Ym.push(t,e),Ao||(Ao=!0,Ll(97,function(){return Mo(),null}))}function r4(){if(ml===null)return!1;var e=ml;if(ml=null,(Ue&48)!==0)throw Error(oe(331));var t=Ue;Ue|=32;var r=Ym;Ym=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(f){if(o===null)throw Error(oe(330));So(o,f)}}for(r=Wm,Wm=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var s=i.create;i.destroy=s()}catch(f){if(o===null)throw Error(oe(330));So(o,f)}}for(s=e.current.firstEffect;s!==null;)e=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=e;return Ue=t,pi(),!0}function _b(e,t,r){t=V0(r,t),t=r2(e,t,1),bo(e,t),t=un(),e=bd(e,1),e!==null&&(pd(e,1,t),Nn(e,t))}function So(e,t){if(e.tag===3)_b(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){_b(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ai===null||!ai.has(n))){e=V0(t,e);var i=n2(r,e,1);if(bo(r,i),i=un(),r=bd(r,1),r!==null)pd(r,1,i),Nn(r,i);else if(typeof n.componentDidCatch=="function"&&(ai===null||!ai.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function n4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=un(),e.pingedLanes|=e.suspendedLanes&r,Ur===e&&(Nr&r)===r&&(mr===4||mr===3&&(Nr&62914560)===Nr&&500>Rr()-W0?Us(e,0):z0|=r),Nn(e,t)}function i4(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=zs()===99?1:2:(Fi===0&&(Fi=au),t=ds(62914560&~Fi),t===0&&(t=4194304))),r=un(),e=bd(e,t),e!==null&&(pd(e,t,r),Nn(e,r))}var d2;d2=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||zr.current)jn=!0;else if((r&n)!==0)jn=(e.flags&16384)!==0;else{switch(jn=!1,t.tag){case 3:rb(t),u_();break;case 5:WE(t);break;case 1:Wr(t.type)&&ah(t);break;case 4:km(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Xt(Ph,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?nb(e,t,r):(Xt($t,$t.current&1),t=Mi(e,t,r),t!==null?t.sibling:null);Xt($t,$t.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return ub(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xt($t,$t.current),n)break;return null;case 23:case 24:return t.lanes=0,l_(e,t,r)}return Mi(e,t,r)}else jn=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=js(t,Pr.current),Ls(t,r),i=G0(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wr(n)){var o=!0;ah(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,U0(t);var a=n.getDerivedStateFromProps;typeof a=="function"&&kh(t,n,a,e),i.updater=xd,t.stateNode=i,i._reactInternals=t,Lm(t,n,e,r),t=Mm(null,t,n,!0,o,r)}else t.tag=0,Vr(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=a4(i),e=Xn(i,e),o){case 0:t=Bm(null,t,i,e,r);break e;case 1:t=tb(null,t,i,e,r);break e;case 11:t=QE(null,t,i,e,r);break e;case 14:t=eb(null,t,i,Xn(i.type,e),n,r);break e}throw Error(oe(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),Bm(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),tb(e,t,n,i,r);case 3:if(rb(t),n=t.updateQueue,e===null||n===null)throw Error(oe(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,MC(e,t),kl(t,n,null,r),n=t.memoizedState.element,n===i)u_(),t=Mi(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(vo=Os(t.stateNode.containerInfo.firstChild),Bi=t,o=fi=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],ks.push(o);for(r=$C(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Vr(e,t,n,r),u_();t=t.child}return t;case 5:return WE(t),e===null&&Fm(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Nm(n,i)?a=null:o!==null&&Nm(n,o)&&(t.flags|=16),JC(e,t),Vr(e,t,a,r),t.child;case 6:return e===null&&Fm(t),null;case 13:return nb(e,t,r);case 4:return km(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fh(t,null,n,r):Vr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),QE(e,t,n,i,r);case 7:return Vr(e,t,t.pendingProps,r),t.child;case 8:return Vr(e,t,t.pendingProps.children,r),t.child;case 12:return Vr(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(Xt(Ph,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=Sn(s,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===i.children&&!zr.current){t=Mi(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var f=s.dependencies;if(f!==null){a=s.child;for(var c=f.firstContext;c!==null;){if(c.context===n&&(c.observedBits&o)!==0){s.tag===1&&(c=Eo(-1,r&-r),c.tag=2,bo(s,c)),s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),BC(s.return,r),f.lanes|=r;break}c=c.next}}else a=s.tag===10&&s.type===t.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Ls(t,r),i=Rn(i,o.unstable_observedBits),n=n(i),t.flags|=1,Vr(e,t,n,r),t.child;case 14:return i=t.type,o=Xn(i,t.pendingProps),o=Xn(i.type,o),eb(e,t,i,o,n,r);case 15:return ZC(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Wr(n)?(e=!0,ah(t)):e=!1,Ls(t,r),GC(t,n,i),Lm(t,n,i,r),Mm(null,t,n,!0,e,r);case 19:return ub(e,t,r);case 23:return l_(e,t,r);case 24:return l_(e,t,r)}throw Error(oe(156,t.tag))};function o4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,r,n){return new o4(e,t,r,n)}function q0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a4(e){if(typeof e=="function")return q0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cd)return 11;if(e===hd)return 14}return 2}function Po(e,t){var r=e.alternate;return r===null?(r=Cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ch(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")q0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case fo:return Bs(r.children,i,o,t);case XS:a=8,i|=16;break;case c0:a=8,i|=1;break;case ul:return e=Cn(12,r,t,i|8),e.elementType=ul,e.type=ul,e.lanes=o,e;case ll:return e=Cn(13,r,t,i),e.type=ll,e.elementType=ll,e.lanes=o,e;case bh:return e=Cn(19,r,t,i),e.elementType=bh,e.lanes=o,e;case m0:return K0(r,i,o,t);case cm:return e=Cn(24,r,t,i),e.elementType=cm,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case h0:a=10;break e;case d0:a=9;break e;case cd:a=11;break e;case hd:a=14;break e;case p0:a=16,n=null;break e;case v0:a=22;break e}throw Error(oe(130,e==null?e:typeof e,""))}return t=Cn(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Bs(e,t,r,n){return e=Cn(7,e,n,t),e.lanes=r,e}function K0(e,t,r,n){return e=Cn(23,e,n,t),e.elementType=m0,e.lanes=r,e}function h_(e,t,r){return e=Cn(6,e,null,t),e.lanes=r,e}function d_(e,t,r){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s4(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Kv(0),this.expirationTimes=Kv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kv(0),this.mutableSourceEagerHydrationData=null}function u4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Vh(e,t,r,n){var i=t.current,o=un(),a=wo(i);e:if(r){r=r._reactInternals;t:{if(Pa(r)!==r||r.tag!==1)throw Error(oe(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Wr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(oe(171))}if(r.tag===1){var f=r.type;if(Wr(f)){r=AC(r,f,s);break e}}r=s}else r=No;return t.context===null?t.context=r:t.pendingContext=r,t=Eo(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),bo(i,t),To(i,a,o),a}function p_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Z0(e,t){mb(e,t),(e=e.alternate)&&mb(e,t)}function l4(){return null}function J0(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new s4(e,t,r!=null&&r.hydrate===!0),t=Cn(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,U0(t),e[ou]=r.current,SC(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}J0.prototype.render=function(e){Vh(e,this._internalRoot,null,null)};J0.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Vh(null,e,null,function(){t[ou]=null})};function sf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f4(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new J0(e,0,t?{hydrate:!0}:void 0)}function wd(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var s=i;i=function(){var c=p_(a);s.call(c)}}Vh(t,a,e,i)}else{if(o=r._reactRootContainer=f4(r,n),a=o._internalRoot,typeof i=="function"){var f=i;i=function(){var c=p_(a);f.call(c)}}s2(function(){Vh(t,a,e,i)})}return p_(a)}iC=function(e){if(e.tag===13){var t=un();To(e,4,t),Z0(e,4)}};b0=function(e){if(e.tag===13){var t=un();To(e,67108864,t),Z0(e,67108864)}};oC=function(e){if(e.tag===13){var t=un(),r=wo(e);To(e,r,t),Z0(e,r)}};aC=function(e,t){return t()};Em=function(e,t,r){switch(t){case"input":if(dm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=gd(n);if(!i)throw Error(oe(90));jS(n),dm(n,i)}}}break;case"textarea":WS(e,r);break;case"select":t=r.value,t!=null&&Ns(e,!!r.multiple,t,!1)}};y0=a2;eC=function(e,t,r,n,i){var o=Ue;Ue|=4;try{return ba(98,e.bind(null,t,r,n,i))}finally{Ue=o,Ue===0&&(uu(),pi())}};x0=function(){(Ue&49)===0&&(KU(),Mo())};tC=function(e,t){var r=Ue;Ue|=2;try{return e(t)}finally{Ue=r,Ue===0&&(uu(),pi())}};function p2(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sf(t))throw Error(oe(200));return u4(e,t,null,r)}var c4={Events:[nf,gs,gd,JS,QS,Mo,{current:!1}]},ju={findFiberByHostInstance:va,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},h4={bundleType:ju.bundleType,version:ju.version,rendererPackageName:ju.rendererPackageName,rendererConfig:ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nC(e),e===null?null:e.stateNode},findFiberByHostInstance:ju.findFiberByHostInstance||l4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{O0=Cc.inject(h4),ga=Cc}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c4;Pn.createPortal=p2;Pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(oe(188)):Error(oe(268,Object.keys(e)));return e=nC(t),e=e===null?null:e.stateNode,e};Pn.flushSync=function(e,t){var r=Ue;if((r&48)!==0)return e(t);Ue|=1;try{if(e)return ba(99,e.bind(null,t))}finally{Ue=r,pi()}};Pn.hydrate=function(e,t,r){if(!sf(t))throw Error(oe(200));return wd(null,e,t,!0,r)};Pn.render=function(e,t,r){if(!sf(t))throw Error(oe(200));return wd(null,e,t,!1,r)};Pn.unmountComponentAtNode=function(e){if(!sf(e))throw Error(oe(40));return e._reactRootContainer?(s2(function(){wd(null,null,e,!1,function(){e._reactRootContainer=null,e[ou]=null})}),!0):!1};Pn.unstable_batchedUpdates=a2;Pn.unstable_createPortal=function(e,t){return p2(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Pn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!sf(r))throw Error(oe(200));if(e==null||e._reactInternals===void 0)throw Error(oe(38));return wd(e,t,r,!1,n)};Pn.version="17.0.2";function v2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v2)}catch(e){console.error(e)}}v2(),s0.exports=Pn;var Ys=s0.exports;const d4="_Title_main_1op7x_2",p4="_Title_buttonList_1op7x_9",v4="_Title_button_1op7x_9",_4="_Title_button_text_1op7x_43",m4="_Title_button_text_up_1op7x_51",g4="_Title_backup_background_1op7x_55";var Ft={Title_main:d4,Title_buttonList:p4,Title_button:v4,Title_button_text:_4,Title_button_text_up:m4,Title_backup_background:g4};function Vn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Oo(e){return!!e&&!!e[At]}function Lo(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===I4}(e)||Array.isArray(e)||!!e[Tb]||!!e.constructor[Tb]||Q0(e)||ey(e))}function Ta(e,t,r){r===void 0&&(r=!1),lu(e)===0?(r?Object.keys:Ds)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function lu(e){var t=e[At];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Q0(e)?2:ey(e)?3:0}function Ms(e,t){return lu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function y4(e,t){return lu(e)===2?e.get(t):e[t]}function _2(e,t,r){var n=lu(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function m2(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Q0(e){return S4&&e instanceof Map}function ey(e){return C4&&e instanceof Set}function ua(e){return e.o||e.t}function ty(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=y2(e);delete t[At];for(var r=Ds(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ry(e,t){return t===void 0&&(t=!1),ny(e)||Oo(e)||!Lo(e)||(lu(e)>1&&(e.set=e.add=e.clear=e.delete=x4),Object.freeze(e),t&&Ta(e,function(r,n){return ry(n,!0)},!0)),e}function x4(){Vn(2)}function ny(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ci(e){var t=eg[e];return t||Vn(18,e),t}function E4(e,t){eg[e]||(eg[e]=t)}function Zm(){return Ml}function v_(e,t){t&&(ci("Patches"),e.u=[],e.s=[],e.v=t)}function jh(e){Jm(e),e.p.forEach(b4),e.p=null}function Jm(e){e===Ml&&(Ml=e.l)}function gb(e){return Ml={p:[],l:Ml,h:e,m:!0,_:0}}function b4(e){var t=e[At];t.i===0||t.i===1?t.j():t.O=!0}function __(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||ci("ES5").S(t,e,n),n?(r[At].P&&(jh(t),Vn(4)),Lo(e)&&(e=zh(t,e),t.l||Wh(t,e)),t.u&&ci("Patches").M(r[At].t,e,t.u,t.s)):e=zh(t,r,[]),jh(t),t.u&&t.v(t.u,t.s),e!==g2?e:void 0}function zh(e,t,r){if(ny(t))return t;var n=t[At];if(!n)return Ta(t,function(o,a){return yb(e,n,t,o,a,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Wh(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=ty(n.k):n.o;Ta(n.i===3?new Set(i):i,function(o,a){return yb(e,n,i,o,a,r)}),Wh(e,i,!1),r&&e.u&&ci("Patches").R(n,r,e.u,e.s)}return n.o}function yb(e,t,r,n,i,o){if(Oo(i)){var a=zh(e,i,o&&t&&t.i!==3&&!Ms(t.D,n)?o.concat(n):void 0);if(_2(r,n,a),!Oo(a))return;e.m=!1}if(Lo(i)&&!ny(i)){if(!e.h.F&&e._<1)return;zh(e,i),t&&t.A.l||Wh(e,i)}}function Wh(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&ry(t,r)}function m_(e,t){var r=e[At];return(r?ua(r):e)[t]}function xb(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function co(e){e.P||(e.P=!0,e.l&&co(e.l))}function g_(e){e.o||(e.o=ty(e.t))}function Qm(e,t,r){var n=Q0(t)?ci("MapSet").N(t,r):ey(t)?ci("MapSet").T(t,r):e.g?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:Zm(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},f=s,c=Dl;a&&(f=[s],c=sl);var h=Proxy.revocable(f,c),p=h.revoke,v=h.proxy;return s.k=v,s.j=p,v}(t,r):ci("ES5").J(t,r);return(r?r.A:Zm()).p.push(n),n}function w4(e){return Oo(e)||Vn(22,e),function t(r){if(!Lo(r))return r;var n,i=r[At],o=lu(r);if(i){if(!i.P&&(i.i<4||!ci("ES5").K(i)))return i.t;i.I=!0,n=Eb(r,o),i.I=!1}else n=Eb(r,o);return Ta(n,function(a,s){i&&y4(i.t,a)===s||_2(n,a,t(s))}),o===3?new Set(n):n}(e)}function Eb(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ty(e)}function T4(){function e(o,a){var s=i[o];return s?s.enumerable=a:i[o]=s={configurable:!0,enumerable:a,get:function(){var f=this[At];return Dl.get(f,o)},set:function(f){var c=this[At];Dl.set(c,o,f)}},s}function t(o){for(var a=o.length-1;a>=0;a--){var s=o[a][At];if(!s.P)switch(s.i){case 5:n(s)&&co(s);break;case 4:r(s)&&co(s)}}}function r(o){for(var a=o.t,s=o.k,f=Ds(s),c=f.length-1;c>=0;c--){var h=f[c];if(h!==At){var p=a[h];if(p===void 0&&!Ms(a,h))return!0;var v=s[h],_=v&&v[At];if(_?_.t!==p:!m2(v,p))return!0}}var y=!!a[At];return f.length!==Ds(a).length+(y?0:1)}function n(o){var a=o.k;if(a.length!==o.t.length)return!0;var s=Object.getOwnPropertyDescriptor(a,a.length-1);if(s&&!s.get)return!0;for(var f=0;f<a.length;f++)if(!a.hasOwnProperty(f))return!0;return!1}var i={};E4("ES5",{J:function(o,a){var s=Array.isArray(o),f=function(h,p){if(h){for(var v=Array(p.length),_=0;_<p.length;_++)Object.defineProperty(v,""+_,e(_,!0));return v}var y=y2(p);delete y[At];for(var E=Ds(y),g=0;g<E.length;g++){var x=E[g];y[x]=e(x,h||!!y[x].enumerable)}return Object.create(Object.getPrototypeOf(p),y)}(s,o),c={i:s?5:4,A:a?a.A:Zm(),P:!1,I:!1,D:{},l:a,t:o,k:f,o:null,O:!1,C:!1};return Object.defineProperty(f,At,{value:c,writable:!0}),f},S:function(o,a,s){s?Oo(a)&&a[At].A===o&&t(o.p):(o.u&&function f(c){if(c&&typeof c=="object"){var h=c[At];if(h){var p=h.t,v=h.k,_=h.D,y=h.i;if(y===4)Ta(v,function(I){I!==At&&(p[I]!==void 0||Ms(p,I)?_[I]||f(v[I]):(_[I]=!0,co(h)))}),Ta(p,function(I){v[I]!==void 0||Ms(v,I)||(_[I]=!1,co(h))});else if(y===5){if(n(h)&&(co(h),_.length=!0),v.length<p.length)for(var E=v.length;E<p.length;E++)_[E]=!1;else for(var g=p.length;g<v.length;g++)_[g]=!0;for(var x=Math.min(v.length,p.length),w=0;w<x;w++)v.hasOwnProperty(w)||(_[w]=!0),_[w]===void 0&&f(v[w])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var bb,Ml,iy=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",S4=typeof Map!="undefined",C4=typeof Set!="undefined",wb=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",g2=iy?Symbol.for("immer-nothing"):((bb={})["immer-nothing"]=!0,bb),Tb=iy?Symbol.for("immer-draftable"):"__$immer_draftable",At=iy?Symbol.for("immer-state"):"__$immer_state",I4=""+Object.prototype.constructor,Ds=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,y2=Object.getOwnPropertyDescriptors||function(e){var t={};return Ds(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},eg={},Dl={get:function(e,t){if(t===At)return e;var r=ua(e);if(!Ms(r,t))return function(i,o,a){var s,f=xb(o,a);return f?"value"in f?f.value:(s=f.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Lo(n)?n:n===m_(e.t,t)?(g_(e),e.o[t]=Qm(e.A.h,n,e)):n},has:function(e,t){return t in ua(e)},ownKeys:function(e){return Reflect.ownKeys(ua(e))},set:function(e,t,r){var n=xb(ua(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=m_(ua(e),t),o=i==null?void 0:i[At];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(m2(r,i)&&(r!==void 0||Ms(e.t,t)))return!0;g_(e),co(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return m_(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,g_(e),co(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=ua(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Vn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Vn(12)}},sl={};Ta(Dl,function(e,t){sl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),sl.deleteProperty=function(e,t){return sl.set.call(this,e,t,void 0)},sl.set=function(e,t,r){return Dl.set.call(this,e[0],t,r,e[0])};var R4=function(){function e(r){var n=this;this.g=wb,this.F=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var f=n;return function(E){var g=this;E===void 0&&(E=s);for(var x=arguments.length,w=Array(x>1?x-1:0),I=1;I<x;I++)w[I-1]=arguments[I];return f.produce(E,function(P){var N;return(N=o).call.apply(N,[g,P].concat(w))})}}var c;if(typeof o!="function"&&Vn(6),a!==void 0&&typeof a!="function"&&Vn(7),Lo(i)){var h=gb(n),p=Qm(n,i,void 0),v=!0;try{c=o(p),v=!1}finally{v?jh(h):Jm(h)}return typeof Promise!="undefined"&&c instanceof Promise?c.then(function(E){return v_(h,a),__(E,h)},function(E){throw jh(h),E}):(v_(h,a),__(c,h))}if(!i||typeof i!="object"){if((c=o(i))===void 0&&(c=i),c===g2&&(c=void 0),n.F&&ry(c,!0),a){var _=[],y=[];ci("Patches").M(i,c,_,y),a(_,y)}return c}Vn(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(c){for(var h=arguments.length,p=Array(h>1?h-1:0),v=1;v<h;v++)p[v-1]=arguments[v];return n.produceWithPatches(c,function(_){return i.apply(void 0,[_].concat(p))})};var a,s,f=n.produce(i,o,function(c,h){a=c,s=h});return typeof Promise!="undefined"&&f instanceof Promise?f.then(function(c){return[c,a,s]}):[f,a,s]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Lo(r)||Vn(8),Oo(r)&&(r=w4(r));var n=gb(this),i=Qm(this,r,void 0);return i[At].C=!0,Jm(n),i},t.finishDraft=function(r,n){var i=r&&r[At],o=i.A;return v_(o,n),__(void 0,o)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!wb&&Vn(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var a=ci("Patches").$;return Oo(r)?a(r,n):this.produce(r,function(s){return a(s,n)})},e}(),fn=new R4,N4=fn.produce;fn.produceWithPatches.bind(fn);fn.setAutoFreeze.bind(fn);fn.setUseProxies.bind(fn);fn.applyPatches.bind(fn);fn.createDraft.bind(fn);fn.finishDraft.bind(fn);var hh=N4;function A4(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sb(Object(r),!0).forEach(function(n){A4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function br(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ib=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),y_=function(){return Math.random().toString(36).substring(7).split("").join(".")},Yh={INIT:"@@redux/INIT"+y_(),REPLACE:"@@redux/REPLACE"+y_(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+y_()}};function P4(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function x2(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(br(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(br(1));return r(x2)(e,t)}if(typeof e!="function")throw new Error(br(2));var i=e,o=t,a=[],s=a,f=!1;function c(){s===a&&(s=a.slice())}function h(){if(f)throw new Error(br(3));return o}function p(E){if(typeof E!="function")throw new Error(br(4));if(f)throw new Error(br(5));var g=!0;return c(),s.push(E),function(){if(!!g){if(f)throw new Error(br(6));g=!1,c();var w=s.indexOf(E);s.splice(w,1),a=null}}}function v(E){if(!P4(E))throw new Error(br(7));if(typeof E.type=="undefined")throw new Error(br(8));if(f)throw new Error(br(9));try{f=!0,o=i(o,E)}finally{f=!1}for(var g=a=s,x=0;x<g.length;x++){var w=g[x];w()}return E}function _(E){if(typeof E!="function")throw new Error(br(10));i=E,v({type:Yh.REPLACE})}function y(){var E,g=p;return E={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(br(11));function I(){w.next&&w.next(h())}I();var P=g(I);return{unsubscribe:P}}},E[Ib]=function(){return this},E}return v({type:Yh.INIT}),n={dispatch:v,subscribe:p,getState:h,replaceReducer:_},n[Ib]=y,n}function O4(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Yh.INIT});if(typeof n=="undefined")throw new Error(br(12));if(typeof r(void 0,{type:Yh.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(br(13))})}function L4(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),a;try{O4(r)}catch(s){a=s}return function(f,c){if(f===void 0&&(f={}),a)throw a;for(var h=!1,p={},v=0;v<o.length;v++){var _=o[v],y=r[_],E=f[_],g=y(E,c);if(typeof g=="undefined")throw c&&c.type,new Error(br(14));p[_]=g,h=h||g!==E}return h=h||o.length!==Object.keys(f).length,h?p:f}}function qh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function k4(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(br(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},s=t.map(function(f){return f(a)});return o=qh.apply(void 0,s)(i.dispatch),Cb(Cb({},i),{},{dispatch:o})}}}function E2(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(a){return function(s){return typeof s=="function"?s(i,o,e):a(s)}}};return t}var b2=E2();b2.withExtraArgument=E2;var Rb=b2,F4=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();globalThis&&globalThis.__generator;var Kh=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},U4=Object.defineProperty,Nb=Object.getOwnPropertySymbols,B4=Object.prototype.hasOwnProperty,M4=Object.prototype.propertyIsEnumerable,Ab=function(e,t,r){return t in e?U4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Gl=function(e,t){for(var r in t||(t={}))B4.call(t,r)&&Ab(e,r,t[r]);if(Nb)for(var n=0,i=Nb(t);n<i.length;n++){var r=i[n];M4.call(t,r)&&Ab(e,r,t[r])}return e},D4=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qh:qh.apply(null,arguments)};function G4(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var H4=function(e){F4(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Kh([void 0],r[0].concat(this)))):new(t.bind.apply(t,Kh([void 0],r.concat(this))))},t}(Array);function $4(e){return typeof e=="boolean"}function X4(){return function(t){return V4(t)}}function V4(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var n=new H4;return r&&($4(r)?n.push(Rb):n.push(Rb.withExtraArgument(r.extraArgument))),n}var j4=!0;function z4(e){var t=X4(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,a=o===void 0?t():o,s=r.devTools,f=s===void 0?!0:s,c=r.preloadedState,h=c===void 0?void 0:c,p=r.enhancers,v=p===void 0?void 0:p,_;if(typeof i=="function")_=i;else if(G4(i))_=L4(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=a;typeof y=="function"&&(y=y(t));var E=k4.apply(void 0,y),g=qh;f&&(g=D4(Gl({trace:!j4},typeof f=="object"&&f)));var x=[E];Array.isArray(v)?x=Kh([E],v):typeof v=="function"&&(x=v(x));var w=g.apply(void 0,x);return x2(_,h,w)}function Hl(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Gl(Gl({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function w2(e){var t={},r=[],n,i={addCase:function(o,a){var s=typeof o=="string"?o:o.type;if(s in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[s]=a,i},addMatcher:function(o,a){return r.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function W4(e){return typeof e=="function"}function Y4(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?w2(t):[t,r,n],o=i[0],a=i[1],s=i[2],f;if(W4(e))f=function(){return hh(e(),function(){})};else{var c=hh(e,function(){});f=function(){return c}}function h(p,v){p===void 0&&(p=f());var _=Kh([o[v.type]],a.filter(function(y){var E=y.matcher;return E(v)}).map(function(y){var E=y.reducer;return E}));return _.filter(function(y){return!!y}).length===0&&(_=[s]),_.reduce(function(y,E){if(E)if(Oo(y)){var g=y,x=E(g,v);return typeof x=="undefined"?y:x}else{if(Lo(y))return hh(y,function(w){return E(w,v)});var x=E(y,v);if(typeof x=="undefined"){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return y},p)}return h.getInitialState=f,h}function q4(e,t){return e+"/"+t}function oy(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:hh(e.initialState,function(){}),n=e.reducers||{},i=Object.keys(n),o={},a={},s={};i.forEach(function(h){var p=n[h],v=q4(t,h),_,y;"reducer"in p?(_=p.reducer,y=p.prepare):_=p,o[h]=_,a[v]=_,s[h]=y?Hl(v,y):Hl(v)});function f(){var h=typeof e.extraReducers=="function"?w2(e.extraReducers):[e.extraReducers],p=h[0],v=p===void 0?{}:p,_=h[1],y=_===void 0?[]:_,E=h[2],g=E===void 0?void 0:E,x=Gl(Gl({},v),a);return Y4(r,x,y,g)}var c;return{name:t,reducer:function(h,p){return c||(c=f()),c(h,p)},actions:s,caseReducers:o,getInitialState:function(){return c||(c=f()),c.getInitialState()}}}var ay="listenerMiddleware";Hl(ay+"/add");Hl(ay+"/removeAll");Hl(ay+"/remove");T4();const T2={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",showText:"",showName:"",command:"",choose:[],vocal:"",bgm:"",miniAvatar:"",GameVar:{},effects:[],bgFilter:"",bgTransform:"",PerformList:[]},S2=oy({name:"stage",initialState:T2,reducers:{resetStageState:(e,t)=>{Object.assign(e,t.payload)},setStage:(e,t)=>{e[t.payload.key]=t.payload.value},setStageVar:(e,t)=>{e.GameVar[t.payload.key]=t.payload.value}}}),{resetStageState:fu,setStage:Ar,setStageVar:zu}=S2.actions;var K4=S2.reducer,qs={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,o){function a(c,h){if(!i[c]){if(!n[c]){var p=typeof pc=="function"&&pc;if(!h&&p)return p(c,!0);if(s)return s(c,!0);var v=new Error("Cannot find module '"+c+"'");throw v.code="MODULE_NOT_FOUND",v}var _=i[c]={exports:{}};n[c][0].call(_.exports,function(y){var E=n[c][1][y];return a(E||y)},_,_.exports,r,n,i,o)}return i[c].exports}for(var s=typeof pc=="function"&&pc,f=0;f<o.length;f++)a(o[f]);return a}({1:[function(r,n,i){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,s;if(a){var f=0,c=new a(y),h=o.document.createTextNode("");c.observe(h,{characterData:!0}),s=function(){h.data=f=++f%2}}else if(!o.setImmediate&&typeof o.MessageChannel!="undefined"){var p=new o.MessageChannel;p.port1.onmessage=y,s=function(){p.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?s=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){y(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:s=function(){setTimeout(y,0)};var v,_=[];function y(){v=!0;for(var g,x,w=_.length;w;){for(x=_,_=[],g=-1;++g<w;)x[g]();w=_.length}v=!1}n.exports=E;function E(g){_.push(g)===1&&!v&&s()}}).call(this,typeof Tn!="undefined"?Tn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(r,n,i){var o=r(1);function a(){}var s={},f=["REJECTED"],c=["FULFILLED"],h=["PENDING"];n.exports=p;function p(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,N!==a&&E(this,N)}p.prototype.catch=function(N){return this.then(null,N)},p.prototype.then=function(N,R){if(typeof N!="function"&&this.state===c||typeof R!="function"&&this.state===f)return this;var M=new this.constructor(a);if(this.state!==h){var X=this.state===c?N:R;_(M,X,this.outcome)}else this.queue.push(new v(M,N,R));return M};function v(N,R,M){this.promise=N,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(N){s.resolve(this.promise,N)},v.prototype.otherCallFulfilled=function(N){_(this.promise,this.onFulfilled,N)},v.prototype.callRejected=function(N){s.reject(this.promise,N)},v.prototype.otherCallRejected=function(N){_(this.promise,this.onRejected,N)};function _(N,R,M){o(function(){var X;try{X=R(M)}catch(D){return s.reject(N,D)}X===N?s.reject(N,new TypeError("Cannot resolve promise with itself")):s.resolve(N,X)})}s.resolve=function(N,R){var M=g(y,R);if(M.status==="error")return s.reject(N,M.value);var X=M.value;if(X)E(N,X);else{N.state=c,N.outcome=R;for(var D=-1,W=N.queue.length;++D<W;)N.queue[D].callFulfilled(R)}return N},s.reject=function(N,R){N.state=f,N.outcome=R;for(var M=-1,X=N.queue.length;++M<X;)N.queue[M].callRejected(R);return N};function y(N){var R=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof R=="function")return function(){R.apply(N,arguments)}}function E(N,R){var M=!1;function X(ue){M||(M=!0,s.reject(N,ue))}function D(ue){M||(M=!0,s.resolve(N,ue))}function W(){R(D,X)}var de=g(W);de.status==="error"&&X(de.value)}function g(N,R){var M={};try{M.value=N(R),M.status="success"}catch(X){M.status="error",M.value=X}return M}p.resolve=x;function x(N){return N instanceof this?N:s.resolve(new this(a),N)}p.reject=w;function w(N){var R=new this(a);return s.reject(R,N)}p.all=I;function I(N){var R=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=N.length,X=!1;if(!M)return this.resolve([]);for(var D=new Array(M),W=0,de=-1,ue=new this(a);++de<M;)pe(N[de],de);return ue;function pe(We,le){R.resolve(We).then(fe,function(Ee){X||(X=!0,s.reject(ue,Ee))});function fe(Ee){D[le]=Ee,++W===M&&!X&&(X=!0,s.resolve(ue,D))}}}p.race=P;function P(N){var R=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=N.length,X=!1;if(!M)return this.resolve([]);for(var D=-1,W=new this(a);++D<M;)de(N[D]);return W;function de(ue){R.resolve(ue).then(function(pe){X||(X=!0,s.resolve(W,pe))},function(pe){X||(X=!0,s.reject(W,pe))})}}},{"1":1}],3:[function(r,n,i){(function(o){typeof o.Promise!="function"&&(o.Promise=r(2))}).call(this,typeof Tn!="undefined"?Tn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(r,n,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};function a(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}function s(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var f=s();function c(){try{if(!f||!f.open)return!1;var S=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),L=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!S||L)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function h(S,L){S=S||[],L=L||{};try{return new Blob(S,L)}catch(F){if(F.name!=="TypeError")throw F;for(var A=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,U=new A,$=0;$<S.length;$+=1)U.append(S[$]);return U.getBlob(L.type)}}typeof Promise=="undefined"&&r(3);var p=Promise;function v(S,L){L&&S.then(function(A){L(null,A)},function(A){L(A)})}function _(S,L,A){typeof L=="function"&&S.then(L),typeof A=="function"&&S.catch(A)}function y(S){return typeof S!="string"&&(console.warn(S+" used as a key, but it is not a string."),S=String(S)),S}function E(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",x=void 0,w={},I=Object.prototype.toString,P="readonly",N="readwrite";function R(S){for(var L=S.length,A=new ArrayBuffer(L),U=new Uint8Array(A),$=0;$<L;$++)U[$]=S.charCodeAt($);return A}function M(S){return new p(function(L){var A=S.transaction(g,N),U=h([""]);A.objectStore(g).put(U,"key"),A.onabort=function($){$.preventDefault(),$.stopPropagation(),L(!1)},A.oncomplete=function(){var $=navigator.userAgent.match(/Chrome\/(\d+)/),F=navigator.userAgent.match(/Edge\//);L(F||!$||parseInt($[1],10)>=43)}}).catch(function(){return!1})}function X(S){return typeof x=="boolean"?p.resolve(x):M(S).then(function(L){return x=L,x})}function D(S){var L=w[S.name],A={};A.promise=new p(function(U,$){A.resolve=U,A.reject=$}),L.deferredOperations.push(A),L.dbReady?L.dbReady=L.dbReady.then(function(){return A.promise}):L.dbReady=A.promise}function W(S){var L=w[S.name],A=L.deferredOperations.pop();if(A)return A.resolve(),A.promise}function de(S,L){var A=w[S.name],U=A.deferredOperations.pop();if(U)return U.reject(L),U.promise}function ue(S,L){return new p(function(A,U){if(w[S.name]=w[S.name]||ne(),S.db)if(L)D(S),S.db.close();else return A(S.db);var $=[S.name];L&&$.push(S.version);var F=f.open.apply(f,$);L&&(F.onupgradeneeded=function(Y){var Q=F.result;try{Q.createObjectStore(S.storeName),Y.oldVersion<=1&&Q.createObjectStore(g)}catch(te){if(te.name==="ConstraintError")console.warn('The database "'+S.name+'" has been upgraded from version '+Y.oldVersion+" to version "+Y.newVersion+', but the storage "'+S.storeName+'" already exists.');else throw te}}),F.onerror=function(Y){Y.preventDefault(),U(F.error)},F.onsuccess=function(){var Y=F.result;Y.onversionchange=function(Q){Q.target.close()},A(Y),W(S)}})}function pe(S){return ue(S,!1)}function We(S){return ue(S,!0)}function le(S,L){if(!S.db)return!0;var A=!S.db.objectStoreNames.contains(S.storeName),U=S.version<S.db.version,$=S.version>S.db.version;if(U&&(S.version!==L&&console.warn('The database "'+S.name+`" can't be downgraded from version `+S.db.version+" to version "+S.version+"."),S.version=S.db.version),$||A){if(A){var F=S.db.version+1;F>S.version&&(S.version=F)}return!0}return!1}function fe(S){return new p(function(L,A){var U=new FileReader;U.onerror=A,U.onloadend=function($){var F=btoa($.target.result||"");L({__local_forage_encoded_blob:!0,data:F,type:S.type})},U.readAsBinaryString(S)})}function Ee(S){var L=R(atob(S.data));return h([L],{type:S.type})}function Fe(S){return S&&S.__local_forage_encoded_blob}function dt(S){var L=this,A=L._initReady().then(function(){var U=w[L._dbInfo.name];if(U&&U.dbReady)return U.dbReady});return _(A,S,S),A}function Z(S){D(S);for(var L=w[S.name],A=L.forages,U=0;U<A.length;U++){var $=A[U];$._dbInfo.db&&($._dbInfo.db.close(),$._dbInfo.db=null)}return S.db=null,pe(S).then(function(F){return S.db=F,le(S)?We(S):F}).then(function(F){S.db=L.db=F;for(var Y=0;Y<A.length;Y++)A[Y]._dbInfo.db=F}).catch(function(F){throw de(S,F),F})}function V(S,L,A,U){U===void 0&&(U=1);try{var $=S.db.transaction(S.storeName,L);A(null,$)}catch(F){if(U>0&&(!S.db||F.name==="InvalidStateError"||F.name==="NotFoundError"))return p.resolve().then(function(){if(!S.db||F.name==="NotFoundError"&&!S.db.objectStoreNames.contains(S.storeName)&&S.version<=S.db.version)return S.db&&(S.version=S.db.version+1),We(S)}).then(function(){return Z(S).then(function(){V(S,L,A,U-1)})}).catch(A);A(F)}}function ne(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ce(S){var L=this,A={db:null};if(S)for(var U in S)A[U]=S[U];var $=w[A.name];$||($=ne(),w[A.name]=$),$.forages.push(L),L._initReady||(L._initReady=L.ready,L.ready=dt);var F=[];function Y(){return p.resolve()}for(var Q=0;Q<$.forages.length;Q++){var te=$.forages[Q];te!==L&&F.push(te._initReady().catch(Y))}var re=$.forages.slice(0);return p.all(F).then(function(){return A.db=$.db,pe(A)}).then(function(ae){return A.db=ae,le(A,L._defaultConfig.version)?We(A):ae}).then(function(ae){A.db=$.db=ae,L._dbInfo=A;for(var ge=0;ge<re.length;ge++){var $e=re[ge];$e!==L&&($e._dbInfo.db=A.db,$e._dbInfo.version=A.version)}})}function Se(S,L){var A=this;S=y(S);var U=new p(function($,F){A.ready().then(function(){V(A._dbInfo,P,function(Y,Q){if(Y)return F(Y);try{var te=Q.objectStore(A._dbInfo.storeName),re=te.get(S);re.onsuccess=function(){var ae=re.result;ae===void 0&&(ae=null),Fe(ae)&&(ae=Ee(ae)),$(ae)},re.onerror=function(){F(re.error)}}catch(ae){F(ae)}})}).catch(F)});return v(U,L),U}function ke(S,L){var A=this,U=new p(function($,F){A.ready().then(function(){V(A._dbInfo,P,function(Y,Q){if(Y)return F(Y);try{var te=Q.objectStore(A._dbInfo.storeName),re=te.openCursor(),ae=1;re.onsuccess=function(){var ge=re.result;if(ge){var $e=ge.value;Fe($e)&&($e=Ee($e));var nt=S($e,ge.key,ae++);nt!==void 0?$(nt):ge.continue()}else $()},re.onerror=function(){F(re.error)}}catch(ge){F(ge)}})}).catch(F)});return v(U,L),U}function Me(S,L,A){var U=this;S=y(S);var $=new p(function(F,Y){var Q;U.ready().then(function(){return Q=U._dbInfo,I.call(L)==="[object Blob]"?X(Q.db).then(function(te){return te?L:fe(L)}):L}).then(function(te){V(U._dbInfo,N,function(re,ae){if(re)return Y(re);try{var ge=ae.objectStore(U._dbInfo.storeName);te===null&&(te=void 0);var $e=ge.put(te,S);ae.oncomplete=function(){te===void 0&&(te=null),F(te)},ae.onabort=ae.onerror=function(){var nt=$e.error?$e.error:$e.transaction.error;Y(nt)}}catch(nt){Y(nt)}})}).catch(Y)});return v($,A),$}function st(S,L){var A=this;S=y(S);var U=new p(function($,F){A.ready().then(function(){V(A._dbInfo,N,function(Y,Q){if(Y)return F(Y);try{var te=Q.objectStore(A._dbInfo.storeName),re=te.delete(S);Q.oncomplete=function(){$()},Q.onerror=function(){F(re.error)},Q.onabort=function(){var ae=re.error?re.error:re.transaction.error;F(ae)}}catch(ae){F(ae)}})}).catch(F)});return v(U,L),U}function ut(S){var L=this,A=new p(function(U,$){L.ready().then(function(){V(L._dbInfo,N,function(F,Y){if(F)return $(F);try{var Q=Y.objectStore(L._dbInfo.storeName),te=Q.clear();Y.oncomplete=function(){U()},Y.onabort=Y.onerror=function(){var re=te.error?te.error:te.transaction.error;$(re)}}catch(re){$(re)}})}).catch($)});return v(A,S),A}function Ye(S){var L=this,A=new p(function(U,$){L.ready().then(function(){V(L._dbInfo,P,function(F,Y){if(F)return $(F);try{var Q=Y.objectStore(L._dbInfo.storeName),te=Q.count();te.onsuccess=function(){U(te.result)},te.onerror=function(){$(te.error)}}catch(re){$(re)}})}).catch($)});return v(A,S),A}function wt(S,L){var A=this,U=new p(function($,F){if(S<0){$(null);return}A.ready().then(function(){V(A._dbInfo,P,function(Y,Q){if(Y)return F(Y);try{var te=Q.objectStore(A._dbInfo.storeName),re=!1,ae=te.openKeyCursor();ae.onsuccess=function(){var ge=ae.result;if(!ge){$(null);return}S===0||re?$(ge.key):(re=!0,ge.advance(S))},ae.onerror=function(){F(ae.error)}}catch(ge){F(ge)}})}).catch(F)});return v(U,L),U}function Ke(S){var L=this,A=new p(function(U,$){L.ready().then(function(){V(L._dbInfo,P,function(F,Y){if(F)return $(F);try{var Q=Y.objectStore(L._dbInfo.storeName),te=Q.openKeyCursor(),re=[];te.onsuccess=function(){var ae=te.result;if(!ae){U(re);return}re.push(ae.key),ae.continue()},te.onerror=function(){$(te.error)}}catch(ae){$(ae)}})}).catch($)});return v(A,S),A}function lt(S,L){L=E.apply(this,arguments);var A=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||A.name,S.storeName=S.storeName||A.storeName);var U=this,$;if(!S.name)$=p.reject("Invalid arguments");else{var F=S.name===A.name&&U._dbInfo.db,Y=F?p.resolve(U._dbInfo.db):pe(S).then(function(Q){var te=w[S.name],re=te.forages;te.db=Q;for(var ae=0;ae<re.length;ae++)re[ae]._dbInfo.db=Q;return Q});S.storeName?$=Y.then(function(Q){if(!!Q.objectStoreNames.contains(S.storeName)){var te=Q.version+1;D(S);var re=w[S.name],ae=re.forages;Q.close();for(var ge=0;ge<ae.length;ge++){var $e=ae[ge];$e._dbInfo.db=null,$e._dbInfo.version=te}var nt=new p(function(it,Rt){var _t=f.open(S.name,te);_t.onerror=function(Or){var Zi=_t.result;Zi.close(),Rt(Or)},_t.onupgradeneeded=function(){var Or=_t.result;Or.deleteObjectStore(S.storeName)},_t.onsuccess=function(){var Or=_t.result;Or.close(),it(Or)}});return nt.then(function(it){re.db=it;for(var Rt=0;Rt<ae.length;Rt++){var _t=ae[Rt];_t._dbInfo.db=it,W(_t._dbInfo)}}).catch(function(it){throw(de(S,it)||p.resolve()).catch(function(){}),it})}}):$=Y.then(function(Q){D(S);var te=w[S.name],re=te.forages;Q.close();for(var ae=0;ae<re.length;ae++){var ge=re[ae];ge._dbInfo.db=null}var $e=new p(function(nt,it){var Rt=f.deleteDatabase(S.name);Rt.onerror=function(){var _t=Rt.result;_t&&_t.close(),it(Rt.error)},Rt.onblocked=function(){console.warn('dropInstance blocked for database "'+S.name+'" until all open connections are closed')},Rt.onsuccess=function(){var _t=Rt.result;_t&&_t.close(),nt(_t)}});return $e.then(function(nt){te.db=nt;for(var it=0;it<re.length;it++){var Rt=re[it];W(Rt._dbInfo)}}).catch(function(nt){throw(de(S,nt)||p.resolve()).catch(function(){}),nt})})}return v($,L),$}var Ge={_driver:"asyncStorage",_initStorage:ce,_support:c(),iterate:ke,getItem:Se,setItem:Me,removeItem:st,clear:ut,length:Ye,key:wt,keys:Ke,dropInstance:lt};function ct(){return typeof openDatabase=="function"}var rt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ze="~~local_forage_type~",Lt=/^~~local_forage_type~([^~]+)~/,Mr="__lfsc__:",qn=Mr.length,pn="arbf",or="blob",kn="si08",Kn="ui08",pf="uic8",Yi="si16",vf="si32",qi="ur16",xi="ui32",Ua="fl32",Ba="fl64",Ma=qn+pn.length,Da=Object.prototype.toString;function Ga(S){var L=S.length*.75,A=S.length,U,$=0,F,Y,Q,te;S[S.length-1]==="="&&(L--,S[S.length-2]==="="&&L--);var re=new ArrayBuffer(L),ae=new Uint8Array(re);for(U=0;U<A;U+=4)F=rt.indexOf(S[U]),Y=rt.indexOf(S[U+1]),Q=rt.indexOf(S[U+2]),te=rt.indexOf(S[U+3]),ae[$++]=F<<2|Y>>4,ae[$++]=(Y&15)<<4|Q>>2,ae[$++]=(Q&3)<<6|te&63;return re}function Xo(S){var L=new Uint8Array(S),A="",U;for(U=0;U<L.length;U+=3)A+=rt[L[U]>>2],A+=rt[(L[U]&3)<<4|L[U+1]>>4],A+=rt[(L[U+1]&15)<<2|L[U+2]>>6],A+=rt[L[U+2]&63];return L.length%3===2?A=A.substring(0,A.length-1)+"=":L.length%3===1&&(A=A.substring(0,A.length-2)+"=="),A}function du(S,L){var A="";if(S&&(A=Da.call(S)),S&&(A==="[object ArrayBuffer]"||S.buffer&&Da.call(S.buffer)==="[object ArrayBuffer]")){var U,$=Mr;S instanceof ArrayBuffer?(U=S,$+=pn):(U=S.buffer,A==="[object Int8Array]"?$+=kn:A==="[object Uint8Array]"?$+=Kn:A==="[object Uint8ClampedArray]"?$+=pf:A==="[object Int16Array]"?$+=Yi:A==="[object Uint16Array]"?$+=qi:A==="[object Int32Array]"?$+=vf:A==="[object Uint32Array]"?$+=xi:A==="[object Float32Array]"?$+=Ua:A==="[object Float64Array]"?$+=Ba:L(new Error("Failed to get type for BinaryArray"))),L($+Xo(U))}else if(A==="[object Blob]"){var F=new FileReader;F.onload=function(){var Y=ze+S.type+"~"+Xo(this.result);L(Mr+or+Y)},F.readAsArrayBuffer(S)}else try{L(JSON.stringify(S))}catch(Y){console.error("Couldn't convert value into a JSON string: ",S),L(null,Y)}}function pu(S){if(S.substring(0,qn)!==Mr)return JSON.parse(S);var L=S.substring(Ma),A=S.substring(qn,Ma),U;if(A===or&&Lt.test(L)){var $=L.match(Lt);U=$[1],L=L.substring($[0].length)}var F=Ga(L);switch(A){case pn:return F;case or:return h([F],{type:U});case kn:return new Int8Array(F);case Kn:return new Uint8Array(F);case pf:return new Uint8ClampedArray(F);case Yi:return new Int16Array(F);case qi:return new Uint16Array(F);case vf:return new Int32Array(F);case xi:return new Uint32Array(F);case Ua:return new Float32Array(F);case Ba:return new Float64Array(F);default:throw new Error("Unkown type: "+A)}}var Vo={serialize:du,deserialize:pu,stringToBuffer:Ga,bufferToString:Xo};function _f(S,L,A,U){S.executeSql("CREATE TABLE IF NOT EXISTS "+L.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],A,U)}function hp(S){var L=this,A={db:null};if(S)for(var U in S)A[U]=typeof S[U]!="string"?S[U].toString():S[U];var $=new p(function(F,Y){try{A.db=openDatabase(A.name,String(A.version),A.description,A.size)}catch(Q){return Y(Q)}A.db.transaction(function(Q){_f(Q,A,function(){L._dbInfo=A,F()},function(te,re){Y(re)})},Y)});return A.serializer=Vo,$}function Zn(S,L,A,U,$,F){S.executeSql(A,U,$,function(Y,Q){Q.code===Q.SYNTAX_ERR?Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[L.storeName],function(te,re){re.rows.length?F(te,Q):_f(te,L,function(){te.executeSql(A,U,$,F)},F)},F):F(Y,Q)},F)}function mf(S,L){var A=this;S=y(S);var U=new p(function($,F){A.ready().then(function(){var Y=A._dbInfo;Y.db.transaction(function(Q){Zn(Q,Y,"SELECT * FROM "+Y.storeName+" WHERE key = ? LIMIT 1",[S],function(te,re){var ae=re.rows.length?re.rows.item(0).value:null;ae&&(ae=Y.serializer.deserialize(ae)),$(ae)},function(te,re){F(re)})})}).catch(F)});return v(U,L),U}function gf(S,L){var A=this,U=new p(function($,F){A.ready().then(function(){var Y=A._dbInfo;Y.db.transaction(function(Q){Zn(Q,Y,"SELECT * FROM "+Y.storeName,[],function(te,re){for(var ae=re.rows,ge=ae.length,$e=0;$e<ge;$e++){var nt=ae.item($e),it=nt.value;if(it&&(it=Y.serializer.deserialize(it)),it=S(it,nt.key,$e+1),it!==void 0){$(it);return}}$()},function(te,re){F(re)})})}).catch(F)});return v(U,L),U}function yf(S,L,A,U){var $=this;S=y(S);var F=new p(function(Y,Q){$.ready().then(function(){L===void 0&&(L=null);var te=L,re=$._dbInfo;re.serializer.serialize(L,function(ae,ge){ge?Q(ge):re.db.transaction(function($e){Zn($e,re,"INSERT OR REPLACE INTO "+re.storeName+" (key, value) VALUES (?, ?)",[S,ae],function(){Y(te)},function(nt,it){Q(it)})},function($e){if($e.code===$e.QUOTA_ERR){if(U>0){Y(yf.apply($,[S,te,A,U-1]));return}Q($e)}})})}).catch(Q)});return v(F,A),F}function dp(S,L,A){return yf.apply(this,[S,L,A,1])}function pp(S,L){var A=this;S=y(S);var U=new p(function($,F){A.ready().then(function(){var Y=A._dbInfo;Y.db.transaction(function(Q){Zn(Q,Y,"DELETE FROM "+Y.storeName+" WHERE key = ?",[S],function(){$()},function(te,re){F(re)})})}).catch(F)});return v(U,L),U}function vp(S){var L=this,A=new p(function(U,$){L.ready().then(function(){var F=L._dbInfo;F.db.transaction(function(Y){Zn(Y,F,"DELETE FROM "+F.storeName,[],function(){U()},function(Q,te){$(te)})})}).catch($)});return v(A,S),A}function xf(S){var L=this,A=new p(function(U,$){L.ready().then(function(){var F=L._dbInfo;F.db.transaction(function(Y){Zn(Y,F,"SELECT COUNT(key) as c FROM "+F.storeName,[],function(Q,te){var re=te.rows.item(0).c;U(re)},function(Q,te){$(te)})})}).catch($)});return v(A,S),A}function _p(S,L){var A=this,U=new p(function($,F){A.ready().then(function(){var Y=A._dbInfo;Y.db.transaction(function(Q){Zn(Q,Y,"SELECT key FROM "+Y.storeName+" WHERE id = ? LIMIT 1",[S+1],function(te,re){var ae=re.rows.length?re.rows.item(0).key:null;$(ae)},function(te,re){F(re)})})}).catch(F)});return v(U,L),U}function mp(S){var L=this,A=new p(function(U,$){L.ready().then(function(){var F=L._dbInfo;F.db.transaction(function(Y){Zn(Y,F,"SELECT key FROM "+F.storeName,[],function(Q,te){for(var re=[],ae=0;ae<te.rows.length;ae++)re.push(te.rows.item(ae).key);U(re)},function(Q,te){$(te)})})}).catch($)});return v(A,S),A}function gp(S){return new p(function(L,A){S.transaction(function(U){U.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function($,F){for(var Y=[],Q=0;Q<F.rows.length;Q++)Y.push(F.rows.item(Q).name);L({db:S,storeNames:Y})},function($,F){A(F)})},function(U){A(U)})})}function vu(S,L){L=E.apply(this,arguments);var A=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||A.name,S.storeName=S.storeName||A.storeName);var U=this,$;return S.name?$=new p(function(F){var Y;S.name===A.name?Y=U._dbInfo.db:Y=openDatabase(S.name,"","",0),S.storeName?F({db:Y,storeNames:[S.storeName]}):F(gp(Y))}).then(function(F){return new p(function(Y,Q){F.db.transaction(function(te){function re(nt){return new p(function(it,Rt){te.executeSql("DROP TABLE IF EXISTS "+nt,[],function(){it()},function(_t,Or){Rt(Or)})})}for(var ae=[],ge=0,$e=F.storeNames.length;ge<$e;ge++)ae.push(re(F.storeNames[ge]));p.all(ae).then(function(){Y()}).catch(function(nt){Q(nt)})},function(te){Q(te)})})}):$=p.reject("Invalid arguments"),v($,L),$}var yp={_driver:"webSQLStorage",_initStorage:hp,_support:ct(),iterate:gf,getItem:mf,setItem:dp,removeItem:pp,clear:vp,length:xf,key:_p,keys:mp,dropInstance:vu};function _u(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ef(S,L){var A=S.name+"/";return S.storeName!==L.storeName&&(A+=S.storeName+"/"),A}function xp(){var S="_localforage_support_test";try{return localStorage.setItem(S,!0),localStorage.removeItem(S),!1}catch{return!0}}function Ep(){return!xp()||localStorage.length>0}function bp(S){var L=this,A={};if(S)for(var U in S)A[U]=S[U];return A.keyPrefix=Ef(S,L._defaultConfig),Ep()?(L._dbInfo=A,A.serializer=Vo,p.resolve()):p.reject()}function wp(S){var L=this,A=L.ready().then(function(){for(var U=L._dbInfo.keyPrefix,$=localStorage.length-1;$>=0;$--){var F=localStorage.key($);F.indexOf(U)===0&&localStorage.removeItem(F)}});return v(A,S),A}function Tp(S,L){var A=this;S=y(S);var U=A.ready().then(function(){var $=A._dbInfo,F=localStorage.getItem($.keyPrefix+S);return F&&(F=$.serializer.deserialize(F)),F});return v(U,L),U}function Sp(S,L){var A=this,U=A.ready().then(function(){for(var $=A._dbInfo,F=$.keyPrefix,Y=F.length,Q=localStorage.length,te=1,re=0;re<Q;re++){var ae=localStorage.key(re);if(ae.indexOf(F)===0){var ge=localStorage.getItem(ae);if(ge&&(ge=$.serializer.deserialize(ge)),ge=S(ge,ae.substring(Y),te++),ge!==void 0)return ge}}});return v(U,L),U}function Cp(S,L){var A=this,U=A.ready().then(function(){var $=A._dbInfo,F;try{F=localStorage.key(S)}catch{F=null}return F&&(F=F.substring($.keyPrefix.length)),F});return v(U,L),U}function bf(S){var L=this,A=L.ready().then(function(){for(var U=L._dbInfo,$=localStorage.length,F=[],Y=0;Y<$;Y++){var Q=localStorage.key(Y);Q.indexOf(U.keyPrefix)===0&&F.push(Q.substring(U.keyPrefix.length))}return F});return v(A,S),A}function Ip(S){var L=this,A=L.keys().then(function(U){return U.length});return v(A,S),A}function Rp(S,L){var A=this;S=y(S);var U=A.ready().then(function(){var $=A._dbInfo;localStorage.removeItem($.keyPrefix+S)});return v(U,L),U}function Np(S,L,A){var U=this;S=y(S);var $=U.ready().then(function(){L===void 0&&(L=null);var F=L;return new p(function(Y,Q){var te=U._dbInfo;te.serializer.serialize(L,function(re,ae){if(ae)Q(ae);else try{localStorage.setItem(te.keyPrefix+S,re),Y(F)}catch(ge){(ge.name==="QuotaExceededError"||ge.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Q(ge),Q(ge)}})})});return v($,A),$}function Ap(S,L){if(L=E.apply(this,arguments),S=typeof S!="function"&&S||{},!S.name){var A=this.config();S.name=S.name||A.name,S.storeName=S.storeName||A.storeName}var U=this,$;return S.name?$=new p(function(F){S.storeName?F(Ef(S,U._defaultConfig)):F(S.name+"/")}).then(function(F){for(var Y=localStorage.length-1;Y>=0;Y--){var Q=localStorage.key(Y);Q.indexOf(F)===0&&localStorage.removeItem(Q)}}):$=p.reject("Invalid arguments"),v($,L),$}var Pp={_driver:"localStorageWrapper",_initStorage:bp,_support:_u(),iterate:Sp,getItem:Tp,setItem:Np,removeItem:Rp,clear:wp,length:Ip,key:Cp,keys:bf,dropInstance:Ap},Op=function(L,A){return L===A||typeof L=="number"&&typeof A=="number"&&isNaN(L)&&isNaN(A)},Ha=function(L,A){for(var U=L.length,$=0;$<U;){if(Op(L[$],A))return!0;$++}return!1},wf=Array.isArray||function(S){return Object.prototype.toString.call(S)==="[object Array]"},Jn={},Tf={},Ki={INDEXEDDB:Ge,WEBSQL:yp,LOCALSTORAGE:Pp},Lp=[Ki.INDEXEDDB._driver,Ki.WEBSQL._driver,Ki.LOCALSTORAGE._driver],jo=["dropInstance"],$a=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(jo),Sf={description:"",driver:Lp.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function kp(S,L){S[L]=function(){var A=arguments;return S.ready().then(function(){return S[L].apply(S,A)})}}function mu(){for(var S=1;S<arguments.length;S++){var L=arguments[S];if(L)for(var A in L)L.hasOwnProperty(A)&&(wf(L[A])?arguments[0][A]=L[A].slice():arguments[0][A]=L[A])}return arguments[0]}var Fp=function(){function S(L){a(this,S);for(var A in Ki)if(Ki.hasOwnProperty(A)){var U=Ki[A],$=U._driver;this[A]=$,Jn[$]||this.defineDriver(U)}this._defaultConfig=mu({},Sf),this._config=mu({},this._defaultConfig,L),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return S.prototype.config=function(A){if((typeof A=="undefined"?"undefined":o(A))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var U in A){if(U==="storeName"&&(A[U]=A[U].replace(/\W/g,"_")),U==="version"&&typeof A[U]!="number")return new Error("Database version must be a number.");this._config[U]=A[U]}return"driver"in A&&A.driver?this.setDriver(this._config.driver):!0}else return typeof A=="string"?this._config[A]:this._config},S.prototype.defineDriver=function(A,U,$){var F=new p(function(Y,Q){try{var te=A._driver,re=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!A._driver){Q(re);return}for(var ae=$a.concat("_initStorage"),ge=0,$e=ae.length;ge<$e;ge++){var nt=ae[ge],it=!Ha(jo,nt);if((it||A[nt])&&typeof A[nt]!="function"){Q(re);return}}var Rt=function(){for(var Zi=function(If){return function(){var Mp=new Error("Method "+If+" is not implemented by the current driver"),Rf=p.reject(Mp);return v(Rf,arguments[arguments.length-1]),Rf}},gu=0,Cf=jo.length;gu<Cf;gu++){var Xa=jo[gu];A[Xa]||(A[Xa]=Zi(Xa))}};Rt();var _t=function(Zi){Jn[te]&&console.info("Redefining LocalForage driver: "+te),Jn[te]=A,Tf[te]=Zi,Y()};"_support"in A?A._support&&typeof A._support=="function"?A._support().then(_t,Q):_t(!!A._support):_t(!0)}catch(Or){Q(Or)}});return _(F,U,$),F},S.prototype.driver=function(){return this._driver||null},S.prototype.getDriver=function(A,U,$){var F=Jn[A]?p.resolve(Jn[A]):p.reject(new Error("Driver not found."));return _(F,U,$),F},S.prototype.getSerializer=function(A){var U=p.resolve(Vo);return _(U,A),U},S.prototype.ready=function(A){var U=this,$=U._driverSet.then(function(){return U._ready===null&&(U._ready=U._initDriver()),U._ready});return _($,A,A),$},S.prototype.setDriver=function(A,U,$){var F=this;wf(A)||(A=[A]);var Y=this._getSupportedDrivers(A);function Q(){F._config.driver=F.driver()}function te(ge){return F._extend(ge),Q(),F._ready=F._initStorage(F._config),F._ready}function re(ge){return function(){var $e=0;function nt(){for(;$e<ge.length;){var it=ge[$e];return $e++,F._dbInfo=null,F._ready=null,F.getDriver(it).then(te).catch(nt)}Q();var Rt=new Error("No available storage method found.");return F._driverSet=p.reject(Rt),F._driverSet}return nt()}}var ae=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=ae.then(function(){var ge=Y[0];return F._dbInfo=null,F._ready=null,F.getDriver(ge).then(function($e){F._driver=$e._driver,Q(),F._wrapLibraryMethodsWithReady(),F._initDriver=re(Y)})}).catch(function(){Q();var ge=new Error("No available storage method found.");return F._driverSet=p.reject(ge),F._driverSet}),_(this._driverSet,U,$),this._driverSet},S.prototype.supports=function(A){return!!Tf[A]},S.prototype._extend=function(A){mu(this,A)},S.prototype._getSupportedDrivers=function(A){for(var U=[],$=0,F=A.length;$<F;$++){var Y=A[$];this.supports(Y)&&U.push(Y)}return U},S.prototype._wrapLibraryMethodsWithReady=function(){for(var A=0,U=$a.length;A<U;A++)kp(this,$a[A])},S.prototype.createInstance=function(A){return new S(A)},S}(),Up=new Fp;n.exports=Up},{"3":3}]},{},[4])(4)})})(qs);var C2=qs.exports;const ko={gameName:"",gameKey:""},I2=[];var sy={exports:{}},R2=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},Z4=R2,La=Object.prototype.toString;function uy(e){return La.call(e)==="[object Array]"}function tg(e){return typeof e=="undefined"}function J4(e){return e!==null&&!tg(e)&&e.constructor!==null&&!tg(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Q4(e){return La.call(e)==="[object ArrayBuffer]"}function eB(e){return typeof FormData!="undefined"&&e instanceof FormData}function tB(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function rB(e){return typeof e=="string"}function nB(e){return typeof e=="number"}function N2(e){return e!==null&&typeof e=="object"}function dh(e){if(La.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function iB(e){return La.call(e)==="[object Date]"}function oB(e){return La.call(e)==="[object File]"}function aB(e){return La.call(e)==="[object Blob]"}function A2(e){return La.call(e)==="[object Function]"}function sB(e){return N2(e)&&A2(e.pipe)}function uB(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function lB(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function fB(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function ly(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),uy(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function rg(){var e={};function t(i,o){dh(e[o])&&dh(i)?e[o]=rg(e[o],i):dh(i)?e[o]=rg({},i):uy(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)ly(arguments[r],t);return e}function cB(e,t,r){return ly(t,function(i,o){r&&typeof i=="function"?e[o]=Z4(i,r):e[o]=i}),e}function hB(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var hn={isArray:uy,isArrayBuffer:Q4,isBuffer:J4,isFormData:eB,isArrayBufferView:tB,isString:rB,isNumber:nB,isObject:N2,isPlainObject:dh,isUndefined:tg,isDate:iB,isFile:oB,isBlob:aB,isFunction:A2,isStream:sB,isURLSearchParams:uB,isStandardBrowserEnv:fB,forEach:ly,merge:rg,extend:cB,trim:lB,stripBOM:hB},is=hn;function Pb(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var P2=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(is.isURLSearchParams(r))i=r.toString();else{var o=[];is.forEach(r,function(f,c){f===null||typeof f=="undefined"||(is.isArray(f)?c=c+"[]":f=[f],is.forEach(f,function(p){is.isDate(p)?p=p.toISOString():is.isObject(p)&&(p=JSON.stringify(p)),o.push(Pb(c)+"="+Pb(p))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},dB=hn;function Td(){this.handlers=[]}Td.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Td.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Td.prototype.forEach=function(t){dB.forEach(this.handlers,function(n){n!==null&&t(n)})};var pB=Td,vB=hn,_B=function(t,r){vB.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},O2=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},mB=O2,L2=function(t,r,n,i,o){var a=new Error(t);return mB(a,r,n,i,o)},gB=L2,yB=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(gB("Request failed with status code "+n.status,n.config,null,n.request,n))},Ic=hn,xB=Ic.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var f=[];f.push(r+"="+encodeURIComponent(n)),Ic.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),Ic.isString(o)&&f.push("path="+o),Ic.isString(a)&&f.push("domain="+a),s===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),EB=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},bB=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},wB=EB,TB=bB,SB=function(t,r){return t&&!wB(r)?TB(t,r):r},x_=hn,CB=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],IB=function(t){var r={},n,i,o;return t&&x_.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=x_.trim(s.substr(0,o)).toLowerCase(),i=x_.trim(s.substr(o+1)),n){if(r[n]&&CB.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},Ob=hn,RB=Ob.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=Ob.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function fy(e){this.message=e}fy.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};fy.prototype.__CANCEL__=!0;var Sd=fy,Rc=hn,NB=yB,AB=xB,PB=P2,OB=SB,LB=IB,kB=RB,E_=L2,FB=Id,UB=Sd,Lb=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType,f;function c(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}Rc.isFormData(o)&&delete a["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(p+":"+v)}var _=OB(t.baseURL,t.url);h.open(t.method.toUpperCase(),PB(_,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function y(){if(!!h){var g="getAllResponseHeaders"in h?LB(h.getAllResponseHeaders()):null,x=!s||s==="text"||s==="json"?h.responseText:h.response,w={data:x,status:h.status,statusText:h.statusText,headers:g,config:t,request:h};NB(function(P){n(P),c()},function(P){i(P),c()},w),h=null}}if("onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){!h||(i(E_("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){i(E_("Network Error",t,null,h)),h=null},h.ontimeout=function(){var x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",w=t.transitional||FB.transitional;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),i(E_(x,t,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},Rc.isStandardBrowserEnv()){var E=(t.withCredentials||kB(_))&&t.xsrfCookieName?AB.read(t.xsrfCookieName):void 0;E&&(a[t.xsrfHeaderName]=E)}"setRequestHeader"in h&&Rc.forEach(a,function(x,w){typeof o=="undefined"&&w.toLowerCase()==="content-type"?delete a[w]:h.setRequestHeader(w,x)}),Rc.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),s&&s!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(g){!h||(i(!g||g&&g.type?new UB("canceled"):g),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),o||(o=null),h.send(o)})},dr=hn,kb=_B,BB=O2,MB={"Content-Type":"application/x-www-form-urlencoded"};function Fb(e,t){!dr.isUndefined(e)&&dr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function DB(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Lb),e}function GB(e,t,r){if(dr.isString(e))try{return(t||JSON.parse)(e),dr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Cd={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:DB(),transformRequest:[function(t,r){return kb(r,"Accept"),kb(r,"Content-Type"),dr.isFormData(t)||dr.isArrayBuffer(t)||dr.isBuffer(t)||dr.isStream(t)||dr.isFile(t)||dr.isBlob(t)?t:dr.isArrayBufferView(t)?t.buffer:dr.isURLSearchParams(t)?(Fb(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):dr.isObject(t)||r&&r["Content-Type"]==="application/json"?(Fb(r,"application/json"),GB(t)):t}],transformResponse:[function(t){var r=this.transitional||Cd.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&dr.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?BB(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};dr.forEach(["delete","get","head"],function(t){Cd.headers[t]={}});dr.forEach(["post","put","patch"],function(t){Cd.headers[t]=dr.merge(MB)});var Id=Cd,HB=hn,$B=Id,XB=function(t,r,n){var i=this||$B;return HB.forEach(n,function(a){t=a.call(i,t,r)}),t},k2=function(t){return!!(t&&t.__CANCEL__)},Ub=hn,b_=XB,VB=k2,jB=Id,zB=Sd;function w_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zB("canceled")}var WB=function(t){w_(t),t.headers=t.headers||{},t.data=b_.call(t,t.data,t.headers,t.transformRequest),t.headers=Ub.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Ub.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||jB.adapter;return r(t).then(function(i){return w_(t),i.data=b_.call(t,i.data,i.headers,t.transformResponse),i},function(i){return VB(i)||(w_(t),i&&i.response&&(i.response.data=b_.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},nn=hn,F2=function(t,r){r=r||{};var n={};function i(h,p){return nn.isPlainObject(h)&&nn.isPlainObject(p)?nn.merge(h,p):nn.isPlainObject(p)?nn.merge({},p):nn.isArray(p)?p.slice():p}function o(h){if(nn.isUndefined(r[h])){if(!nn.isUndefined(t[h]))return i(void 0,t[h])}else return i(t[h],r[h])}function a(h){if(!nn.isUndefined(r[h]))return i(void 0,r[h])}function s(h){if(nn.isUndefined(r[h])){if(!nn.isUndefined(t[h]))return i(void 0,t[h])}else return i(void 0,r[h])}function f(h){if(h in r)return i(t[h],r[h]);if(h in t)return i(void 0,t[h])}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:f};return nn.forEach(Object.keys(t).concat(Object.keys(r)),function(p){var v=c[p]||o,_=v(p);nn.isUndefined(_)&&v!==f||(n[p]=_)}),n},U2={version:"0.24.0"},YB=U2.version,cy={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){cy[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Bb={};cy.transitional=function(t,r,n){function i(o,a){return"[Axios v"+YB+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!Bb[a]&&(Bb[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,s):!0}};function qB(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],f=s===void 0||a(s,o,e);if(f!==!0)throw new TypeError("option "+o+" must be "+f);continue}if(r!==!0)throw Error("Unknown option "+o)}}var KB={assertOptions:qB,validators:cy},B2=hn,ZB=P2,Mb=pB,Db=WB,Rd=F2,M2=KB,os=M2.validators;function uf(e){this.defaults=e,this.interceptors={request:new Mb,response:new Mb}}uf.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=Rd(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&M2.assertOptions(r,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(i=i&&v.synchronous,n.unshift(v.fulfilled,v.rejected))});var o=[];this.interceptors.response.forEach(function(v){o.push(v.fulfilled,v.rejected)});var a;if(!i){var s=[Db,void 0];for(Array.prototype.unshift.apply(s,n),s=s.concat(o),a=Promise.resolve(t);s.length;)a=a.then(s.shift(),s.shift());return a}for(var f=t;n.length;){var c=n.shift(),h=n.shift();try{f=c(f)}catch(p){h(p);break}}try{a=Db(f)}catch(p){return Promise.reject(p)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};uf.prototype.getUri=function(t){return t=Rd(this.defaults,t),ZB(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};B2.forEach(["delete","get","head","options"],function(t){uf.prototype[t]=function(r,n){return this.request(Rd(n||{},{method:t,url:r,data:(n||{}).data}))}});B2.forEach(["post","put","patch"],function(t){uf.prototype[t]=function(r,n,i){return this.request(Rd(i||{},{method:t,url:r,data:n}))}});var JB=uf,QB=Sd;function Ks(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new QB(i),t(r.reason))})}Ks.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Ks.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Ks.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};Ks.source=function(){var t,r=new Ks(function(i){t=i});return{token:r,cancel:t}};var eM=Ks,tM=function(t){return function(n){return t.apply(null,n)}},rM=function(t){return typeof t=="object"&&t.isAxiosError===!0},Gb=hn,nM=R2,ph=JB,iM=F2,oM=Id;function D2(e){var t=new ph(e),r=nM(ph.prototype.request,t);return Gb.extend(r,ph.prototype,t),Gb.extend(r,t),r.create=function(i){return D2(iM(e,i))},r}var vi=D2(oM);vi.Axios=ph;vi.Cancel=Sd;vi.CancelToken=eM;vi.isCancel=k2;vi.VERSION=U2.version;vi.all=function(t){return Promise.all(t)};vi.spread=tM;vi.isAxiosError=rM;sy.exports=vi;sy.exports.default=vi;var aM=sy.exports;const sM=aM;class uM{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(t,r){this.url=t,r&&(this.mongoUrl=r)}setUpload(t){this.isUpload=t}setCollection(t){this.collection=t}setLevel(t){this.level=t.toUpperCase()}upload(t,r,n,i){typeof t!="string"&&this.error("log\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E0D\u662F\u5B57\u7B26\u4E32",void 0,!1);let o={log:{info:t,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const a=this;this.url!==""&&this.isUpload&&sM.post(this.url+"/log",o).then(s=>{a.trace("Logged to cloud.",void 0,!1)}).catch(s=>{a.error("Logging to cloud failed!",void 0,!1)})}clog(t,r,n,i,o,a){const s={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};s[n]<=s[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+o.toLocaleString()+"]","",t),r&&(console.log(r),console.log("------------------------"))),a===void 0&&this.upload(t,r,n,o),a!==void 0&&a&&this.upload(t,r,n,o)}trace(t,r,n){const i=new Date,o="TRACE",a="#005CAF";this.clog(t,r,o,a,i,n)}debug(t,r,n){const i=new Date,o="DEBUG",a="#0089A7";this.clog(t,r,o,a,i,n)}info(t,r,n){const i=new Date,o="INFO",a="#00896C";this.clog(t,r,o,a,i,n)}warn(t,r,n){const i=new Date,o="WARN",a="#DDA52D";this.clog(t,r,o,a,i,n)}error(t,r,n){const i=new Date,o="ERROR",a="#AB3B3A";this.clog(t,r,o,a,i,n)}fatal(t,r,n){const i=new Date,o="FATAL",a="#E16B8C";this.clog(t,r,o,a,i,n)}}var lM=uM;const et=new lM;var ki=(e=>(e[e.slow=0]="slow",e[e.normal=1]="normal",e[e.fast=2]="fast",e))(ki||{}),xl=(e=>(e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e))(xl||{});const G2={saveData:[],optionData:{slPage:1,volumeMain:100,textSpeed:ki.normal,autoSpeed:ki.normal,textSize:xl.medium,vocalVolume:100,bgmVolume:25},appreciationData:{bgm:[],cg:[]}},H2=oy({name:"userData",initialState:G2,reducers:{setUserData:(e,t)=>{const{key:r,value:n}=t.payload;e[r]=n},unlockCgInUserData:(e,t)=>{const{name:r,url:n,series:i}=t.payload;let o=!1;e.appreciationData.cg.forEach(a=>{r===a.name&&(o=!0,a.url=n,a.series=i)}),o||e.appreciationData.cg.push(t.payload)},unlockBgmInUserData:(e,t)=>{const{name:r,url:n,series:i}=t.payload;let o=!1;e.appreciationData.bgm.forEach(a=>{r===a.name&&(o=!0,a.url=n,a.series=i)}),o||e.appreciationData.bgm.push(t.payload)},resetUserData:(e,t)=>{Object.assign(e,t.payload)},setOptionData:(e,t)=>{const{key:r,value:n}=t.payload;e.optionData[r]=n},setSlPage:(e,t)=>{e.optionData.slPage=t.payload}}}),{setUserData:fM,resetUserData:$2,setOptionData:wn,setSlPage:X2,unlockCgInUserData:cM,unlockBgmInUserData:hM}=H2.actions;var dM=H2.reducer;const wr=V2(()=>{const e=xe.getState().userData;qs.exports.setItem(ko.gameKey,e).then(()=>{et.info("\u5199\u5165\u672C\u5730\u5B58\u50A8")})},100),Zh=V2(()=>{qs.exports.getItem(ko.gameKey).then(e=>{if(!e||!vM(e)){et.warn("\u73B0\u5728\u91CD\u7F6E\u6570\u636E"),wr();return}xe.dispatch($2(e))})},100);function V2(e,t){let r;function n(...i){clearTimeout(r);let o;return r=setTimeout(()=>{o=e.apply(n,i)},t),o}return n}const pM=()=>{const e=xe.getState().userData;qs.exports.setItem(ko.gameKey,e).then(()=>{qs.exports.getItem(ko.gameKey).then(t=>{if(!t){wr();return}xe.dispatch($2(t))}),et.info("\u540C\u6B65\u672C\u5730\u5B58\u50A8")})};function vM(e){let t=!0;for(const r in G2)e.hasOwnProperty(r)||(t=!1);return t}var Ht=(e=>(e[e.Save=0]="Save",e[e.Load=1]="Load",e[e.Option=2]="Option",e))(Ht||{});const _M={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,currentMenuTag:Ht.Option,titleBg:"",titleBgm:"",showExtra:!1},j2=oy({name:"gui",initialState:_M,reducers:{setVisibility:(e,t)=>{Zh();const{component:r,visibility:n}=t.payload;e[r]=n},setMenuPanelTag:(e,t)=>{Zh(),e.currentMenuTag=t.payload},setGuiAsset:(e,t)=>{const{asset:r,value:n}=t.payload;e[r]=n}}}),{setVisibility:qt,setMenuPanelTag:Gs,setGuiAsset:Hb}=j2.actions;var mM=j2.reducer;const xe=z4({reducer:{stage:K4,GUI:mM,userData:dM}});function Nd(e){xe.dispatch(Ar({key:"bgm",value:e}))}const z2={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}},Le=z2;var Pt=(e=>(e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video",e))(Pt||{});const vr=(e,t)=>{if(e.match("http://")||e.match("https://"))return e;{let r;switch(t){case 0:r=`./game/background/${e}`;break;case 3:r=`./game/scene/${e}`;break;case 5:r=`./game/vocal/${e}`;break;case 2:r=`./game/figure/${e}`;break;case 1:r=`./game/bgm/${e}`;break;case 6:r=`./game/video/${e}`;break;default:r="";break}return r}};var hy={exports:{}},W2=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},gM=W2,Do=Object.prototype.toString;function dy(e){return Array.isArray(e)}function ng(e){return typeof e=="undefined"}function yM(e){return e!==null&&!ng(e)&&e.constructor!==null&&!ng(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function Y2(e){return Do.call(e)==="[object ArrayBuffer]"}function xM(e){return Do.call(e)==="[object FormData]"}function EM(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Y2(e.buffer),t}function bM(e){return typeof e=="string"}function wM(e){return typeof e=="number"}function q2(e){return e!==null&&typeof e=="object"}function vh(e){if(Do.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function TM(e){return Do.call(e)==="[object Date]"}function SM(e){return Do.call(e)==="[object File]"}function CM(e){return Do.call(e)==="[object Blob]"}function K2(e){return Do.call(e)==="[object Function]"}function IM(e){return q2(e)&&K2(e.pipe)}function RM(e){return Do.call(e)==="[object URLSearchParams]"}function NM(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function AM(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function py(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),dy(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function ig(){var e={};function t(i,o){vh(e[o])&&vh(i)?e[o]=ig(e[o],i):vh(i)?e[o]=ig({},i):dy(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)py(arguments[r],t);return e}function PM(e,t,r){return py(t,function(i,o){r&&typeof i=="function"?e[o]=gM(i,r):e[o]=i}),e}function OM(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var Yr={isArray:dy,isArrayBuffer:Y2,isBuffer:yM,isFormData:xM,isArrayBufferView:EM,isString:bM,isNumber:wM,isObject:q2,isPlainObject:vh,isUndefined:ng,isDate:TM,isFile:SM,isBlob:CM,isFunction:K2,isStream:IM,isURLSearchParams:RM,isStandardBrowserEnv:AM,forEach:py,merge:ig,extend:PM,trim:NM,stripBOM:OM},as=Yr;function $b(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Z2=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(as.isURLSearchParams(r))i=r.toString();else{var o=[];as.forEach(r,function(f,c){f===null||typeof f=="undefined"||(as.isArray(f)?c=c+"[]":f=[f],as.forEach(f,function(p){as.isDate(p)?p=p.toISOString():as.isObject(p)&&(p=JSON.stringify(p)),o.push($b(c)+"="+$b(p))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},LM=Yr;function Ad(){this.handlers=[]}Ad.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Ad.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Ad.prototype.forEach=function(t){LM.forEach(this.handlers,function(n){n!==null&&t(n)})};var kM=Ad,FM=Yr,UM=function(t,r){FM.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},J2=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},Q2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BM=J2,eI=function(t,r,n,i,o){var a=new Error(t);return BM(a,r,n,i,o)},MM=eI,DM=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(MM("Request failed with status code "+n.status,n.config,null,n.request,n))},Nc=Yr,GM=Nc.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,s){var f=[];f.push(r+"="+encodeURIComponent(n)),Nc.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),Nc.isString(o)&&f.push("path="+o),Nc.isString(a)&&f.push("domain="+a),s===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),HM=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},$M=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},XM=HM,VM=$M,jM=function(t,r){return t&&!XM(r)?VM(t,r):r},T_=Yr,zM=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],WM=function(t){var r={},n,i,o;return t&&T_.forEach(t.split(`
`),function(s){if(o=s.indexOf(":"),n=T_.trim(s.substr(0,o)).toLowerCase(),i=T_.trim(s.substr(o+1)),n){if(r[n]&&zM.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},Xb=Yr,YM=Xb.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var s=Xb.isString(a)?i(a):a;return s.protocol===n.protocol&&s.host===n.host}}():function(){return function(){return!0}}();function vy(e){this.message=e}vy.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};vy.prototype.__CANCEL__=!0;var Pd=vy,Ac=Yr,qM=DM,KM=GM,ZM=Z2,JM=jM,QM=WM,eD=YM,S_=eI,tD=Q2,rD=Pd,Vb=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,s=t.responseType,f;function c(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}Ac.isFormData(o)&&delete a["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(p+":"+v)}var _=JM(t.baseURL,t.url);h.open(t.method.toUpperCase(),ZM(_,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function y(){if(!!h){var g="getAllResponseHeaders"in h?QM(h.getAllResponseHeaders()):null,x=!s||s==="text"||s==="json"?h.responseText:h.response,w={data:x,status:h.status,statusText:h.statusText,headers:g,config:t,request:h};qM(function(P){n(P),c()},function(P){i(P),c()},w),h=null}}if("onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){!h||(i(S_("Request aborted",t,"ECONNABORTED",h)),h=null)},h.onerror=function(){i(S_("Network Error",t,null,h)),h=null},h.ontimeout=function(){var x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",w=t.transitional||tD;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),i(S_(x,t,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",h)),h=null},Ac.isStandardBrowserEnv()){var E=(t.withCredentials||eD(_))&&t.xsrfCookieName?KM.read(t.xsrfCookieName):void 0;E&&(a[t.xsrfHeaderName]=E)}"setRequestHeader"in h&&Ac.forEach(a,function(x,w){typeof o=="undefined"&&w.toLowerCase()==="content-type"?delete a[w]:h.setRequestHeader(w,x)}),Ac.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),s&&s!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(g){!h||(i(!g||g&&g.type?new rD("canceled"):g),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),o||(o=null),h.send(o)})},pr=Yr,jb=UM,nD=J2,iD=Q2,oD={"Content-Type":"application/x-www-form-urlencoded"};function zb(e,t){!pr.isUndefined(e)&&pr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function aD(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Vb),e}function sD(e,t,r){if(pr.isString(e))try{return(t||JSON.parse)(e),pr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Od={transitional:iD,adapter:aD(),transformRequest:[function(t,r){return jb(r,"Accept"),jb(r,"Content-Type"),pr.isFormData(t)||pr.isArrayBuffer(t)||pr.isBuffer(t)||pr.isStream(t)||pr.isFile(t)||pr.isBlob(t)?t:pr.isArrayBufferView(t)?t.buffer:pr.isURLSearchParams(t)?(zb(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):pr.isObject(t)||r&&r["Content-Type"]==="application/json"?(zb(r,"application/json"),sD(t)):t}],transformResponse:[function(t){var r=this.transitional||Od.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&pr.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?nD(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};pr.forEach(["delete","get","head"],function(t){Od.headers[t]={}});pr.forEach(["post","put","patch"],function(t){Od.headers[t]=pr.merge(oD)});var _y=Od,uD=Yr,lD=_y,fD=function(t,r,n){var i=this||lD;return uD.forEach(n,function(a){t=a.call(i,t,r)}),t},tI=function(t){return!!(t&&t.__CANCEL__)},Wb=Yr,C_=fD,cD=tI,hD=_y,dD=Pd;function I_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dD("canceled")}var pD=function(t){I_(t),t.headers=t.headers||{},t.data=C_.call(t,t.data,t.headers,t.transformRequest),t.headers=Wb.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Wb.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||hD.adapter;return r(t).then(function(i){return I_(t),i.data=C_.call(t,i.data,i.headers,t.transformResponse),i},function(i){return cD(i)||(I_(t),i&&i.response&&(i.response.data=C_.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},on=Yr,rI=function(t,r){r=r||{};var n={};function i(h,p){return on.isPlainObject(h)&&on.isPlainObject(p)?on.merge(h,p):on.isPlainObject(p)?on.merge({},p):on.isArray(p)?p.slice():p}function o(h){if(on.isUndefined(r[h])){if(!on.isUndefined(t[h]))return i(void 0,t[h])}else return i(t[h],r[h])}function a(h){if(!on.isUndefined(r[h]))return i(void 0,r[h])}function s(h){if(on.isUndefined(r[h])){if(!on.isUndefined(t[h]))return i(void 0,t[h])}else return i(void 0,r[h])}function f(h){if(h in r)return i(t[h],r[h]);if(h in t)return i(void 0,t[h])}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:f};return on.forEach(Object.keys(t).concat(Object.keys(r)),function(p){var v=c[p]||o,_=v(p);on.isUndefined(_)&&v!==f||(n[p]=_)}),n},nI={version:"0.26.1"},vD=nI.version,my={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){my[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var Yb={};my.transitional=function(t,r,n){function i(o,a){return"[Axios v"+vD+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,s){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!Yb[a]&&(Yb[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,s):!0}};function _D(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var s=e[o],f=s===void 0||a(s,o,e);if(f!==!0)throw new TypeError("option "+o+" must be "+f);continue}if(r!==!0)throw Error("Unknown option "+o)}}var mD={assertOptions:_D,validators:my},iI=Yr,gD=Z2,qb=kM,Kb=pD,Ld=rI,oI=mD,ss=oI.validators;function lf(e){this.defaults=e,this.interceptors={request:new qb,response:new qb}}lf.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ld(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&oI.assertOptions(n,{silentJSONParsing:ss.transitional(ss.boolean),forcedJSONParsing:ss.transitional(ss.boolean),clarifyTimeoutError:ss.transitional(ss.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(o=o&&_.synchronous,i.unshift(_.fulfilled,_.rejected))});var a=[];this.interceptors.response.forEach(function(_){a.push(_.fulfilled,_.rejected)});var s;if(!o){var f=[Kb,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(a),s=Promise.resolve(r);f.length;)s=s.then(f.shift(),f.shift());return s}for(var c=r;i.length;){var h=i.shift(),p=i.shift();try{c=h(c)}catch(v){p(v);break}}try{s=Kb(c)}catch(v){return Promise.reject(v)}for(;a.length;)s=s.then(a.shift(),a.shift());return s};lf.prototype.getUri=function(t){return t=Ld(this.defaults,t),gD(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};iI.forEach(["delete","get","head","options"],function(t){lf.prototype[t]=function(r,n){return this.request(Ld(n||{},{method:t,url:r,data:(n||{}).data}))}});iI.forEach(["post","put","patch"],function(t){lf.prototype[t]=function(r,n,i){return this.request(Ld(i||{},{method:t,url:r,data:n}))}});var yD=lf,xD=Pd;function Zs(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new xD(i),t(r.reason))})}Zs.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Zs.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Zs.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};Zs.source=function(){var t,r=new Zs(function(i){t=i});return{token:r,cancel:t}};var ED=Zs,bD=function(t){return function(n){return t.apply(null,n)}},wD=Yr,TD=function(t){return wD.isObject(t)&&t.isAxiosError===!0},Zb=Yr,SD=W2,_h=yD,CD=rI,ID=_y;function aI(e){var t=new _h(e),r=SD(_h.prototype.request,t);return Zb.extend(r,_h.prototype,t),Zb.extend(r,t),r.create=function(i){return aI(CD(e,i))},r}var _i=aI(ID);_i.Axios=_h;_i.Cancel=Pd;_i.CancelToken=ED;_i.isCancel=tI;_i.VERSION=nI.version;_i.all=function(t){return Promise.all(t)};_i.spread=bD;_i.isAxiosError=TD;hy.exports=_i;hy.exports.default=_i;var sI=hy.exports;const mi=e=>new Promise(t=>{sI.get(e).then(r=>{const n=r.data.toString();t(n)})});var ie=(e=>(e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.perform_bgAni=12]="perform_bgAni",e[e.perform_FigAni=13]="perform_FigAni",e[e.setBgTransform=14]="setBgTransform",e[e.setFigTransform=15]="setFigTransform",e[e.setBgFilter=16]="setBgFilter",e[e.setFigFilter=17]="setFigFilter",e[e.label=18]="label",e[e.jumpLabel=19]="jumpLabel",e[e.chooseLabel=20]="chooseLabel",e[e.setVar=21]="setVar",e[e.if=22]="if",e[e.callScene=23]="callScene",e[e.showVars=24]="showVars",e[e.unlockCg=25]="unlockCg",e[e.unlockBgm=26]="unlockBgm",e))(ie||{});const R_=e=>{let t={type:ie.say,additionalArgs:[]};const r=RD(e);return t.type=r,r===ie.say&&t.additionalArgs.push({key:"speaker",value:e}),t=ND(t,r),t};function RD(e){switch(e){case"intro":return ie.intro;case"changeBg":return ie.changeBg;case"changeFigure":return ie.changeFigure;case"miniAvatar":return ie.miniAvatar;case"changeScene":return ie.changeScene;case"choose":return ie.choose;case"end":return ie.end;case"bgm":return ie.bgm;case"playVideo":return ie.video;case"setBgAni":return ie.perform_bgAni;case"setFigAni":return ie.perform_FigAni;case"setBgTransform":return ie.setBgTransform;case"setBgFilter":return ie.setBgFilter;case"setFigTransform":return ie.setFigTransform;case"setFigFilter":return ie.setFigFilter;case"pixiInit":return ie.pixiInit;case"pixiPerform":return ie.pixi;case"label":return ie.label;case"jumpLabel":return ie.jumpLabel;case"chooseLabel":return ie.chooseLabel;case"setVar":return ie.setVar;case"callScene":return ie.callScene;case"showVars":return ie.showVars;case"unlockCg":return ie.unlockCg;case"unlockBgm":return ie.unlockBgm;default:return ie.say}}function ND(e,t){return[ie.bgm,ie.pixi,ie.pixiInit,ie.label,ie.if,ie.miniAvatar,ie.setBgTransform,ie.setBgFilter,ie.setFigFilter,ie.setFigTransform,ie.perform_FigAni,ie.perform_bgAni,ie.setVar,ie.unlockBgm,ie.unlockCg].includes(t)&&e.additionalArgs.push({key:"next",value:!0}),e}const AD=e=>{const t=[];let n=e.replace(/ /g," ").split(" -");return n=n.filter(i=>i!==""),n.forEach(i=>{const o=i.split("=")[0],a=i.split("=")[1];i.match(/.ogg|.mp3|.wav/)?t.push({key:"vocal",value:vr(i,Pt.vocal)}):a===void 0?t.push({key:o,value:!0}):a==="true"||a==="false"?t.push({key:o,value:a==="true"}):isNaN(Number(a))?t.push({key:o,value:a}):t.push({key:o,value:Number(a)})}),t},PD=(e,t)=>{if(e==="none"||e==="")return"";switch(t){case ie.changeBg:return vr(e,Pt.background);case ie.changeFigure:return vr(e,Pt.figure);case ie.bgm:return vr(e,Pt.bgm);case ie.callScene:return vr(e,Pt.scene);case ie.changeScene:return vr(e,Pt.scene);case ie.miniAvatar:return vr(e,Pt.figure);case ie.video:return vr(e,Pt.video);case ie.choose:return OD(e);case ie.unlockBgm:return vr(e,Pt.bgm);case ie.unlockCg:return vr(e,Pt.background);default:return e}};function OD(e){const t=e.split("|"),r=[],n=[];for(const a of t)r.push(a.split(":")[0]),n.push(a.split(":")[1]);const i=n.map(a=>a.match(/\./)?vr(a,Pt.scene):a);let o="";for(let a=0;a<r.length;a++)a!==0&&(o=o+"|"),o=o+`${r[a]}:${i[a]}`;return o}const LD=(e,t,r)=>{const n=[];return e===ie.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Pt.vocal})}),t==="none"||t===""||(e===ie.changeBg&&n.push({name:t,url:t,lineNumber:0,type:Pt.background}),e===ie.changeFigure&&n.push({name:t,url:t,lineNumber:0,type:Pt.figure}),e===ie.miniAvatar&&n.push({name:t,url:t,lineNumber:0,type:Pt.figure}),e===ie.video&&n.push({name:t,url:t,lineNumber:0,type:Pt.video}),e===ie.bgm&&n.push({name:t,url:t,lineNumber:0,type:Pt.bgm})),n},kD=(e,t)=>{const r=[];return(e===ie.changeScene||e===ie.callScene)&&r.push(t),e===ie.choose&&t.split("|").map(o=>o.split(":")[1]).forEach(o=>{o.match(/\./)&&r.push(o)}),r},FD=e=>{let t,r,n;const i=[];let o,a,s,f="",c=e.split(";")[0];const h=/:/.exec(c);if(h===null){const v=/ /.exec(c);if(v){s=c.substring(0,v.index),c=c.substring(v.index,c.length),a=R_(s),t=a.type;for(const _ of a.additionalArgs)t===ie.say&&_.key==="speaker"?f=_.value.toString():i.push(_)}else if(s=c.substring(0,c.length),c=c.substring(0,c.length),a=R_(s),t=a.type,t!==ie.say)for(const _ of a.additionalArgs)i.push(_)}else{s=c.substring(0,h.index),c=c.substring(h.index+1,c.length),a=R_(s),t=a.type;for(const v of a.additionalArgs)i.push(v)}const p=/ -/.exec(c);if(p){const v=c.substring(p.index,e.length);c=c.substring(0,p.index);for(const _ of AD(v))i.push(_)}return r=PD(c,t),f!==""&&(r=f),o=LD(t,r,i),n=kD(t,r),{command:t,commandRaw:s,content:r,args:i,sentenceAssets:o,subScene:n}},UD=e=>{for(const t of e){const r=document.createElement("link");r.setAttribute("rel","prefetch"),r.setAttribute("href",t.url);const n=document.getElementsByTagName("head");n.length&&n[0].appendChild(r)}},BD=e=>{for(const t of e)I2.includes(t)||mi(t).then(r=>{gi(r,t,t)})};var jr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",p=1,v=2,_=4,y=1,E=2,g=1,x=2,w=4,I=8,P=16,N=32,R=64,M=128,X=256,D=512,W=30,de="...",ue=800,pe=16,We=1,le=2,fe=3,Ee=1/0,Fe=9007199254740991,dt=17976931348623157e292,Z=0/0,V=4294967295,ne=V-1,ce=V>>>1,Se=[["ary",M],["bind",g],["bindKey",x],["curry",I],["curryRight",P],["flip",D],["partial",N],["partialRight",R],["rearg",X]],ke="[object Arguments]",Me="[object Array]",st="[object AsyncFunction]",ut="[object Boolean]",Ye="[object Date]",wt="[object DOMException]",Ke="[object Error]",lt="[object Function]",Ge="[object GeneratorFunction]",ct="[object Map]",rt="[object Number]",ze="[object Null]",Lt="[object Object]",Mr="[object Promise]",qn="[object Proxy]",pn="[object RegExp]",or="[object Set]",kn="[object String]",Kn="[object Symbol]",pf="[object Undefined]",Yi="[object WeakMap]",vf="[object WeakSet]",qi="[object ArrayBuffer]",xi="[object DataView]",Ua="[object Float32Array]",Ba="[object Float64Array]",Ma="[object Int8Array]",Da="[object Int16Array]",Ga="[object Int32Array]",Xo="[object Uint8Array]",du="[object Uint8ClampedArray]",pu="[object Uint16Array]",Vo="[object Uint32Array]",_f=/\b__p \+= '';/g,hp=/\b(__p \+=) '' \+/g,Zn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,mf=/&(?:amp|lt|gt|quot|#39);/g,gf=/[&<>"']/g,yf=RegExp(mf.source),dp=RegExp(gf.source),pp=/<%-([\s\S]+?)%>/g,vp=/<%([\s\S]+?)%>/g,xf=/<%=([\s\S]+?)%>/g,_p=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mp=/^\w*$/,gp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vu=/[\\^$.*+?()[\]{}|]/g,yp=RegExp(vu.source),_u=/^\s+/,Ef=/\s/,xp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ep=/\{\n\/\* \[wrapped with (.+)\] \*/,bp=/,? & /,wp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tp=/[()=,{}\[\]\/\s]/,Sp=/\\(\\)?/g,Cp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bf=/\w*$/,Ip=/^[-+]0x[0-9a-f]+$/i,Rp=/^0b[01]+$/i,Np=/^\[object .+?Constructor\]$/,Ap=/^0o[0-7]+$/i,Pp=/^(?:0|[1-9]\d*)$/,Op=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ha=/($^)/,wf=/['\n\r\u2028\u2029\\]/g,Jn="\\ud800-\\udfff",Tf="\\u0300-\\u036f",Ki="\\ufe20-\\ufe2f",Lp="\\u20d0-\\u20ff",jo=Tf+Ki+Lp,$a="\\u2700-\\u27bf",Sf="a-z\\xdf-\\xf6\\xf8-\\xff",kp="\\xac\\xb1\\xd7\\xf7",mu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fp="\\u2000-\\u206f",Up=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",S="A-Z\\xc0-\\xd6\\xd8-\\xde",L="\\ufe0e\\ufe0f",A=kp+mu+Fp+Up,U="['\u2019]",$="["+Jn+"]",F="["+A+"]",Y="["+jo+"]",Q="\\d+",te="["+$a+"]",re="["+Sf+"]",ae="[^"+Jn+A+Q+$a+Sf+S+"]",ge="\\ud83c[\\udffb-\\udfff]",$e="(?:"+Y+"|"+ge+")",nt="[^"+Jn+"]",it="(?:\\ud83c[\\udde6-\\uddff]){2}",Rt="[\\ud800-\\udbff][\\udc00-\\udfff]",_t="["+S+"]",Or="\\u200d",Zi="(?:"+re+"|"+ae+")",gu="(?:"+_t+"|"+ae+")",Cf="(?:"+U+"(?:d|ll|m|re|s|t|ve))?",Xa="(?:"+U+"(?:D|LL|M|RE|S|T|VE))?",Bp=$e+"?",If="["+L+"]?",Mp="(?:"+Or+"(?:"+[nt,it,Rt].join("|")+")"+If+Bp+")*",Rf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fN="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xy=If+Bp+Mp,cN="(?:"+[te,it,Rt].join("|")+")"+Xy,hN="(?:"+[nt+Y+"?",Y,it,Rt,$].join("|")+")",dN=RegExp(U,"g"),pN=RegExp(Y,"g"),Dp=RegExp(ge+"(?="+ge+")|"+hN+Xy,"g"),vN=RegExp([_t+"?"+re+"+"+Cf+"(?="+[F,_t,"$"].join("|")+")",gu+"+"+Xa+"(?="+[F,_t+Zi,"$"].join("|")+")",_t+"?"+Zi+"+"+Cf,_t+"+"+Xa,fN,Rf,Q,cN].join("|"),"g"),_N=RegExp("["+Or+Jn+jo+L+"]"),mN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yN=-1,Tt={};Tt[Ua]=Tt[Ba]=Tt[Ma]=Tt[Da]=Tt[Ga]=Tt[Xo]=Tt[du]=Tt[pu]=Tt[Vo]=!0,Tt[ke]=Tt[Me]=Tt[qi]=Tt[ut]=Tt[xi]=Tt[Ye]=Tt[Ke]=Tt[lt]=Tt[ct]=Tt[rt]=Tt[Lt]=Tt[pn]=Tt[or]=Tt[kn]=Tt[Yi]=!1;var xt={};xt[ke]=xt[Me]=xt[qi]=xt[xi]=xt[ut]=xt[Ye]=xt[Ua]=xt[Ba]=xt[Ma]=xt[Da]=xt[Ga]=xt[ct]=xt[rt]=xt[Lt]=xt[pn]=xt[or]=xt[kn]=xt[Kn]=xt[Xo]=xt[du]=xt[pu]=xt[Vo]=!0,xt[Ke]=xt[lt]=xt[Yi]=!1;var xN={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},EN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},wN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},TN=parseFloat,SN=parseInt,Vy=typeof Tn=="object"&&Tn&&Tn.Object===Object&&Tn,CN=typeof self=="object"&&self&&self.Object===Object&&self,cr=Vy||CN||Function("return this")(),Gp=t&&!t.nodeType&&t,zo=Gp&&!0&&e&&!e.nodeType&&e,jy=zo&&zo.exports===Gp,Hp=jy&&Vy.process,vn=function(){try{var G=zo&&zo.require&&zo.require("util").types;return G||Hp&&Hp.binding&&Hp.binding("util")}catch{}}(),zy=vn&&vn.isArrayBuffer,Wy=vn&&vn.isDate,Yy=vn&&vn.isMap,qy=vn&&vn.isRegExp,Ky=vn&&vn.isSet,Zy=vn&&vn.isTypedArray;function Zr(G,z,j){switch(j.length){case 0:return G.call(z);case 1:return G.call(z,j[0]);case 2:return G.call(z,j[0],j[1]);case 3:return G.call(z,j[0],j[1],j[2])}return G.apply(z,j)}function IN(G,z,j,ve){for(var Be=-1,ft=G==null?0:G.length;++Be<ft;){var er=G[Be];z(ve,er,j(er),G)}return ve}function _n(G,z){for(var j=-1,ve=G==null?0:G.length;++j<ve&&z(G[j],j,G)!==!1;);return G}function RN(G,z){for(var j=G==null?0:G.length;j--&&z(G[j],j,G)!==!1;);return G}function Jy(G,z){for(var j=-1,ve=G==null?0:G.length;++j<ve;)if(!z(G[j],j,G))return!1;return!0}function Ji(G,z){for(var j=-1,ve=G==null?0:G.length,Be=0,ft=[];++j<ve;){var er=G[j];z(er,j,G)&&(ft[Be++]=er)}return ft}function Nf(G,z){var j=G==null?0:G.length;return!!j&&Va(G,z,0)>-1}function $p(G,z,j){for(var ve=-1,Be=G==null?0:G.length;++ve<Be;)if(j(z,G[ve]))return!0;return!1}function Nt(G,z){for(var j=-1,ve=G==null?0:G.length,Be=Array(ve);++j<ve;)Be[j]=z(G[j],j,G);return Be}function Qi(G,z){for(var j=-1,ve=z.length,Be=G.length;++j<ve;)G[Be+j]=z[j];return G}function Xp(G,z,j,ve){var Be=-1,ft=G==null?0:G.length;for(ve&&ft&&(j=G[++Be]);++Be<ft;)j=z(j,G[Be],Be,G);return j}function NN(G,z,j,ve){var Be=G==null?0:G.length;for(ve&&Be&&(j=G[--Be]);Be--;)j=z(j,G[Be],Be,G);return j}function Vp(G,z){for(var j=-1,ve=G==null?0:G.length;++j<ve;)if(z(G[j],j,G))return!0;return!1}var AN=jp("length");function PN(G){return G.split("")}function ON(G){return G.match(wp)||[]}function Qy(G,z,j){var ve;return j(G,function(Be,ft,er){if(z(Be,ft,er))return ve=ft,!1}),ve}function Af(G,z,j,ve){for(var Be=G.length,ft=j+(ve?1:-1);ve?ft--:++ft<Be;)if(z(G[ft],ft,G))return ft;return-1}function Va(G,z,j){return z===z?VN(G,z,j):Af(G,e1,j)}function LN(G,z,j,ve){for(var Be=j-1,ft=G.length;++Be<ft;)if(ve(G[Be],z))return Be;return-1}function e1(G){return G!==G}function t1(G,z){var j=G==null?0:G.length;return j?Wp(G,z)/j:Z}function jp(G){return function(z){return z==null?r:z[G]}}function zp(G){return function(z){return G==null?r:G[z]}}function r1(G,z,j,ve,Be){return Be(G,function(ft,er,yt){j=ve?(ve=!1,ft):z(j,ft,er,yt)}),j}function kN(G,z){var j=G.length;for(G.sort(z);j--;)G[j]=G[j].value;return G}function Wp(G,z){for(var j,ve=-1,Be=G.length;++ve<Be;){var ft=z(G[ve]);ft!==r&&(j=j===r?ft:j+ft)}return j}function Yp(G,z){for(var j=-1,ve=Array(G);++j<G;)ve[j]=z(j);return ve}function FN(G,z){return Nt(z,function(j){return[j,G[j]]})}function n1(G){return G&&G.slice(0,s1(G)+1).replace(_u,"")}function Jr(G){return function(z){return G(z)}}function qp(G,z){return Nt(z,function(j){return G[j]})}function yu(G,z){return G.has(z)}function i1(G,z){for(var j=-1,ve=G.length;++j<ve&&Va(z,G[j],0)>-1;);return j}function o1(G,z){for(var j=G.length;j--&&Va(z,G[j],0)>-1;);return j}function UN(G,z){for(var j=G.length,ve=0;j--;)G[j]===z&&++ve;return ve}var BN=zp(xN),MN=zp(EN);function DN(G){return"\\"+wN[G]}function GN(G,z){return G==null?r:G[z]}function ja(G){return _N.test(G)}function HN(G){return mN.test(G)}function $N(G){for(var z,j=[];!(z=G.next()).done;)j.push(z.value);return j}function Kp(G){var z=-1,j=Array(G.size);return G.forEach(function(ve,Be){j[++z]=[Be,ve]}),j}function a1(G,z){return function(j){return G(z(j))}}function eo(G,z){for(var j=-1,ve=G.length,Be=0,ft=[];++j<ve;){var er=G[j];(er===z||er===h)&&(G[j]=h,ft[Be++]=j)}return ft}function Pf(G){var z=-1,j=Array(G.size);return G.forEach(function(ve){j[++z]=ve}),j}function XN(G){var z=-1,j=Array(G.size);return G.forEach(function(ve){j[++z]=[ve,ve]}),j}function VN(G,z,j){for(var ve=j-1,Be=G.length;++ve<Be;)if(G[ve]===z)return ve;return-1}function jN(G,z,j){for(var ve=j+1;ve--;)if(G[ve]===z)return ve;return ve}function za(G){return ja(G)?WN(G):AN(G)}function Fn(G){return ja(G)?YN(G):PN(G)}function s1(G){for(var z=G.length;z--&&Ef.test(G.charAt(z)););return z}var zN=zp(bN);function WN(G){for(var z=Dp.lastIndex=0;Dp.test(G);)++z;return z}function YN(G){return G.match(Dp)||[]}function qN(G){return G.match(vN)||[]}var KN=function G(z){z=z==null?cr:Wa.defaults(cr.Object(),z,Wa.pick(cr,gN));var j=z.Array,ve=z.Date,Be=z.Error,ft=z.Function,er=z.Math,yt=z.Object,Zp=z.RegExp,ZN=z.String,mn=z.TypeError,Of=j.prototype,JN=ft.prototype,Ya=yt.prototype,Lf=z["__core-js_shared__"],kf=JN.toString,pt=Ya.hasOwnProperty,QN=0,u1=function(){var u=/[^.]+$/.exec(Lf&&Lf.keys&&Lf.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}(),Ff=Ya.toString,eA=kf.call(yt),tA=cr._,rA=Zp("^"+kf.call(pt).replace(vu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uf=jy?z.Buffer:r,to=z.Symbol,Bf=z.Uint8Array,l1=Uf?Uf.allocUnsafe:r,Mf=a1(yt.getPrototypeOf,yt),f1=yt.create,c1=Ya.propertyIsEnumerable,Df=Of.splice,h1=to?to.isConcatSpreadable:r,xu=to?to.iterator:r,Wo=to?to.toStringTag:r,Gf=function(){try{var u=Jo(yt,"defineProperty");return u({},"",{}),u}catch{}}(),nA=z.clearTimeout!==cr.clearTimeout&&z.clearTimeout,iA=ve&&ve.now!==cr.Date.now&&ve.now,oA=z.setTimeout!==cr.setTimeout&&z.setTimeout,Hf=er.ceil,$f=er.floor,Jp=yt.getOwnPropertySymbols,aA=Uf?Uf.isBuffer:r,d1=z.isFinite,sA=Of.join,uA=a1(yt.keys,yt),tr=er.max,xr=er.min,lA=ve.now,fA=z.parseInt,p1=er.random,cA=Of.reverse,Qp=Jo(z,"DataView"),Eu=Jo(z,"Map"),ev=Jo(z,"Promise"),qa=Jo(z,"Set"),bu=Jo(z,"WeakMap"),wu=Jo(yt,"create"),Xf=bu&&new bu,Ka={},hA=Qo(Qp),dA=Qo(Eu),pA=Qo(ev),vA=Qo(qa),_A=Qo(bu),Vf=to?to.prototype:r,Tu=Vf?Vf.valueOf:r,v1=Vf?Vf.toString:r;function T(u){if(Gt(u)&&!De(u)&&!(u instanceof Ze)){if(u instanceof gn)return u;if(pt.call(u,"__wrapped__"))return _x(u)}return new gn(u)}var Za=function(){function u(){}return function(l){if(!kt(l))return{};if(f1)return f1(l);u.prototype=l;var d=new u;return u.prototype=r,d}}();function jf(){}function gn(u,l){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}T.templateSettings={escape:pp,evaluate:vp,interpolate:xf,variable:"",imports:{_:T}},T.prototype=jf.prototype,T.prototype.constructor=T,gn.prototype=Za(jf.prototype),gn.prototype.constructor=gn;function Ze(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function mA(){var u=new Ze(this.__wrapped__);return u.__actions__=Dr(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=Dr(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=Dr(this.__views__),u}function gA(){if(this.__filtered__){var u=new Ze(this);u.__dir__=-1,u.__filtered__=!0}else u=this.clone(),u.__dir__*=-1;return u}function yA(){var u=this.__wrapped__.value(),l=this.__dir__,d=De(u),m=l<0,b=d?u.length:0,C=PP(0,b,this.__views__),O=C.start,k=C.end,H=k-O,q=m?k:O-1,K=this.__iteratees__,J=K.length,he=0,ye=xr(H,this.__takeCount__);if(!d||!m&&b==H&&ye==H)return D1(u,this.__actions__);var Pe=[];e:for(;H--&&he<ye;){q+=l;for(var Xe=-1,Oe=u[q];++Xe<J;){var qe=K[Xe],Qe=qe.iteratee,tn=qe.type,Fr=Qe(Oe);if(tn==le)Oe=Fr;else if(!Fr){if(tn==We)continue e;break e}}Pe[he++]=Oe}return Pe}Ze.prototype=Za(jf.prototype),Ze.prototype.constructor=Ze;function Yo(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var m=u[l];this.set(m[0],m[1])}}function xA(){this.__data__=wu?wu(null):{},this.size=0}function EA(u){var l=this.has(u)&&delete this.__data__[u];return this.size-=l?1:0,l}function bA(u){var l=this.__data__;if(wu){var d=l[u];return d===f?r:d}return pt.call(l,u)?l[u]:r}function wA(u){var l=this.__data__;return wu?l[u]!==r:pt.call(l,u)}function TA(u,l){var d=this.__data__;return this.size+=this.has(u)?0:1,d[u]=wu&&l===r?f:l,this}Yo.prototype.clear=xA,Yo.prototype.delete=EA,Yo.prototype.get=bA,Yo.prototype.has=wA,Yo.prototype.set=TA;function Ei(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var m=u[l];this.set(m[0],m[1])}}function SA(){this.__data__=[],this.size=0}function CA(u){var l=this.__data__,d=zf(l,u);if(d<0)return!1;var m=l.length-1;return d==m?l.pop():Df.call(l,d,1),--this.size,!0}function IA(u){var l=this.__data__,d=zf(l,u);return d<0?r:l[d][1]}function RA(u){return zf(this.__data__,u)>-1}function NA(u,l){var d=this.__data__,m=zf(d,u);return m<0?(++this.size,d.push([u,l])):d[m][1]=l,this}Ei.prototype.clear=SA,Ei.prototype.delete=CA,Ei.prototype.get=IA,Ei.prototype.has=RA,Ei.prototype.set=NA;function bi(u){var l=-1,d=u==null?0:u.length;for(this.clear();++l<d;){var m=u[l];this.set(m[0],m[1])}}function AA(){this.size=0,this.__data__={hash:new Yo,map:new(Eu||Ei),string:new Yo}}function PA(u){var l=ic(this,u).delete(u);return this.size-=l?1:0,l}function OA(u){return ic(this,u).get(u)}function LA(u){return ic(this,u).has(u)}function kA(u,l){var d=ic(this,u),m=d.size;return d.set(u,l),this.size+=d.size==m?0:1,this}bi.prototype.clear=AA,bi.prototype.delete=PA,bi.prototype.get=OA,bi.prototype.has=LA,bi.prototype.set=kA;function qo(u){var l=-1,d=u==null?0:u.length;for(this.__data__=new bi;++l<d;)this.add(u[l])}function FA(u){return this.__data__.set(u,f),this}function UA(u){return this.__data__.has(u)}qo.prototype.add=qo.prototype.push=FA,qo.prototype.has=UA;function Un(u){var l=this.__data__=new Ei(u);this.size=l.size}function BA(){this.__data__=new Ei,this.size=0}function MA(u){var l=this.__data__,d=l.delete(u);return this.size=l.size,d}function DA(u){return this.__data__.get(u)}function GA(u){return this.__data__.has(u)}function HA(u,l){var d=this.__data__;if(d instanceof Ei){var m=d.__data__;if(!Eu||m.length<i-1)return m.push([u,l]),this.size=++d.size,this;d=this.__data__=new bi(m)}return d.set(u,l),this.size=d.size,this}Un.prototype.clear=BA,Un.prototype.delete=MA,Un.prototype.get=DA,Un.prototype.has=GA,Un.prototype.set=HA;function _1(u,l){var d=De(u),m=!d&&ea(u),b=!d&&!m&&ao(u),C=!d&&!m&&!b&&ts(u),O=d||m||b||C,k=O?Yp(u.length,ZN):[],H=k.length;for(var q in u)(l||pt.call(u,q))&&!(O&&(q=="length"||b&&(q=="offset"||q=="parent")||C&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||Ci(q,H)))&&k.push(q);return k}function m1(u){var l=u.length;return l?u[cv(0,l-1)]:r}function $A(u,l){return oc(Dr(u),Ko(l,0,u.length))}function XA(u){return oc(Dr(u))}function tv(u,l,d){(d!==r&&!Bn(u[l],d)||d===r&&!(l in u))&&wi(u,l,d)}function Su(u,l,d){var m=u[l];(!(pt.call(u,l)&&Bn(m,d))||d===r&&!(l in u))&&wi(u,l,d)}function zf(u,l){for(var d=u.length;d--;)if(Bn(u[d][0],l))return d;return-1}function VA(u,l,d,m){return ro(u,function(b,C,O){l(m,b,d(b),O)}),m}function g1(u,l){return u&&ei(l,ar(l),u)}function jA(u,l){return u&&ei(l,Hr(l),u)}function wi(u,l,d){l=="__proto__"&&Gf?Gf(u,l,{configurable:!0,enumerable:!0,value:d,writable:!0}):u[l]=d}function rv(u,l){for(var d=-1,m=l.length,b=j(m),C=u==null;++d<m;)b[d]=C?r:Uv(u,l[d]);return b}function Ko(u,l,d){return u===u&&(d!==r&&(u=u<=d?u:d),l!==r&&(u=u>=l?u:l)),u}function yn(u,l,d,m,b,C){var O,k=l&p,H=l&v,q=l&_;if(d&&(O=b?d(u,m,b,C):d(u)),O!==r)return O;if(!kt(u))return u;var K=De(u);if(K){if(O=LP(u),!k)return Dr(u,O)}else{var J=Er(u),he=J==lt||J==Ge;if(ao(u))return $1(u,k);if(J==Lt||J==ke||he&&!b){if(O=H||he?{}:sx(u),!k)return H?bP(u,jA(O,u)):EP(u,g1(O,u))}else{if(!xt[J])return b?u:{};O=kP(u,J,k)}}C||(C=new Un);var ye=C.get(u);if(ye)return ye;C.set(u,O),Ux(u)?u.forEach(function(Oe){O.add(yn(Oe,l,d,Oe,u,C))}):kx(u)&&u.forEach(function(Oe,qe){O.set(qe,yn(Oe,l,d,qe,u,C))});var Pe=q?H?bv:Ev:H?Hr:ar,Xe=K?r:Pe(u);return _n(Xe||u,function(Oe,qe){Xe&&(qe=Oe,Oe=u[qe]),Su(O,qe,yn(Oe,l,d,qe,u,C))}),O}function zA(u){var l=ar(u);return function(d){return y1(d,u,l)}}function y1(u,l,d){var m=d.length;if(u==null)return!m;for(u=yt(u);m--;){var b=d[m],C=l[b],O=u[b];if(O===r&&!(b in u)||!C(O))return!1}return!0}function x1(u,l,d){if(typeof u!="function")throw new mn(a);return Ou(function(){u.apply(r,d)},l)}function Cu(u,l,d,m){var b=-1,C=Nf,O=!0,k=u.length,H=[],q=l.length;if(!k)return H;d&&(l=Nt(l,Jr(d))),m?(C=$p,O=!1):l.length>=i&&(C=yu,O=!1,l=new qo(l));e:for(;++b<k;){var K=u[b],J=d==null?K:d(K);if(K=m||K!==0?K:0,O&&J===J){for(var he=q;he--;)if(l[he]===J)continue e;H.push(K)}else C(l,J,m)||H.push(K)}return H}var ro=W1(Qn),E1=W1(iv,!0);function WA(u,l){var d=!0;return ro(u,function(m,b,C){return d=!!l(m,b,C),d}),d}function Wf(u,l,d){for(var m=-1,b=u.length;++m<b;){var C=u[m],O=l(C);if(O!=null&&(k===r?O===O&&!en(O):d(O,k)))var k=O,H=C}return H}function YA(u,l,d,m){var b=u.length;for(d=He(d),d<0&&(d=-d>b?0:b+d),m=m===r||m>b?b:He(m),m<0&&(m+=b),m=d>m?0:Mx(m);d<m;)u[d++]=l;return u}function b1(u,l){var d=[];return ro(u,function(m,b,C){l(m,b,C)&&d.push(m)}),d}function hr(u,l,d,m,b){var C=-1,O=u.length;for(d||(d=UP),b||(b=[]);++C<O;){var k=u[C];l>0&&d(k)?l>1?hr(k,l-1,d,m,b):Qi(b,k):m||(b[b.length]=k)}return b}var nv=Y1(),w1=Y1(!0);function Qn(u,l){return u&&nv(u,l,ar)}function iv(u,l){return u&&w1(u,l,ar)}function Yf(u,l){return Ji(l,function(d){return Ii(u[d])})}function Zo(u,l){l=io(l,u);for(var d=0,m=l.length;u!=null&&d<m;)u=u[ti(l[d++])];return d&&d==m?u:r}function T1(u,l,d){var m=l(u);return De(u)?m:Qi(m,d(u))}function Lr(u){return u==null?u===r?pf:ze:Wo&&Wo in yt(u)?AP(u):XP(u)}function ov(u,l){return u>l}function qA(u,l){return u!=null&&pt.call(u,l)}function KA(u,l){return u!=null&&l in yt(u)}function ZA(u,l,d){return u>=xr(l,d)&&u<tr(l,d)}function av(u,l,d){for(var m=d?$p:Nf,b=u[0].length,C=u.length,O=C,k=j(C),H=1/0,q=[];O--;){var K=u[O];O&&l&&(K=Nt(K,Jr(l))),H=xr(K.length,H),k[O]=!d&&(l||b>=120&&K.length>=120)?new qo(O&&K):r}K=u[0];var J=-1,he=k[0];e:for(;++J<b&&q.length<H;){var ye=K[J],Pe=l?l(ye):ye;if(ye=d||ye!==0?ye:0,!(he?yu(he,Pe):m(q,Pe,d))){for(O=C;--O;){var Xe=k[O];if(!(Xe?yu(Xe,Pe):m(u[O],Pe,d)))continue e}he&&he.push(Pe),q.push(ye)}}return q}function JA(u,l,d,m){return Qn(u,function(b,C,O){l(m,d(b),C,O)}),m}function Iu(u,l,d){l=io(l,u),u=cx(u,l);var m=u==null?u:u[ti(En(l))];return m==null?r:Zr(m,u,d)}function S1(u){return Gt(u)&&Lr(u)==ke}function QA(u){return Gt(u)&&Lr(u)==qi}function eP(u){return Gt(u)&&Lr(u)==Ye}function Ru(u,l,d,m,b){return u===l?!0:u==null||l==null||!Gt(u)&&!Gt(l)?u!==u&&l!==l:tP(u,l,d,m,Ru,b)}function tP(u,l,d,m,b,C){var O=De(u),k=De(l),H=O?Me:Er(u),q=k?Me:Er(l);H=H==ke?Lt:H,q=q==ke?Lt:q;var K=H==Lt,J=q==Lt,he=H==q;if(he&&ao(u)){if(!ao(l))return!1;O=!0,K=!1}if(he&&!K)return C||(C=new Un),O||ts(u)?ix(u,l,d,m,b,C):RP(u,l,H,d,m,b,C);if(!(d&y)){var ye=K&&pt.call(u,"__wrapped__"),Pe=J&&pt.call(l,"__wrapped__");if(ye||Pe){var Xe=ye?u.value():u,Oe=Pe?l.value():l;return C||(C=new Un),b(Xe,Oe,d,m,C)}}return he?(C||(C=new Un),NP(u,l,d,m,b,C)):!1}function rP(u){return Gt(u)&&Er(u)==ct}function sv(u,l,d,m){var b=d.length,C=b,O=!m;if(u==null)return!C;for(u=yt(u);b--;){var k=d[b];if(O&&k[2]?k[1]!==u[k[0]]:!(k[0]in u))return!1}for(;++b<C;){k=d[b];var H=k[0],q=u[H],K=k[1];if(O&&k[2]){if(q===r&&!(H in u))return!1}else{var J=new Un;if(m)var he=m(q,K,H,u,l,J);if(!(he===r?Ru(K,q,y|E,m,J):he))return!1}}return!0}function C1(u){if(!kt(u)||MP(u))return!1;var l=Ii(u)?rA:Np;return l.test(Qo(u))}function nP(u){return Gt(u)&&Lr(u)==pn}function iP(u){return Gt(u)&&Er(u)==or}function oP(u){return Gt(u)&&cc(u.length)&&!!Tt[Lr(u)]}function I1(u){return typeof u=="function"?u:u==null?$r:typeof u=="object"?De(u)?A1(u[0],u[1]):N1(u):qx(u)}function uv(u){if(!Pu(u))return uA(u);var l=[];for(var d in yt(u))pt.call(u,d)&&d!="constructor"&&l.push(d);return l}function aP(u){if(!kt(u))return $P(u);var l=Pu(u),d=[];for(var m in u)m=="constructor"&&(l||!pt.call(u,m))||d.push(m);return d}function lv(u,l){return u<l}function R1(u,l){var d=-1,m=Gr(u)?j(u.length):[];return ro(u,function(b,C,O){m[++d]=l(b,C,O)}),m}function N1(u){var l=Tv(u);return l.length==1&&l[0][2]?lx(l[0][0],l[0][1]):function(d){return d===u||sv(d,u,l)}}function A1(u,l){return Cv(u)&&ux(l)?lx(ti(u),l):function(d){var m=Uv(d,u);return m===r&&m===l?Bv(d,u):Ru(l,m,y|E)}}function qf(u,l,d,m,b){u!==l&&nv(l,function(C,O){if(b||(b=new Un),kt(C))sP(u,l,O,d,qf,m,b);else{var k=m?m(Rv(u,O),C,O+"",u,l,b):r;k===r&&(k=C),tv(u,O,k)}},Hr)}function sP(u,l,d,m,b,C,O){var k=Rv(u,d),H=Rv(l,d),q=O.get(H);if(q){tv(u,d,q);return}var K=C?C(k,H,d+"",u,l,O):r,J=K===r;if(J){var he=De(H),ye=!he&&ao(H),Pe=!he&&!ye&&ts(H);K=H,he||ye||Pe?De(k)?K=k:Wt(k)?K=Dr(k):ye?(J=!1,K=$1(H,!0)):Pe?(J=!1,K=X1(H,!0)):K=[]:Lu(H)||ea(H)?(K=k,ea(k)?K=Dx(k):(!kt(k)||Ii(k))&&(K=sx(H))):J=!1}J&&(O.set(H,K),b(K,H,m,C,O),O.delete(H)),tv(u,d,K)}function P1(u,l){var d=u.length;if(!!d)return l+=l<0?d:0,Ci(l,d)?u[l]:r}function O1(u,l,d){l.length?l=Nt(l,function(C){return De(C)?function(O){return Zo(O,C.length===1?C[0]:C)}:C}):l=[$r];var m=-1;l=Nt(l,Jr(Ne()));var b=R1(u,function(C,O,k){var H=Nt(l,function(q){return q(C)});return{criteria:H,index:++m,value:C}});return kN(b,function(C,O){return xP(C,O,d)})}function uP(u,l){return L1(u,l,function(d,m){return Bv(u,m)})}function L1(u,l,d){for(var m=-1,b=l.length,C={};++m<b;){var O=l[m],k=Zo(u,O);d(k,O)&&Nu(C,io(O,u),k)}return C}function lP(u){return function(l){return Zo(l,u)}}function fv(u,l,d,m){var b=m?LN:Va,C=-1,O=l.length,k=u;for(u===l&&(l=Dr(l)),d&&(k=Nt(u,Jr(d)));++C<O;)for(var H=0,q=l[C],K=d?d(q):q;(H=b(k,K,H,m))>-1;)k!==u&&Df.call(k,H,1),Df.call(u,H,1);return u}function k1(u,l){for(var d=u?l.length:0,m=d-1;d--;){var b=l[d];if(d==m||b!==C){var C=b;Ci(b)?Df.call(u,b,1):pv(u,b)}}return u}function cv(u,l){return u+$f(p1()*(l-u+1))}function fP(u,l,d,m){for(var b=-1,C=tr(Hf((l-u)/(d||1)),0),O=j(C);C--;)O[m?C:++b]=u,u+=d;return O}function hv(u,l){var d="";if(!u||l<1||l>Fe)return d;do l%2&&(d+=u),l=$f(l/2),l&&(u+=u);while(l);return d}function je(u,l){return Nv(fx(u,l,$r),u+"")}function cP(u){return m1(rs(u))}function hP(u,l){var d=rs(u);return oc(d,Ko(l,0,d.length))}function Nu(u,l,d,m){if(!kt(u))return u;l=io(l,u);for(var b=-1,C=l.length,O=C-1,k=u;k!=null&&++b<C;){var H=ti(l[b]),q=d;if(H==="__proto__"||H==="constructor"||H==="prototype")return u;if(b!=O){var K=k[H];q=m?m(K,H,k):r,q===r&&(q=kt(K)?K:Ci(l[b+1])?[]:{})}Su(k,H,q),k=k[H]}return u}var F1=Xf?function(u,l){return Xf.set(u,l),u}:$r,dP=Gf?function(u,l){return Gf(u,"toString",{configurable:!0,enumerable:!1,value:Dv(l),writable:!0})}:$r;function pP(u){return oc(rs(u))}function xn(u,l,d){var m=-1,b=u.length;l<0&&(l=-l>b?0:b+l),d=d>b?b:d,d<0&&(d+=b),b=l>d?0:d-l>>>0,l>>>=0;for(var C=j(b);++m<b;)C[m]=u[m+l];return C}function vP(u,l){var d;return ro(u,function(m,b,C){return d=l(m,b,C),!d}),!!d}function Kf(u,l,d){var m=0,b=u==null?m:u.length;if(typeof l=="number"&&l===l&&b<=ce){for(;m<b;){var C=m+b>>>1,O=u[C];O!==null&&!en(O)&&(d?O<=l:O<l)?m=C+1:b=C}return b}return dv(u,l,$r,d)}function dv(u,l,d,m){var b=0,C=u==null?0:u.length;if(C===0)return 0;l=d(l);for(var O=l!==l,k=l===null,H=en(l),q=l===r;b<C;){var K=$f((b+C)/2),J=d(u[K]),he=J!==r,ye=J===null,Pe=J===J,Xe=en(J);if(O)var Oe=m||Pe;else q?Oe=Pe&&(m||he):k?Oe=Pe&&he&&(m||!ye):H?Oe=Pe&&he&&!ye&&(m||!Xe):ye||Xe?Oe=!1:Oe=m?J<=l:J<l;Oe?b=K+1:C=K}return xr(C,ne)}function U1(u,l){for(var d=-1,m=u.length,b=0,C=[];++d<m;){var O=u[d],k=l?l(O):O;if(!d||!Bn(k,H)){var H=k;C[b++]=O===0?0:O}}return C}function B1(u){return typeof u=="number"?u:en(u)?Z:+u}function Qr(u){if(typeof u=="string")return u;if(De(u))return Nt(u,Qr)+"";if(en(u))return v1?v1.call(u):"";var l=u+"";return l=="0"&&1/u==-Ee?"-0":l}function no(u,l,d){var m=-1,b=Nf,C=u.length,O=!0,k=[],H=k;if(d)O=!1,b=$p;else if(C>=i){var q=l?null:CP(u);if(q)return Pf(q);O=!1,b=yu,H=new qo}else H=l?[]:k;e:for(;++m<C;){var K=u[m],J=l?l(K):K;if(K=d||K!==0?K:0,O&&J===J){for(var he=H.length;he--;)if(H[he]===J)continue e;l&&H.push(J),k.push(K)}else b(H,J,d)||(H!==k&&H.push(J),k.push(K))}return k}function pv(u,l){return l=io(l,u),u=cx(u,l),u==null||delete u[ti(En(l))]}function M1(u,l,d,m){return Nu(u,l,d(Zo(u,l)),m)}function Zf(u,l,d,m){for(var b=u.length,C=m?b:-1;(m?C--:++C<b)&&l(u[C],C,u););return d?xn(u,m?0:C,m?C+1:b):xn(u,m?C+1:0,m?b:C)}function D1(u,l){var d=u;return d instanceof Ze&&(d=d.value()),Xp(l,function(m,b){return b.func.apply(b.thisArg,Qi([m],b.args))},d)}function vv(u,l,d){var m=u.length;if(m<2)return m?no(u[0]):[];for(var b=-1,C=j(m);++b<m;)for(var O=u[b],k=-1;++k<m;)k!=b&&(C[b]=Cu(C[b]||O,u[k],l,d));return no(hr(C,1),l,d)}function G1(u,l,d){for(var m=-1,b=u.length,C=l.length,O={};++m<b;){var k=m<C?l[m]:r;d(O,u[m],k)}return O}function _v(u){return Wt(u)?u:[]}function mv(u){return typeof u=="function"?u:$r}function io(u,l){return De(u)?u:Cv(u,l)?[u]:vx(ht(u))}var _P=je;function oo(u,l,d){var m=u.length;return d=d===r?m:d,!l&&d>=m?u:xn(u,l,d)}var H1=nA||function(u){return cr.clearTimeout(u)};function $1(u,l){if(l)return u.slice();var d=u.length,m=l1?l1(d):new u.constructor(d);return u.copy(m),m}function gv(u){var l=new u.constructor(u.byteLength);return new Bf(l).set(new Bf(u)),l}function mP(u,l){var d=l?gv(u.buffer):u.buffer;return new u.constructor(d,u.byteOffset,u.byteLength)}function gP(u){var l=new u.constructor(u.source,bf.exec(u));return l.lastIndex=u.lastIndex,l}function yP(u){return Tu?yt(Tu.call(u)):{}}function X1(u,l){var d=l?gv(u.buffer):u.buffer;return new u.constructor(d,u.byteOffset,u.length)}function V1(u,l){if(u!==l){var d=u!==r,m=u===null,b=u===u,C=en(u),O=l!==r,k=l===null,H=l===l,q=en(l);if(!k&&!q&&!C&&u>l||C&&O&&H&&!k&&!q||m&&O&&H||!d&&H||!b)return 1;if(!m&&!C&&!q&&u<l||q&&d&&b&&!m&&!C||k&&d&&b||!O&&b||!H)return-1}return 0}function xP(u,l,d){for(var m=-1,b=u.criteria,C=l.criteria,O=b.length,k=d.length;++m<O;){var H=V1(b[m],C[m]);if(H){if(m>=k)return H;var q=d[m];return H*(q=="desc"?-1:1)}}return u.index-l.index}function j1(u,l,d,m){for(var b=-1,C=u.length,O=d.length,k=-1,H=l.length,q=tr(C-O,0),K=j(H+q),J=!m;++k<H;)K[k]=l[k];for(;++b<O;)(J||b<C)&&(K[d[b]]=u[b]);for(;q--;)K[k++]=u[b++];return K}function z1(u,l,d,m){for(var b=-1,C=u.length,O=-1,k=d.length,H=-1,q=l.length,K=tr(C-k,0),J=j(K+q),he=!m;++b<K;)J[b]=u[b];for(var ye=b;++H<q;)J[ye+H]=l[H];for(;++O<k;)(he||b<C)&&(J[ye+d[O]]=u[b++]);return J}function Dr(u,l){var d=-1,m=u.length;for(l||(l=j(m));++d<m;)l[d]=u[d];return l}function ei(u,l,d,m){var b=!d;d||(d={});for(var C=-1,O=l.length;++C<O;){var k=l[C],H=m?m(d[k],u[k],k,d,u):r;H===r&&(H=u[k]),b?wi(d,k,H):Su(d,k,H)}return d}function EP(u,l){return ei(u,Sv(u),l)}function bP(u,l){return ei(u,ox(u),l)}function Jf(u,l){return function(d,m){var b=De(d)?IN:VA,C=l?l():{};return b(d,u,Ne(m,2),C)}}function Ja(u){return je(function(l,d){var m=-1,b=d.length,C=b>1?d[b-1]:r,O=b>2?d[2]:r;for(C=u.length>3&&typeof C=="function"?(b--,C):r,O&&kr(d[0],d[1],O)&&(C=b<3?r:C,b=1),l=yt(l);++m<b;){var k=d[m];k&&u(l,k,m,C)}return l})}function W1(u,l){return function(d,m){if(d==null)return d;if(!Gr(d))return u(d,m);for(var b=d.length,C=l?b:-1,O=yt(d);(l?C--:++C<b)&&m(O[C],C,O)!==!1;);return d}}function Y1(u){return function(l,d,m){for(var b=-1,C=yt(l),O=m(l),k=O.length;k--;){var H=O[u?k:++b];if(d(C[H],H,C)===!1)break}return l}}function wP(u,l,d){var m=l&g,b=Au(u);function C(){var O=this&&this!==cr&&this instanceof C?b:u;return O.apply(m?d:this,arguments)}return C}function q1(u){return function(l){l=ht(l);var d=ja(l)?Fn(l):r,m=d?d[0]:l.charAt(0),b=d?oo(d,1).join(""):l.slice(1);return m[u]()+b}}function Qa(u){return function(l){return Xp(Wx(zx(l).replace(dN,"")),u,"")}}function Au(u){return function(){var l=arguments;switch(l.length){case 0:return new u;case 1:return new u(l[0]);case 2:return new u(l[0],l[1]);case 3:return new u(l[0],l[1],l[2]);case 4:return new u(l[0],l[1],l[2],l[3]);case 5:return new u(l[0],l[1],l[2],l[3],l[4]);case 6:return new u(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new u(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var d=Za(u.prototype),m=u.apply(d,l);return kt(m)?m:d}}function TP(u,l,d){var m=Au(u);function b(){for(var C=arguments.length,O=j(C),k=C,H=es(b);k--;)O[k]=arguments[k];var q=C<3&&O[0]!==H&&O[C-1]!==H?[]:eo(O,H);if(C-=q.length,C<d)return ex(u,l,Qf,b.placeholder,r,O,q,r,r,d-C);var K=this&&this!==cr&&this instanceof b?m:u;return Zr(K,this,O)}return b}function K1(u){return function(l,d,m){var b=yt(l);if(!Gr(l)){var C=Ne(d,3);l=ar(l),d=function(k){return C(b[k],k,b)}}var O=u(l,d,m);return O>-1?b[C?l[O]:O]:r}}function Z1(u){return Si(function(l){var d=l.length,m=d,b=gn.prototype.thru;for(u&&l.reverse();m--;){var C=l[m];if(typeof C!="function")throw new mn(a);if(b&&!O&&nc(C)=="wrapper")var O=new gn([],!0)}for(m=O?m:d;++m<d;){C=l[m];var k=nc(C),H=k=="wrapper"?wv(C):r;H&&Iv(H[0])&&H[1]==(M|I|N|X)&&!H[4].length&&H[9]==1?O=O[nc(H[0])].apply(O,H[3]):O=C.length==1&&Iv(C)?O[k]():O.thru(C)}return function(){var q=arguments,K=q[0];if(O&&q.length==1&&De(K))return O.plant(K).value();for(var J=0,he=d?l[J].apply(this,q):K;++J<d;)he=l[J].call(this,he);return he}})}function Qf(u,l,d,m,b,C,O,k,H,q){var K=l&M,J=l&g,he=l&x,ye=l&(I|P),Pe=l&D,Xe=he?r:Au(u);function Oe(){for(var qe=arguments.length,Qe=j(qe),tn=qe;tn--;)Qe[tn]=arguments[tn];if(ye)var Fr=es(Oe),rn=UN(Qe,Fr);if(m&&(Qe=j1(Qe,m,b,ye)),C&&(Qe=z1(Qe,C,O,ye)),qe-=rn,ye&&qe<q){var Yt=eo(Qe,Fr);return ex(u,l,Qf,Oe.placeholder,d,Qe,Yt,k,H,q-qe)}var Mn=J?d:this,Ni=he?Mn[u]:u;return qe=Qe.length,k?Qe=VP(Qe,k):Pe&&qe>1&&Qe.reverse(),K&&H<qe&&(Qe.length=H),this&&this!==cr&&this instanceof Oe&&(Ni=Xe||Au(Ni)),Ni.apply(Mn,Qe)}return Oe}function J1(u,l){return function(d,m){return JA(d,u,l(m),{})}}function ec(u,l){return function(d,m){var b;if(d===r&&m===r)return l;if(d!==r&&(b=d),m!==r){if(b===r)return m;typeof d=="string"||typeof m=="string"?(d=Qr(d),m=Qr(m)):(d=B1(d),m=B1(m)),b=u(d,m)}return b}}function yv(u){return Si(function(l){return l=Nt(l,Jr(Ne())),je(function(d){var m=this;return u(l,function(b){return Zr(b,m,d)})})})}function tc(u,l){l=l===r?" ":Qr(l);var d=l.length;if(d<2)return d?hv(l,u):l;var m=hv(l,Hf(u/za(l)));return ja(l)?oo(Fn(m),0,u).join(""):m.slice(0,u)}function SP(u,l,d,m){var b=l&g,C=Au(u);function O(){for(var k=-1,H=arguments.length,q=-1,K=m.length,J=j(K+H),he=this&&this!==cr&&this instanceof O?C:u;++q<K;)J[q]=m[q];for(;H--;)J[q++]=arguments[++k];return Zr(he,b?d:this,J)}return O}function Q1(u){return function(l,d,m){return m&&typeof m!="number"&&kr(l,d,m)&&(d=m=r),l=Ri(l),d===r?(d=l,l=0):d=Ri(d),m=m===r?l<d?1:-1:Ri(m),fP(l,d,m,u)}}function rc(u){return function(l,d){return typeof l=="string"&&typeof d=="string"||(l=bn(l),d=bn(d)),u(l,d)}}function ex(u,l,d,m,b,C,O,k,H,q){var K=l&I,J=K?O:r,he=K?r:O,ye=K?C:r,Pe=K?r:C;l|=K?N:R,l&=~(K?R:N),l&w||(l&=~(g|x));var Xe=[u,l,b,ye,J,Pe,he,k,H,q],Oe=d.apply(r,Xe);return Iv(u)&&hx(Oe,Xe),Oe.placeholder=m,dx(Oe,u,l)}function xv(u){var l=er[u];return function(d,m){if(d=bn(d),m=m==null?0:xr(He(m),292),m&&d1(d)){var b=(ht(d)+"e").split("e"),C=l(b[0]+"e"+(+b[1]+m));return b=(ht(C)+"e").split("e"),+(b[0]+"e"+(+b[1]-m))}return l(d)}}var CP=qa&&1/Pf(new qa([,-0]))[1]==Ee?function(u){return new qa(u)}:$v;function tx(u){return function(l){var d=Er(l);return d==ct?Kp(l):d==or?XN(l):FN(l,u(l))}}function Ti(u,l,d,m,b,C,O,k){var H=l&x;if(!H&&typeof u!="function")throw new mn(a);var q=m?m.length:0;if(q||(l&=~(N|R),m=b=r),O=O===r?O:tr(He(O),0),k=k===r?k:He(k),q-=b?b.length:0,l&R){var K=m,J=b;m=b=r}var he=H?r:wv(u),ye=[u,l,d,m,b,K,J,C,O,k];if(he&&HP(ye,he),u=ye[0],l=ye[1],d=ye[2],m=ye[3],b=ye[4],k=ye[9]=ye[9]===r?H?0:u.length:tr(ye[9]-q,0),!k&&l&(I|P)&&(l&=~(I|P)),!l||l==g)var Pe=wP(u,l,d);else l==I||l==P?Pe=TP(u,l,k):(l==N||l==(g|N))&&!b.length?Pe=SP(u,l,d,m):Pe=Qf.apply(r,ye);var Xe=he?F1:hx;return dx(Xe(Pe,ye),u,l)}function rx(u,l,d,m){return u===r||Bn(u,Ya[d])&&!pt.call(m,d)?l:u}function nx(u,l,d,m,b,C){return kt(u)&&kt(l)&&(C.set(l,u),qf(u,l,r,nx,C),C.delete(l)),u}function IP(u){return Lu(u)?r:u}function ix(u,l,d,m,b,C){var O=d&y,k=u.length,H=l.length;if(k!=H&&!(O&&H>k))return!1;var q=C.get(u),K=C.get(l);if(q&&K)return q==l&&K==u;var J=-1,he=!0,ye=d&E?new qo:r;for(C.set(u,l),C.set(l,u);++J<k;){var Pe=u[J],Xe=l[J];if(m)var Oe=O?m(Xe,Pe,J,l,u,C):m(Pe,Xe,J,u,l,C);if(Oe!==r){if(Oe)continue;he=!1;break}if(ye){if(!Vp(l,function(qe,Qe){if(!yu(ye,Qe)&&(Pe===qe||b(Pe,qe,d,m,C)))return ye.push(Qe)})){he=!1;break}}else if(!(Pe===Xe||b(Pe,Xe,d,m,C))){he=!1;break}}return C.delete(u),C.delete(l),he}function RP(u,l,d,m,b,C,O){switch(d){case xi:if(u.byteLength!=l.byteLength||u.byteOffset!=l.byteOffset)return!1;u=u.buffer,l=l.buffer;case qi:return!(u.byteLength!=l.byteLength||!C(new Bf(u),new Bf(l)));case ut:case Ye:case rt:return Bn(+u,+l);case Ke:return u.name==l.name&&u.message==l.message;case pn:case kn:return u==l+"";case ct:var k=Kp;case or:var H=m&y;if(k||(k=Pf),u.size!=l.size&&!H)return!1;var q=O.get(u);if(q)return q==l;m|=E,O.set(u,l);var K=ix(k(u),k(l),m,b,C,O);return O.delete(u),K;case Kn:if(Tu)return Tu.call(u)==Tu.call(l)}return!1}function NP(u,l,d,m,b,C){var O=d&y,k=Ev(u),H=k.length,q=Ev(l),K=q.length;if(H!=K&&!O)return!1;for(var J=H;J--;){var he=k[J];if(!(O?he in l:pt.call(l,he)))return!1}var ye=C.get(u),Pe=C.get(l);if(ye&&Pe)return ye==l&&Pe==u;var Xe=!0;C.set(u,l),C.set(l,u);for(var Oe=O;++J<H;){he=k[J];var qe=u[he],Qe=l[he];if(m)var tn=O?m(Qe,qe,he,l,u,C):m(qe,Qe,he,u,l,C);if(!(tn===r?qe===Qe||b(qe,Qe,d,m,C):tn)){Xe=!1;break}Oe||(Oe=he=="constructor")}if(Xe&&!Oe){var Fr=u.constructor,rn=l.constructor;Fr!=rn&&"constructor"in u&&"constructor"in l&&!(typeof Fr=="function"&&Fr instanceof Fr&&typeof rn=="function"&&rn instanceof rn)&&(Xe=!1)}return C.delete(u),C.delete(l),Xe}function Si(u){return Nv(fx(u,r,yx),u+"")}function Ev(u){return T1(u,ar,Sv)}function bv(u){return T1(u,Hr,ox)}var wv=Xf?function(u){return Xf.get(u)}:$v;function nc(u){for(var l=u.name+"",d=Ka[l],m=pt.call(Ka,l)?d.length:0;m--;){var b=d[m],C=b.func;if(C==null||C==u)return b.name}return l}function es(u){var l=pt.call(T,"placeholder")?T:u;return l.placeholder}function Ne(){var u=T.iteratee||Gv;return u=u===Gv?I1:u,arguments.length?u(arguments[0],arguments[1]):u}function ic(u,l){var d=u.__data__;return BP(l)?d[typeof l=="string"?"string":"hash"]:d.map}function Tv(u){for(var l=ar(u),d=l.length;d--;){var m=l[d],b=u[m];l[d]=[m,b,ux(b)]}return l}function Jo(u,l){var d=GN(u,l);return C1(d)?d:r}function AP(u){var l=pt.call(u,Wo),d=u[Wo];try{u[Wo]=r;var m=!0}catch{}var b=Ff.call(u);return m&&(l?u[Wo]=d:delete u[Wo]),b}var Sv=Jp?function(u){return u==null?[]:(u=yt(u),Ji(Jp(u),function(l){return c1.call(u,l)}))}:Xv,ox=Jp?function(u){for(var l=[];u;)Qi(l,Sv(u)),u=Mf(u);return l}:Xv,Er=Lr;(Qp&&Er(new Qp(new ArrayBuffer(1)))!=xi||Eu&&Er(new Eu)!=ct||ev&&Er(ev.resolve())!=Mr||qa&&Er(new qa)!=or||bu&&Er(new bu)!=Yi)&&(Er=function(u){var l=Lr(u),d=l==Lt?u.constructor:r,m=d?Qo(d):"";if(m)switch(m){case hA:return xi;case dA:return ct;case pA:return Mr;case vA:return or;case _A:return Yi}return l});function PP(u,l,d){for(var m=-1,b=d.length;++m<b;){var C=d[m],O=C.size;switch(C.type){case"drop":u+=O;break;case"dropRight":l-=O;break;case"take":l=xr(l,u+O);break;case"takeRight":u=tr(u,l-O);break}}return{start:u,end:l}}function OP(u){var l=u.match(Ep);return l?l[1].split(bp):[]}function ax(u,l,d){l=io(l,u);for(var m=-1,b=l.length,C=!1;++m<b;){var O=ti(l[m]);if(!(C=u!=null&&d(u,O)))break;u=u[O]}return C||++m!=b?C:(b=u==null?0:u.length,!!b&&cc(b)&&Ci(O,b)&&(De(u)||ea(u)))}function LP(u){var l=u.length,d=new u.constructor(l);return l&&typeof u[0]=="string"&&pt.call(u,"index")&&(d.index=u.index,d.input=u.input),d}function sx(u){return typeof u.constructor=="function"&&!Pu(u)?Za(Mf(u)):{}}function kP(u,l,d){var m=u.constructor;switch(l){case qi:return gv(u);case ut:case Ye:return new m(+u);case xi:return mP(u,d);case Ua:case Ba:case Ma:case Da:case Ga:case Xo:case du:case pu:case Vo:return X1(u,d);case ct:return new m;case rt:case kn:return new m(u);case pn:return gP(u);case or:return new m;case Kn:return yP(u)}}function FP(u,l){var d=l.length;if(!d)return u;var m=d-1;return l[m]=(d>1?"& ":"")+l[m],l=l.join(d>2?", ":" "),u.replace(xp,`{
/* [wrapped with `+l+`] */
`)}function UP(u){return De(u)||ea(u)||!!(h1&&u&&u[h1])}function Ci(u,l){var d=typeof u;return l=l==null?Fe:l,!!l&&(d=="number"||d!="symbol"&&Pp.test(u))&&u>-1&&u%1==0&&u<l}function kr(u,l,d){if(!kt(d))return!1;var m=typeof l;return(m=="number"?Gr(d)&&Ci(l,d.length):m=="string"&&l in d)?Bn(d[l],u):!1}function Cv(u,l){if(De(u))return!1;var d=typeof u;return d=="number"||d=="symbol"||d=="boolean"||u==null||en(u)?!0:mp.test(u)||!_p.test(u)||l!=null&&u in yt(l)}function BP(u){var l=typeof u;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?u!=="__proto__":u===null}function Iv(u){var l=nc(u),d=T[l];if(typeof d!="function"||!(l in Ze.prototype))return!1;if(u===d)return!0;var m=wv(d);return!!m&&u===m[0]}function MP(u){return!!u1&&u1 in u}var DP=Lf?Ii:Vv;function Pu(u){var l=u&&u.constructor,d=typeof l=="function"&&l.prototype||Ya;return u===d}function ux(u){return u===u&&!kt(u)}function lx(u,l){return function(d){return d==null?!1:d[u]===l&&(l!==r||u in yt(d))}}function GP(u){var l=lc(u,function(m){return d.size===c&&d.clear(),m}),d=l.cache;return l}function HP(u,l){var d=u[1],m=l[1],b=d|m,C=b<(g|x|M),O=m==M&&d==I||m==M&&d==X&&u[7].length<=l[8]||m==(M|X)&&l[7].length<=l[8]&&d==I;if(!(C||O))return u;m&g&&(u[2]=l[2],b|=d&g?0:w);var k=l[3];if(k){var H=u[3];u[3]=H?j1(H,k,l[4]):k,u[4]=H?eo(u[3],h):l[4]}return k=l[5],k&&(H=u[5],u[5]=H?z1(H,k,l[6]):k,u[6]=H?eo(u[5],h):l[6]),k=l[7],k&&(u[7]=k),m&M&&(u[8]=u[8]==null?l[8]:xr(u[8],l[8])),u[9]==null&&(u[9]=l[9]),u[0]=l[0],u[1]=b,u}function $P(u){var l=[];if(u!=null)for(var d in yt(u))l.push(d);return l}function XP(u){return Ff.call(u)}function fx(u,l,d){return l=tr(l===r?u.length-1:l,0),function(){for(var m=arguments,b=-1,C=tr(m.length-l,0),O=j(C);++b<C;)O[b]=m[l+b];b=-1;for(var k=j(l+1);++b<l;)k[b]=m[b];return k[l]=d(O),Zr(u,this,k)}}function cx(u,l){return l.length<2?u:Zo(u,xn(l,0,-1))}function VP(u,l){for(var d=u.length,m=xr(l.length,d),b=Dr(u);m--;){var C=l[m];u[m]=Ci(C,d)?b[C]:r}return u}function Rv(u,l){if(!(l==="constructor"&&typeof u[l]=="function")&&l!="__proto__")return u[l]}var hx=px(F1),Ou=oA||function(u,l){return cr.setTimeout(u,l)},Nv=px(dP);function dx(u,l,d){var m=l+"";return Nv(u,FP(m,jP(OP(m),d)))}function px(u){var l=0,d=0;return function(){var m=lA(),b=pe-(m-d);if(d=m,b>0){if(++l>=ue)return arguments[0]}else l=0;return u.apply(r,arguments)}}function oc(u,l){var d=-1,m=u.length,b=m-1;for(l=l===r?m:l;++d<l;){var C=cv(d,b),O=u[C];u[C]=u[d],u[d]=O}return u.length=l,u}var vx=GP(function(u){var l=[];return u.charCodeAt(0)===46&&l.push(""),u.replace(gp,function(d,m,b,C){l.push(b?C.replace(Sp,"$1"):m||d)}),l});function ti(u){if(typeof u=="string"||en(u))return u;var l=u+"";return l=="0"&&1/u==-Ee?"-0":l}function Qo(u){if(u!=null){try{return kf.call(u)}catch{}try{return u+""}catch{}}return""}function jP(u,l){return _n(Se,function(d){var m="_."+d[0];l&d[1]&&!Nf(u,m)&&u.push(m)}),u.sort()}function _x(u){if(u instanceof Ze)return u.clone();var l=new gn(u.__wrapped__,u.__chain__);return l.__actions__=Dr(u.__actions__),l.__index__=u.__index__,l.__values__=u.__values__,l}function zP(u,l,d){(d?kr(u,l,d):l===r)?l=1:l=tr(He(l),0);var m=u==null?0:u.length;if(!m||l<1)return[];for(var b=0,C=0,O=j(Hf(m/l));b<m;)O[C++]=xn(u,b,b+=l);return O}function WP(u){for(var l=-1,d=u==null?0:u.length,m=0,b=[];++l<d;){var C=u[l];C&&(b[m++]=C)}return b}function YP(){var u=arguments.length;if(!u)return[];for(var l=j(u-1),d=arguments[0],m=u;m--;)l[m-1]=arguments[m];return Qi(De(d)?Dr(d):[d],hr(l,1))}var qP=je(function(u,l){return Wt(u)?Cu(u,hr(l,1,Wt,!0)):[]}),KP=je(function(u,l){var d=En(l);return Wt(d)&&(d=r),Wt(u)?Cu(u,hr(l,1,Wt,!0),Ne(d,2)):[]}),ZP=je(function(u,l){var d=En(l);return Wt(d)&&(d=r),Wt(u)?Cu(u,hr(l,1,Wt,!0),r,d):[]});function JP(u,l,d){var m=u==null?0:u.length;return m?(l=d||l===r?1:He(l),xn(u,l<0?0:l,m)):[]}function QP(u,l,d){var m=u==null?0:u.length;return m?(l=d||l===r?1:He(l),l=m-l,xn(u,0,l<0?0:l)):[]}function eO(u,l){return u&&u.length?Zf(u,Ne(l,3),!0,!0):[]}function tO(u,l){return u&&u.length?Zf(u,Ne(l,3),!0):[]}function rO(u,l,d,m){var b=u==null?0:u.length;return b?(d&&typeof d!="number"&&kr(u,l,d)&&(d=0,m=b),YA(u,l,d,m)):[]}function mx(u,l,d){var m=u==null?0:u.length;if(!m)return-1;var b=d==null?0:He(d);return b<0&&(b=tr(m+b,0)),Af(u,Ne(l,3),b)}function gx(u,l,d){var m=u==null?0:u.length;if(!m)return-1;var b=m-1;return d!==r&&(b=He(d),b=d<0?tr(m+b,0):xr(b,m-1)),Af(u,Ne(l,3),b,!0)}function yx(u){var l=u==null?0:u.length;return l?hr(u,1):[]}function nO(u){var l=u==null?0:u.length;return l?hr(u,Ee):[]}function iO(u,l){var d=u==null?0:u.length;return d?(l=l===r?1:He(l),hr(u,l)):[]}function oO(u){for(var l=-1,d=u==null?0:u.length,m={};++l<d;){var b=u[l];m[b[0]]=b[1]}return m}function xx(u){return u&&u.length?u[0]:r}function aO(u,l,d){var m=u==null?0:u.length;if(!m)return-1;var b=d==null?0:He(d);return b<0&&(b=tr(m+b,0)),Va(u,l,b)}function sO(u){var l=u==null?0:u.length;return l?xn(u,0,-1):[]}var uO=je(function(u){var l=Nt(u,_v);return l.length&&l[0]===u[0]?av(l):[]}),lO=je(function(u){var l=En(u),d=Nt(u,_v);return l===En(d)?l=r:d.pop(),d.length&&d[0]===u[0]?av(d,Ne(l,2)):[]}),fO=je(function(u){var l=En(u),d=Nt(u,_v);return l=typeof l=="function"?l:r,l&&d.pop(),d.length&&d[0]===u[0]?av(d,r,l):[]});function cO(u,l){return u==null?"":sA.call(u,l)}function En(u){var l=u==null?0:u.length;return l?u[l-1]:r}function hO(u,l,d){var m=u==null?0:u.length;if(!m)return-1;var b=m;return d!==r&&(b=He(d),b=b<0?tr(m+b,0):xr(b,m-1)),l===l?jN(u,l,b):Af(u,e1,b,!0)}function dO(u,l){return u&&u.length?P1(u,He(l)):r}var pO=je(Ex);function Ex(u,l){return u&&u.length&&l&&l.length?fv(u,l):u}function vO(u,l,d){return u&&u.length&&l&&l.length?fv(u,l,Ne(d,2)):u}function _O(u,l,d){return u&&u.length&&l&&l.length?fv(u,l,r,d):u}var mO=Si(function(u,l){var d=u==null?0:u.length,m=rv(u,l);return k1(u,Nt(l,function(b){return Ci(b,d)?+b:b}).sort(V1)),m});function gO(u,l){var d=[];if(!(u&&u.length))return d;var m=-1,b=[],C=u.length;for(l=Ne(l,3);++m<C;){var O=u[m];l(O,m,u)&&(d.push(O),b.push(m))}return k1(u,b),d}function Av(u){return u==null?u:cA.call(u)}function yO(u,l,d){var m=u==null?0:u.length;return m?(d&&typeof d!="number"&&kr(u,l,d)?(l=0,d=m):(l=l==null?0:He(l),d=d===r?m:He(d)),xn(u,l,d)):[]}function xO(u,l){return Kf(u,l)}function EO(u,l,d){return dv(u,l,Ne(d,2))}function bO(u,l){var d=u==null?0:u.length;if(d){var m=Kf(u,l);if(m<d&&Bn(u[m],l))return m}return-1}function wO(u,l){return Kf(u,l,!0)}function TO(u,l,d){return dv(u,l,Ne(d,2),!0)}function SO(u,l){var d=u==null?0:u.length;if(d){var m=Kf(u,l,!0)-1;if(Bn(u[m],l))return m}return-1}function CO(u){return u&&u.length?U1(u):[]}function IO(u,l){return u&&u.length?U1(u,Ne(l,2)):[]}function RO(u){var l=u==null?0:u.length;return l?xn(u,1,l):[]}function NO(u,l,d){return u&&u.length?(l=d||l===r?1:He(l),xn(u,0,l<0?0:l)):[]}function AO(u,l,d){var m=u==null?0:u.length;return m?(l=d||l===r?1:He(l),l=m-l,xn(u,l<0?0:l,m)):[]}function PO(u,l){return u&&u.length?Zf(u,Ne(l,3),!1,!0):[]}function OO(u,l){return u&&u.length?Zf(u,Ne(l,3)):[]}var LO=je(function(u){return no(hr(u,1,Wt,!0))}),kO=je(function(u){var l=En(u);return Wt(l)&&(l=r),no(hr(u,1,Wt,!0),Ne(l,2))}),FO=je(function(u){var l=En(u);return l=typeof l=="function"?l:r,no(hr(u,1,Wt,!0),r,l)});function UO(u){return u&&u.length?no(u):[]}function BO(u,l){return u&&u.length?no(u,Ne(l,2)):[]}function MO(u,l){return l=typeof l=="function"?l:r,u&&u.length?no(u,r,l):[]}function Pv(u){if(!(u&&u.length))return[];var l=0;return u=Ji(u,function(d){if(Wt(d))return l=tr(d.length,l),!0}),Yp(l,function(d){return Nt(u,jp(d))})}function bx(u,l){if(!(u&&u.length))return[];var d=Pv(u);return l==null?d:Nt(d,function(m){return Zr(l,r,m)})}var DO=je(function(u,l){return Wt(u)?Cu(u,l):[]}),GO=je(function(u){return vv(Ji(u,Wt))}),HO=je(function(u){var l=En(u);return Wt(l)&&(l=r),vv(Ji(u,Wt),Ne(l,2))}),$O=je(function(u){var l=En(u);return l=typeof l=="function"?l:r,vv(Ji(u,Wt),r,l)}),XO=je(Pv);function VO(u,l){return G1(u||[],l||[],Su)}function jO(u,l){return G1(u||[],l||[],Nu)}var zO=je(function(u){var l=u.length,d=l>1?u[l-1]:r;return d=typeof d=="function"?(u.pop(),d):r,bx(u,d)});function wx(u){var l=T(u);return l.__chain__=!0,l}function WO(u,l){return l(u),u}function ac(u,l){return l(u)}var YO=Si(function(u){var l=u.length,d=l?u[0]:0,m=this.__wrapped__,b=function(C){return rv(C,u)};return l>1||this.__actions__.length||!(m instanceof Ze)||!Ci(d)?this.thru(b):(m=m.slice(d,+d+(l?1:0)),m.__actions__.push({func:ac,args:[b],thisArg:r}),new gn(m,this.__chain__).thru(function(C){return l&&!C.length&&C.push(r),C}))});function qO(){return wx(this)}function KO(){return new gn(this.value(),this.__chain__)}function ZO(){this.__values__===r&&(this.__values__=Bx(this.value()));var u=this.__index__>=this.__values__.length,l=u?r:this.__values__[this.__index__++];return{done:u,value:l}}function JO(){return this}function QO(u){for(var l,d=this;d instanceof jf;){var m=_x(d);m.__index__=0,m.__values__=r,l?b.__wrapped__=m:l=m;var b=m;d=d.__wrapped__}return b.__wrapped__=u,l}function e3(){var u=this.__wrapped__;if(u instanceof Ze){var l=u;return this.__actions__.length&&(l=new Ze(this)),l=l.reverse(),l.__actions__.push({func:ac,args:[Av],thisArg:r}),new gn(l,this.__chain__)}return this.thru(Av)}function t3(){return D1(this.__wrapped__,this.__actions__)}var r3=Jf(function(u,l,d){pt.call(u,d)?++u[d]:wi(u,d,1)});function n3(u,l,d){var m=De(u)?Jy:WA;return d&&kr(u,l,d)&&(l=r),m(u,Ne(l,3))}function i3(u,l){var d=De(u)?Ji:b1;return d(u,Ne(l,3))}var o3=K1(mx),a3=K1(gx);function s3(u,l){return hr(sc(u,l),1)}function u3(u,l){return hr(sc(u,l),Ee)}function l3(u,l,d){return d=d===r?1:He(d),hr(sc(u,l),d)}function Tx(u,l){var d=De(u)?_n:ro;return d(u,Ne(l,3))}function Sx(u,l){var d=De(u)?RN:E1;return d(u,Ne(l,3))}var f3=Jf(function(u,l,d){pt.call(u,d)?u[d].push(l):wi(u,d,[l])});function c3(u,l,d,m){u=Gr(u)?u:rs(u),d=d&&!m?He(d):0;var b=u.length;return d<0&&(d=tr(b+d,0)),hc(u)?d<=b&&u.indexOf(l,d)>-1:!!b&&Va(u,l,d)>-1}var h3=je(function(u,l,d){var m=-1,b=typeof l=="function",C=Gr(u)?j(u.length):[];return ro(u,function(O){C[++m]=b?Zr(l,O,d):Iu(O,l,d)}),C}),d3=Jf(function(u,l,d){wi(u,d,l)});function sc(u,l){var d=De(u)?Nt:R1;return d(u,Ne(l,3))}function p3(u,l,d,m){return u==null?[]:(De(l)||(l=l==null?[]:[l]),d=m?r:d,De(d)||(d=d==null?[]:[d]),O1(u,l,d))}var v3=Jf(function(u,l,d){u[d?0:1].push(l)},function(){return[[],[]]});function _3(u,l,d){var m=De(u)?Xp:r1,b=arguments.length<3;return m(u,Ne(l,4),d,b,ro)}function m3(u,l,d){var m=De(u)?NN:r1,b=arguments.length<3;return m(u,Ne(l,4),d,b,E1)}function g3(u,l){var d=De(u)?Ji:b1;return d(u,fc(Ne(l,3)))}function y3(u){var l=De(u)?m1:cP;return l(u)}function x3(u,l,d){(d?kr(u,l,d):l===r)?l=1:l=He(l);var m=De(u)?$A:hP;return m(u,l)}function E3(u){var l=De(u)?XA:pP;return l(u)}function b3(u){if(u==null)return 0;if(Gr(u))return hc(u)?za(u):u.length;var l=Er(u);return l==ct||l==or?u.size:uv(u).length}function w3(u,l,d){var m=De(u)?Vp:vP;return d&&kr(u,l,d)&&(l=r),m(u,Ne(l,3))}var T3=je(function(u,l){if(u==null)return[];var d=l.length;return d>1&&kr(u,l[0],l[1])?l=[]:d>2&&kr(l[0],l[1],l[2])&&(l=[l[0]]),O1(u,hr(l,1),[])}),uc=iA||function(){return cr.Date.now()};function S3(u,l){if(typeof l!="function")throw new mn(a);return u=He(u),function(){if(--u<1)return l.apply(this,arguments)}}function Cx(u,l,d){return l=d?r:l,l=u&&l==null?u.length:l,Ti(u,M,r,r,r,r,l)}function Ix(u,l){var d;if(typeof l!="function")throw new mn(a);return u=He(u),function(){return--u>0&&(d=l.apply(this,arguments)),u<=1&&(l=r),d}}var Ov=je(function(u,l,d){var m=g;if(d.length){var b=eo(d,es(Ov));m|=N}return Ti(u,m,l,d,b)}),Rx=je(function(u,l,d){var m=g|x;if(d.length){var b=eo(d,es(Rx));m|=N}return Ti(l,m,u,d,b)});function Nx(u,l,d){l=d?r:l;var m=Ti(u,I,r,r,r,r,r,l);return m.placeholder=Nx.placeholder,m}function Ax(u,l,d){l=d?r:l;var m=Ti(u,P,r,r,r,r,r,l);return m.placeholder=Ax.placeholder,m}function Px(u,l,d){var m,b,C,O,k,H,q=0,K=!1,J=!1,he=!0;if(typeof u!="function")throw new mn(a);l=bn(l)||0,kt(d)&&(K=!!d.leading,J="maxWait"in d,C=J?tr(bn(d.maxWait)||0,l):C,he="trailing"in d?!!d.trailing:he);function ye(Yt){var Mn=m,Ni=b;return m=b=r,q=Yt,O=u.apply(Ni,Mn),O}function Pe(Yt){return q=Yt,k=Ou(qe,l),K?ye(Yt):O}function Xe(Yt){var Mn=Yt-H,Ni=Yt-q,Kx=l-Mn;return J?xr(Kx,C-Ni):Kx}function Oe(Yt){var Mn=Yt-H,Ni=Yt-q;return H===r||Mn>=l||Mn<0||J&&Ni>=C}function qe(){var Yt=uc();if(Oe(Yt))return Qe(Yt);k=Ou(qe,Xe(Yt))}function Qe(Yt){return k=r,he&&m?ye(Yt):(m=b=r,O)}function tn(){k!==r&&H1(k),q=0,m=H=b=k=r}function Fr(){return k===r?O:Qe(uc())}function rn(){var Yt=uc(),Mn=Oe(Yt);if(m=arguments,b=this,H=Yt,Mn){if(k===r)return Pe(H);if(J)return H1(k),k=Ou(qe,l),ye(H)}return k===r&&(k=Ou(qe,l)),O}return rn.cancel=tn,rn.flush=Fr,rn}var C3=je(function(u,l){return x1(u,1,l)}),I3=je(function(u,l,d){return x1(u,bn(l)||0,d)});function R3(u){return Ti(u,D)}function lc(u,l){if(typeof u!="function"||l!=null&&typeof l!="function")throw new mn(a);var d=function(){var m=arguments,b=l?l.apply(this,m):m[0],C=d.cache;if(C.has(b))return C.get(b);var O=u.apply(this,m);return d.cache=C.set(b,O)||C,O};return d.cache=new(lc.Cache||bi),d}lc.Cache=bi;function fc(u){if(typeof u!="function")throw new mn(a);return function(){var l=arguments;switch(l.length){case 0:return!u.call(this);case 1:return!u.call(this,l[0]);case 2:return!u.call(this,l[0],l[1]);case 3:return!u.call(this,l[0],l[1],l[2])}return!u.apply(this,l)}}function N3(u){return Ix(2,u)}var A3=_P(function(u,l){l=l.length==1&&De(l[0])?Nt(l[0],Jr(Ne())):Nt(hr(l,1),Jr(Ne()));var d=l.length;return je(function(m){for(var b=-1,C=xr(m.length,d);++b<C;)m[b]=l[b].call(this,m[b]);return Zr(u,this,m)})}),Lv=je(function(u,l){var d=eo(l,es(Lv));return Ti(u,N,r,l,d)}),Ox=je(function(u,l){var d=eo(l,es(Ox));return Ti(u,R,r,l,d)}),P3=Si(function(u,l){return Ti(u,X,r,r,r,l)});function O3(u,l){if(typeof u!="function")throw new mn(a);return l=l===r?l:He(l),je(u,l)}function L3(u,l){if(typeof u!="function")throw new mn(a);return l=l==null?0:tr(He(l),0),je(function(d){var m=d[l],b=oo(d,0,l);return m&&Qi(b,m),Zr(u,this,b)})}function k3(u,l,d){var m=!0,b=!0;if(typeof u!="function")throw new mn(a);return kt(d)&&(m="leading"in d?!!d.leading:m,b="trailing"in d?!!d.trailing:b),Px(u,l,{leading:m,maxWait:l,trailing:b})}function F3(u){return Cx(u,1)}function U3(u,l){return Lv(mv(l),u)}function B3(){if(!arguments.length)return[];var u=arguments[0];return De(u)?u:[u]}function M3(u){return yn(u,_)}function D3(u,l){return l=typeof l=="function"?l:r,yn(u,_,l)}function G3(u){return yn(u,p|_)}function H3(u,l){return l=typeof l=="function"?l:r,yn(u,p|_,l)}function $3(u,l){return l==null||y1(u,l,ar(l))}function Bn(u,l){return u===l||u!==u&&l!==l}var X3=rc(ov),V3=rc(function(u,l){return u>=l}),ea=S1(function(){return arguments}())?S1:function(u){return Gt(u)&&pt.call(u,"callee")&&!c1.call(u,"callee")},De=j.isArray,j3=zy?Jr(zy):QA;function Gr(u){return u!=null&&cc(u.length)&&!Ii(u)}function Wt(u){return Gt(u)&&Gr(u)}function z3(u){return u===!0||u===!1||Gt(u)&&Lr(u)==ut}var ao=aA||Vv,W3=Wy?Jr(Wy):eP;function Y3(u){return Gt(u)&&u.nodeType===1&&!Lu(u)}function q3(u){if(u==null)return!0;if(Gr(u)&&(De(u)||typeof u=="string"||typeof u.splice=="function"||ao(u)||ts(u)||ea(u)))return!u.length;var l=Er(u);if(l==ct||l==or)return!u.size;if(Pu(u))return!uv(u).length;for(var d in u)if(pt.call(u,d))return!1;return!0}function K3(u,l){return Ru(u,l)}function Z3(u,l,d){d=typeof d=="function"?d:r;var m=d?d(u,l):r;return m===r?Ru(u,l,r,d):!!m}function kv(u){if(!Gt(u))return!1;var l=Lr(u);return l==Ke||l==wt||typeof u.message=="string"&&typeof u.name=="string"&&!Lu(u)}function J3(u){return typeof u=="number"&&d1(u)}function Ii(u){if(!kt(u))return!1;var l=Lr(u);return l==lt||l==Ge||l==st||l==qn}function Lx(u){return typeof u=="number"&&u==He(u)}function cc(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Fe}function kt(u){var l=typeof u;return u!=null&&(l=="object"||l=="function")}function Gt(u){return u!=null&&typeof u=="object"}var kx=Yy?Jr(Yy):rP;function Q3(u,l){return u===l||sv(u,l,Tv(l))}function eL(u,l,d){return d=typeof d=="function"?d:r,sv(u,l,Tv(l),d)}function tL(u){return Fx(u)&&u!=+u}function rL(u){if(DP(u))throw new Be(o);return C1(u)}function nL(u){return u===null}function iL(u){return u==null}function Fx(u){return typeof u=="number"||Gt(u)&&Lr(u)==rt}function Lu(u){if(!Gt(u)||Lr(u)!=Lt)return!1;var l=Mf(u);if(l===null)return!0;var d=pt.call(l,"constructor")&&l.constructor;return typeof d=="function"&&d instanceof d&&kf.call(d)==eA}var Fv=qy?Jr(qy):nP;function oL(u){return Lx(u)&&u>=-Fe&&u<=Fe}var Ux=Ky?Jr(Ky):iP;function hc(u){return typeof u=="string"||!De(u)&&Gt(u)&&Lr(u)==kn}function en(u){return typeof u=="symbol"||Gt(u)&&Lr(u)==Kn}var ts=Zy?Jr(Zy):oP;function aL(u){return u===r}function sL(u){return Gt(u)&&Er(u)==Yi}function uL(u){return Gt(u)&&Lr(u)==vf}var lL=rc(lv),fL=rc(function(u,l){return u<=l});function Bx(u){if(!u)return[];if(Gr(u))return hc(u)?Fn(u):Dr(u);if(xu&&u[xu])return $N(u[xu]());var l=Er(u),d=l==ct?Kp:l==or?Pf:rs;return d(u)}function Ri(u){if(!u)return u===0?u:0;if(u=bn(u),u===Ee||u===-Ee){var l=u<0?-1:1;return l*dt}return u===u?u:0}function He(u){var l=Ri(u),d=l%1;return l===l?d?l-d:l:0}function Mx(u){return u?Ko(He(u),0,V):0}function bn(u){if(typeof u=="number")return u;if(en(u))return Z;if(kt(u)){var l=typeof u.valueOf=="function"?u.valueOf():u;u=kt(l)?l+"":l}if(typeof u!="string")return u===0?u:+u;u=n1(u);var d=Rp.test(u);return d||Ap.test(u)?SN(u.slice(2),d?2:8):Ip.test(u)?Z:+u}function Dx(u){return ei(u,Hr(u))}function cL(u){return u?Ko(He(u),-Fe,Fe):u===0?u:0}function ht(u){return u==null?"":Qr(u)}var hL=Ja(function(u,l){if(Pu(l)||Gr(l)){ei(l,ar(l),u);return}for(var d in l)pt.call(l,d)&&Su(u,d,l[d])}),Gx=Ja(function(u,l){ei(l,Hr(l),u)}),dc=Ja(function(u,l,d,m){ei(l,Hr(l),u,m)}),dL=Ja(function(u,l,d,m){ei(l,ar(l),u,m)}),pL=Si(rv);function vL(u,l){var d=Za(u);return l==null?d:g1(d,l)}var _L=je(function(u,l){u=yt(u);var d=-1,m=l.length,b=m>2?l[2]:r;for(b&&kr(l[0],l[1],b)&&(m=1);++d<m;)for(var C=l[d],O=Hr(C),k=-1,H=O.length;++k<H;){var q=O[k],K=u[q];(K===r||Bn(K,Ya[q])&&!pt.call(u,q))&&(u[q]=C[q])}return u}),mL=je(function(u){return u.push(r,nx),Zr(Hx,r,u)});function gL(u,l){return Qy(u,Ne(l,3),Qn)}function yL(u,l){return Qy(u,Ne(l,3),iv)}function xL(u,l){return u==null?u:nv(u,Ne(l,3),Hr)}function EL(u,l){return u==null?u:w1(u,Ne(l,3),Hr)}function bL(u,l){return u&&Qn(u,Ne(l,3))}function wL(u,l){return u&&iv(u,Ne(l,3))}function TL(u){return u==null?[]:Yf(u,ar(u))}function SL(u){return u==null?[]:Yf(u,Hr(u))}function Uv(u,l,d){var m=u==null?r:Zo(u,l);return m===r?d:m}function CL(u,l){return u!=null&&ax(u,l,qA)}function Bv(u,l){return u!=null&&ax(u,l,KA)}var IL=J1(function(u,l,d){l!=null&&typeof l.toString!="function"&&(l=Ff.call(l)),u[l]=d},Dv($r)),RL=J1(function(u,l,d){l!=null&&typeof l.toString!="function"&&(l=Ff.call(l)),pt.call(u,l)?u[l].push(d):u[l]=[d]},Ne),NL=je(Iu);function ar(u){return Gr(u)?_1(u):uv(u)}function Hr(u){return Gr(u)?_1(u,!0):aP(u)}function AL(u,l){var d={};return l=Ne(l,3),Qn(u,function(m,b,C){wi(d,l(m,b,C),m)}),d}function PL(u,l){var d={};return l=Ne(l,3),Qn(u,function(m,b,C){wi(d,b,l(m,b,C))}),d}var OL=Ja(function(u,l,d){qf(u,l,d)}),Hx=Ja(function(u,l,d,m){qf(u,l,d,m)}),LL=Si(function(u,l){var d={};if(u==null)return d;var m=!1;l=Nt(l,function(C){return C=io(C,u),m||(m=C.length>1),C}),ei(u,bv(u),d),m&&(d=yn(d,p|v|_,IP));for(var b=l.length;b--;)pv(d,l[b]);return d});function kL(u,l){return $x(u,fc(Ne(l)))}var FL=Si(function(u,l){return u==null?{}:uP(u,l)});function $x(u,l){if(u==null)return{};var d=Nt(bv(u),function(m){return[m]});return l=Ne(l),L1(u,d,function(m,b){return l(m,b[0])})}function UL(u,l,d){l=io(l,u);var m=-1,b=l.length;for(b||(b=1,u=r);++m<b;){var C=u==null?r:u[ti(l[m])];C===r&&(m=b,C=d),u=Ii(C)?C.call(u):C}return u}function BL(u,l,d){return u==null?u:Nu(u,l,d)}function ML(u,l,d,m){return m=typeof m=="function"?m:r,u==null?u:Nu(u,l,d,m)}var Xx=tx(ar),Vx=tx(Hr);function DL(u,l,d){var m=De(u),b=m||ao(u)||ts(u);if(l=Ne(l,4),d==null){var C=u&&u.constructor;b?d=m?new C:[]:kt(u)?d=Ii(C)?Za(Mf(u)):{}:d={}}return(b?_n:Qn)(u,function(O,k,H){return l(d,O,k,H)}),d}function GL(u,l){return u==null?!0:pv(u,l)}function HL(u,l,d){return u==null?u:M1(u,l,mv(d))}function $L(u,l,d,m){return m=typeof m=="function"?m:r,u==null?u:M1(u,l,mv(d),m)}function rs(u){return u==null?[]:qp(u,ar(u))}function XL(u){return u==null?[]:qp(u,Hr(u))}function VL(u,l,d){return d===r&&(d=l,l=r),d!==r&&(d=bn(d),d=d===d?d:0),l!==r&&(l=bn(l),l=l===l?l:0),Ko(bn(u),l,d)}function jL(u,l,d){return l=Ri(l),d===r?(d=l,l=0):d=Ri(d),u=bn(u),ZA(u,l,d)}function zL(u,l,d){if(d&&typeof d!="boolean"&&kr(u,l,d)&&(l=d=r),d===r&&(typeof l=="boolean"?(d=l,l=r):typeof u=="boolean"&&(d=u,u=r)),u===r&&l===r?(u=0,l=1):(u=Ri(u),l===r?(l=u,u=0):l=Ri(l)),u>l){var m=u;u=l,l=m}if(d||u%1||l%1){var b=p1();return xr(u+b*(l-u+TN("1e-"+((b+"").length-1))),l)}return cv(u,l)}var WL=Qa(function(u,l,d){return l=l.toLowerCase(),u+(d?jx(l):l)});function jx(u){return Mv(ht(u).toLowerCase())}function zx(u){return u=ht(u),u&&u.replace(Op,BN).replace(pN,"")}function YL(u,l,d){u=ht(u),l=Qr(l);var m=u.length;d=d===r?m:Ko(He(d),0,m);var b=d;return d-=l.length,d>=0&&u.slice(d,b)==l}function qL(u){return u=ht(u),u&&dp.test(u)?u.replace(gf,MN):u}function KL(u){return u=ht(u),u&&yp.test(u)?u.replace(vu,"\\$&"):u}var ZL=Qa(function(u,l,d){return u+(d?"-":"")+l.toLowerCase()}),JL=Qa(function(u,l,d){return u+(d?" ":"")+l.toLowerCase()}),QL=q1("toLowerCase");function ek(u,l,d){u=ht(u),l=He(l);var m=l?za(u):0;if(!l||m>=l)return u;var b=(l-m)/2;return tc($f(b),d)+u+tc(Hf(b),d)}function tk(u,l,d){u=ht(u),l=He(l);var m=l?za(u):0;return l&&m<l?u+tc(l-m,d):u}function rk(u,l,d){u=ht(u),l=He(l);var m=l?za(u):0;return l&&m<l?tc(l-m,d)+u:u}function nk(u,l,d){return d||l==null?l=0:l&&(l=+l),fA(ht(u).replace(_u,""),l||0)}function ik(u,l,d){return(d?kr(u,l,d):l===r)?l=1:l=He(l),hv(ht(u),l)}function ok(){var u=arguments,l=ht(u[0]);return u.length<3?l:l.replace(u[1],u[2])}var ak=Qa(function(u,l,d){return u+(d?"_":"")+l.toLowerCase()});function sk(u,l,d){return d&&typeof d!="number"&&kr(u,l,d)&&(l=d=r),d=d===r?V:d>>>0,d?(u=ht(u),u&&(typeof l=="string"||l!=null&&!Fv(l))&&(l=Qr(l),!l&&ja(u))?oo(Fn(u),0,d):u.split(l,d)):[]}var uk=Qa(function(u,l,d){return u+(d?" ":"")+Mv(l)});function lk(u,l,d){return u=ht(u),d=d==null?0:Ko(He(d),0,u.length),l=Qr(l),u.slice(d,d+l.length)==l}function fk(u,l,d){var m=T.templateSettings;d&&kr(u,l,d)&&(l=r),u=ht(u),l=dc({},l,m,rx);var b=dc({},l.imports,m.imports,rx),C=ar(b),O=qp(b,C),k,H,q=0,K=l.interpolate||Ha,J="__p += '",he=Zp((l.escape||Ha).source+"|"+K.source+"|"+(K===xf?Cp:Ha).source+"|"+(l.evaluate||Ha).source+"|$","g"),ye="//# sourceURL="+(pt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++yN+"]")+`
`;u.replace(he,function(Oe,qe,Qe,tn,Fr,rn){return Qe||(Qe=tn),J+=u.slice(q,rn).replace(wf,DN),qe&&(k=!0,J+=`' +
__e(`+qe+`) +
'`),Fr&&(H=!0,J+=`';
`+Fr+`;
__p += '`),Qe&&(J+=`' +
((__t = (`+Qe+`)) == null ? '' : __t) +
'`),q=rn+Oe.length,Oe}),J+=`';
`;var Pe=pt.call(l,"variable")&&l.variable;if(!Pe)J=`with (obj) {
`+J+`
}
`;else if(Tp.test(Pe))throw new Be(s);J=(H?J.replace(_f,""):J).replace(hp,"$1").replace(Zn,"$1;"),J="function("+(Pe||"obj")+`) {
`+(Pe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(k?", __e = _.escape":"")+(H?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+J+`return __p
}`;var Xe=Yx(function(){return ft(C,ye+"return "+J).apply(r,O)});if(Xe.source=J,kv(Xe))throw Xe;return Xe}function ck(u){return ht(u).toLowerCase()}function hk(u){return ht(u).toUpperCase()}function dk(u,l,d){if(u=ht(u),u&&(d||l===r))return n1(u);if(!u||!(l=Qr(l)))return u;var m=Fn(u),b=Fn(l),C=i1(m,b),O=o1(m,b)+1;return oo(m,C,O).join("")}function pk(u,l,d){if(u=ht(u),u&&(d||l===r))return u.slice(0,s1(u)+1);if(!u||!(l=Qr(l)))return u;var m=Fn(u),b=o1(m,Fn(l))+1;return oo(m,0,b).join("")}function vk(u,l,d){if(u=ht(u),u&&(d||l===r))return u.replace(_u,"");if(!u||!(l=Qr(l)))return u;var m=Fn(u),b=i1(m,Fn(l));return oo(m,b).join("")}function _k(u,l){var d=W,m=de;if(kt(l)){var b="separator"in l?l.separator:b;d="length"in l?He(l.length):d,m="omission"in l?Qr(l.omission):m}u=ht(u);var C=u.length;if(ja(u)){var O=Fn(u);C=O.length}if(d>=C)return u;var k=d-za(m);if(k<1)return m;var H=O?oo(O,0,k).join(""):u.slice(0,k);if(b===r)return H+m;if(O&&(k+=H.length-k),Fv(b)){if(u.slice(k).search(b)){var q,K=H;for(b.global||(b=Zp(b.source,ht(bf.exec(b))+"g")),b.lastIndex=0;q=b.exec(K);)var J=q.index;H=H.slice(0,J===r?k:J)}}else if(u.indexOf(Qr(b),k)!=k){var he=H.lastIndexOf(b);he>-1&&(H=H.slice(0,he))}return H+m}function mk(u){return u=ht(u),u&&yf.test(u)?u.replace(mf,zN):u}var gk=Qa(function(u,l,d){return u+(d?" ":"")+l.toUpperCase()}),Mv=q1("toUpperCase");function Wx(u,l,d){return u=ht(u),l=d?r:l,l===r?HN(u)?qN(u):ON(u):u.match(l)||[]}var Yx=je(function(u,l){try{return Zr(u,r,l)}catch(d){return kv(d)?d:new Be(d)}}),yk=Si(function(u,l){return _n(l,function(d){d=ti(d),wi(u,d,Ov(u[d],u))}),u});function xk(u){var l=u==null?0:u.length,d=Ne();return u=l?Nt(u,function(m){if(typeof m[1]!="function")throw new mn(a);return[d(m[0]),m[1]]}):[],je(function(m){for(var b=-1;++b<l;){var C=u[b];if(Zr(C[0],this,m))return Zr(C[1],this,m)}})}function Ek(u){return zA(yn(u,p))}function Dv(u){return function(){return u}}function bk(u,l){return u==null||u!==u?l:u}var wk=Z1(),Tk=Z1(!0);function $r(u){return u}function Gv(u){return I1(typeof u=="function"?u:yn(u,p))}function Sk(u){return N1(yn(u,p))}function Ck(u,l){return A1(u,yn(l,p))}var Ik=je(function(u,l){return function(d){return Iu(d,u,l)}}),Rk=je(function(u,l){return function(d){return Iu(u,d,l)}});function Hv(u,l,d){var m=ar(l),b=Yf(l,m);d==null&&!(kt(l)&&(b.length||!m.length))&&(d=l,l=u,u=this,b=Yf(l,ar(l)));var C=!(kt(d)&&"chain"in d)||!!d.chain,O=Ii(u);return _n(b,function(k){var H=l[k];u[k]=H,O&&(u.prototype[k]=function(){var q=this.__chain__;if(C||q){var K=u(this.__wrapped__),J=K.__actions__=Dr(this.__actions__);return J.push({func:H,args:arguments,thisArg:u}),K.__chain__=q,K}return H.apply(u,Qi([this.value()],arguments))})}),u}function Nk(){return cr._===this&&(cr._=tA),this}function $v(){}function Ak(u){return u=He(u),je(function(l){return P1(l,u)})}var Pk=yv(Nt),Ok=yv(Jy),Lk=yv(Vp);function qx(u){return Cv(u)?jp(ti(u)):lP(u)}function kk(u){return function(l){return u==null?r:Zo(u,l)}}var Fk=Q1(),Uk=Q1(!0);function Xv(){return[]}function Vv(){return!1}function Bk(){return{}}function Mk(){return""}function Dk(){return!0}function Gk(u,l){if(u=He(u),u<1||u>Fe)return[];var d=V,m=xr(u,V);l=Ne(l),u-=V;for(var b=Yp(m,l);++d<u;)l(d);return b}function Hk(u){return De(u)?Nt(u,ti):en(u)?[u]:Dr(vx(ht(u)))}function $k(u){var l=++QN;return ht(u)+l}var Xk=ec(function(u,l){return u+l},0),Vk=xv("ceil"),jk=ec(function(u,l){return u/l},1),zk=xv("floor");function Wk(u){return u&&u.length?Wf(u,$r,ov):r}function Yk(u,l){return u&&u.length?Wf(u,Ne(l,2),ov):r}function qk(u){return t1(u,$r)}function Kk(u,l){return t1(u,Ne(l,2))}function Zk(u){return u&&u.length?Wf(u,$r,lv):r}function Jk(u,l){return u&&u.length?Wf(u,Ne(l,2),lv):r}var Qk=ec(function(u,l){return u*l},1),eF=xv("round"),tF=ec(function(u,l){return u-l},0);function rF(u){return u&&u.length?Wp(u,$r):0}function nF(u,l){return u&&u.length?Wp(u,Ne(l,2)):0}return T.after=S3,T.ary=Cx,T.assign=hL,T.assignIn=Gx,T.assignInWith=dc,T.assignWith=dL,T.at=pL,T.before=Ix,T.bind=Ov,T.bindAll=yk,T.bindKey=Rx,T.castArray=B3,T.chain=wx,T.chunk=zP,T.compact=WP,T.concat=YP,T.cond=xk,T.conforms=Ek,T.constant=Dv,T.countBy=r3,T.create=vL,T.curry=Nx,T.curryRight=Ax,T.debounce=Px,T.defaults=_L,T.defaultsDeep=mL,T.defer=C3,T.delay=I3,T.difference=qP,T.differenceBy=KP,T.differenceWith=ZP,T.drop=JP,T.dropRight=QP,T.dropRightWhile=eO,T.dropWhile=tO,T.fill=rO,T.filter=i3,T.flatMap=s3,T.flatMapDeep=u3,T.flatMapDepth=l3,T.flatten=yx,T.flattenDeep=nO,T.flattenDepth=iO,T.flip=R3,T.flow=wk,T.flowRight=Tk,T.fromPairs=oO,T.functions=TL,T.functionsIn=SL,T.groupBy=f3,T.initial=sO,T.intersection=uO,T.intersectionBy=lO,T.intersectionWith=fO,T.invert=IL,T.invertBy=RL,T.invokeMap=h3,T.iteratee=Gv,T.keyBy=d3,T.keys=ar,T.keysIn=Hr,T.map=sc,T.mapKeys=AL,T.mapValues=PL,T.matches=Sk,T.matchesProperty=Ck,T.memoize=lc,T.merge=OL,T.mergeWith=Hx,T.method=Ik,T.methodOf=Rk,T.mixin=Hv,T.negate=fc,T.nthArg=Ak,T.omit=LL,T.omitBy=kL,T.once=N3,T.orderBy=p3,T.over=Pk,T.overArgs=A3,T.overEvery=Ok,T.overSome=Lk,T.partial=Lv,T.partialRight=Ox,T.partition=v3,T.pick=FL,T.pickBy=$x,T.property=qx,T.propertyOf=kk,T.pull=pO,T.pullAll=Ex,T.pullAllBy=vO,T.pullAllWith=_O,T.pullAt=mO,T.range=Fk,T.rangeRight=Uk,T.rearg=P3,T.reject=g3,T.remove=gO,T.rest=O3,T.reverse=Av,T.sampleSize=x3,T.set=BL,T.setWith=ML,T.shuffle=E3,T.slice=yO,T.sortBy=T3,T.sortedUniq=CO,T.sortedUniqBy=IO,T.split=sk,T.spread=L3,T.tail=RO,T.take=NO,T.takeRight=AO,T.takeRightWhile=PO,T.takeWhile=OO,T.tap=WO,T.throttle=k3,T.thru=ac,T.toArray=Bx,T.toPairs=Xx,T.toPairsIn=Vx,T.toPath=Hk,T.toPlainObject=Dx,T.transform=DL,T.unary=F3,T.union=LO,T.unionBy=kO,T.unionWith=FO,T.uniq=UO,T.uniqBy=BO,T.uniqWith=MO,T.unset=GL,T.unzip=Pv,T.unzipWith=bx,T.update=HL,T.updateWith=$L,T.values=rs,T.valuesIn=XL,T.without=DO,T.words=Wx,T.wrap=U3,T.xor=GO,T.xorBy=HO,T.xorWith=$O,T.zip=XO,T.zipObject=VO,T.zipObjectDeep=jO,T.zipWith=zO,T.entries=Xx,T.entriesIn=Vx,T.extend=Gx,T.extendWith=dc,Hv(T,T),T.add=Xk,T.attempt=Yx,T.camelCase=WL,T.capitalize=jx,T.ceil=Vk,T.clamp=VL,T.clone=M3,T.cloneDeep=G3,T.cloneDeepWith=H3,T.cloneWith=D3,T.conformsTo=$3,T.deburr=zx,T.defaultTo=bk,T.divide=jk,T.endsWith=YL,T.eq=Bn,T.escape=qL,T.escapeRegExp=KL,T.every=n3,T.find=o3,T.findIndex=mx,T.findKey=gL,T.findLast=a3,T.findLastIndex=gx,T.findLastKey=yL,T.floor=zk,T.forEach=Tx,T.forEachRight=Sx,T.forIn=xL,T.forInRight=EL,T.forOwn=bL,T.forOwnRight=wL,T.get=Uv,T.gt=X3,T.gte=V3,T.has=CL,T.hasIn=Bv,T.head=xx,T.identity=$r,T.includes=c3,T.indexOf=aO,T.inRange=jL,T.invoke=NL,T.isArguments=ea,T.isArray=De,T.isArrayBuffer=j3,T.isArrayLike=Gr,T.isArrayLikeObject=Wt,T.isBoolean=z3,T.isBuffer=ao,T.isDate=W3,T.isElement=Y3,T.isEmpty=q3,T.isEqual=K3,T.isEqualWith=Z3,T.isError=kv,T.isFinite=J3,T.isFunction=Ii,T.isInteger=Lx,T.isLength=cc,T.isMap=kx,T.isMatch=Q3,T.isMatchWith=eL,T.isNaN=tL,T.isNative=rL,T.isNil=iL,T.isNull=nL,T.isNumber=Fx,T.isObject=kt,T.isObjectLike=Gt,T.isPlainObject=Lu,T.isRegExp=Fv,T.isSafeInteger=oL,T.isSet=Ux,T.isString=hc,T.isSymbol=en,T.isTypedArray=ts,T.isUndefined=aL,T.isWeakMap=sL,T.isWeakSet=uL,T.join=cO,T.kebabCase=ZL,T.last=En,T.lastIndexOf=hO,T.lowerCase=JL,T.lowerFirst=QL,T.lt=lL,T.lte=fL,T.max=Wk,T.maxBy=Yk,T.mean=qk,T.meanBy=Kk,T.min=Zk,T.minBy=Jk,T.stubArray=Xv,T.stubFalse=Vv,T.stubObject=Bk,T.stubString=Mk,T.stubTrue=Dk,T.multiply=Qk,T.nth=dO,T.noConflict=Nk,T.noop=$v,T.now=uc,T.pad=ek,T.padEnd=tk,T.padStart=rk,T.parseInt=nk,T.random=zL,T.reduce=_3,T.reduceRight=m3,T.repeat=ik,T.replace=ok,T.result=UL,T.round=eF,T.runInContext=G,T.sample=y3,T.size=b3,T.snakeCase=ak,T.some=w3,T.sortedIndex=xO,T.sortedIndexBy=EO,T.sortedIndexOf=bO,T.sortedLastIndex=wO,T.sortedLastIndexBy=TO,T.sortedLastIndexOf=SO,T.startCase=uk,T.startsWith=lk,T.subtract=tF,T.sum=rF,T.sumBy=nF,T.template=fk,T.times=Gk,T.toFinite=Ri,T.toInteger=He,T.toLength=Mx,T.toLower=ck,T.toNumber=bn,T.toSafeInteger=cL,T.toString=ht,T.toUpper=hk,T.trim=dk,T.trimEnd=pk,T.trimStart=vk,T.truncate=_k,T.unescape=mk,T.uniqueId=$k,T.upperCase=gk,T.upperFirst=Mv,T.each=Tx,T.eachRight=Sx,T.first=xx,Hv(T,function(){var u={};return Qn(T,function(l,d){pt.call(T.prototype,d)||(u[d]=l)}),u}(),{chain:!1}),T.VERSION=n,_n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){T[u].placeholder=T}),_n(["drop","take"],function(u,l){Ze.prototype[u]=function(d){d=d===r?1:tr(He(d),0);var m=this.__filtered__&&!l?new Ze(this):this.clone();return m.__filtered__?m.__takeCount__=xr(d,m.__takeCount__):m.__views__.push({size:xr(d,V),type:u+(m.__dir__<0?"Right":"")}),m},Ze.prototype[u+"Right"]=function(d){return this.reverse()[u](d).reverse()}}),_n(["filter","map","takeWhile"],function(u,l){var d=l+1,m=d==We||d==fe;Ze.prototype[u]=function(b){var C=this.clone();return C.__iteratees__.push({iteratee:Ne(b,3),type:d}),C.__filtered__=C.__filtered__||m,C}}),_n(["head","last"],function(u,l){var d="take"+(l?"Right":"");Ze.prototype[u]=function(){return this[d](1).value()[0]}}),_n(["initial","tail"],function(u,l){var d="drop"+(l?"":"Right");Ze.prototype[u]=function(){return this.__filtered__?new Ze(this):this[d](1)}}),Ze.prototype.compact=function(){return this.filter($r)},Ze.prototype.find=function(u){return this.filter(u).head()},Ze.prototype.findLast=function(u){return this.reverse().find(u)},Ze.prototype.invokeMap=je(function(u,l){return typeof u=="function"?new Ze(this):this.map(function(d){return Iu(d,u,l)})}),Ze.prototype.reject=function(u){return this.filter(fc(Ne(u)))},Ze.prototype.slice=function(u,l){u=He(u);var d=this;return d.__filtered__&&(u>0||l<0)?new Ze(d):(u<0?d=d.takeRight(-u):u&&(d=d.drop(u)),l!==r&&(l=He(l),d=l<0?d.dropRight(-l):d.take(l-u)),d)},Ze.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ze.prototype.toArray=function(){return this.take(V)},Qn(Ze.prototype,function(u,l){var d=/^(?:filter|find|map|reject)|While$/.test(l),m=/^(?:head|last)$/.test(l),b=T[m?"take"+(l=="last"?"Right":""):l],C=m||/^find/.test(l);!b||(T.prototype[l]=function(){var O=this.__wrapped__,k=m?[1]:arguments,H=O instanceof Ze,q=k[0],K=H||De(O),J=function(qe){var Qe=b.apply(T,Qi([qe],k));return m&&he?Qe[0]:Qe};K&&d&&typeof q=="function"&&q.length!=1&&(H=K=!1);var he=this.__chain__,ye=!!this.__actions__.length,Pe=C&&!he,Xe=H&&!ye;if(!C&&K){O=Xe?O:new Ze(this);var Oe=u.apply(O,k);return Oe.__actions__.push({func:ac,args:[J],thisArg:r}),new gn(Oe,he)}return Pe&&Xe?u.apply(this,k):(Oe=this.thru(J),Pe?m?Oe.value()[0]:Oe.value():Oe)})}),_n(["pop","push","shift","sort","splice","unshift"],function(u){var l=Of[u],d=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",m=/^(?:pop|shift)$/.test(u);T.prototype[u]=function(){var b=arguments;if(m&&!this.__chain__){var C=this.value();return l.apply(De(C)?C:[],b)}return this[d](function(O){return l.apply(De(O)?O:[],b)})}}),Qn(Ze.prototype,function(u,l){var d=T[l];if(d){var m=d.name+"";pt.call(Ka,m)||(Ka[m]=[]),Ka[m].push({name:l,func:d})}}),Ka[Qf(r,x).name]=[{name:"wrapper",func:r}],Ze.prototype.clone=mA,Ze.prototype.reverse=gA,Ze.prototype.value=yA,T.prototype.at=YO,T.prototype.chain=qO,T.prototype.commit=KO,T.prototype.next=ZO,T.prototype.plant=QO,T.prototype.reverse=e3,T.prototype.toJSON=T.prototype.valueOf=T.prototype.value=t3,T.prototype.first=T.prototype.head,xu&&(T.prototype[xu]=JO),T},Wa=KN();zo?((zo.exports=Wa)._=Wa,Gp._=Wa):cr._=Wa}).call(Tn)})(jr,jr.exports);var Sa=jr.exports;const gi=(e,t,r)=>{const i=e.split(`
`).filter(c=>c.trim()!=="");let o=[],a=[];const s=i.map(c=>{const h=FD(c);return o=[...o,...h.sentenceAssets],a=[...a,...h.subScene],h});o=Sa.uniqWith(o),UD(o),I2.push(r),a=Sa.uniqWith(a),BD(a);const f={sceneName:t,sceneUrl:r,sentenceList:s,assetsList:o,subSceneList:a};return et.info(`\u89E3\u6790\u573A\u666F\uFF1A${t}\uFF0C\u6570\u636E\u4E3A\uFF1A`,f),f},ln=[],me={performList:[],timeoutList:[],isAuto:!1,isFast:!1,autoInterval:null,fastInterval:null,autoTimeout:null,currentPixi:null},gy=e=>{e&&ln.splice(0,ln.length),Le.currentSentenceId=0,Le.sceneStack=[],Le.currentScene=z2.currentScene;for(const o of me.performList)o.stopFunction();me.performList=[];for(const o of me.timeoutList)clearTimeout(o);me.timeoutList=[],me.isAuto=!1,me.isFast=!1;const t=me.autoInterval;t!==null&&clearInterval(t),me.autoInterval=null;const r=me.fastInterval;r!==null&&clearInterval(r),me.fastInterval=null;const n=me.autoTimeout;n!==null&&clearInterval(n),me.autoTimeout=null;const i=jr.exports.cloneDeep(T2);xe.dispatch(fu(i))},MD="_TextBox_EventHandler_1295f_2",DD="_TextBox_main_1295f_10",GD="_showSoftly_1295f_1",HD="_TextBox_textElement_1295f_37",$D="_TextBox_textElement_start_1295f_42",XD="_TextDelayShow_1295f_1",VD="_TextBox_textElement_Settled_1295f_47",jD="_TextBox_showName_1295f_51",zD="_miniAvatarContainer_1295f_67",WD="_miniAvatarImg_1295f_75";var sn={TextBox_EventHandler:MD,TextBox_main:DD,showSoftly:GD,TextBox_textElement:HD,TextBox_textElement_start:$D,TextDelayShow:XD,TextBox_textElement_Settled:VD,TextBox_showName:jD,miniAvatarContainer:zD,miniAvatarImg:WD};const kd=()=>Math.random().toString().substring(0,10),Fd=e=>{for(let t=0;t<me.performList.length;t++){const r=me.performList[t];!r.isHoldOn&&r.performName===e&&(r.stopFunction(),clearTimeout(r.stopTimeout),me.performList.splice(t,1),t--)}},YD=e=>{et.debug("\u5355\u6B21\u64AD\u653E\u8BED\u97F3");const t=kd();let r="";for(const i of e.args)i.key==="vocal"&&(r=i.value.toString());let n=document.getElementById("currentVocal");n!==null&&(n.currentTime=0,n.pause()),xe.dispatch(Ar({key:"vocal",value:r})),setTimeout(()=>{let i=document.getElementById("currentVocal");if(i!==null){i.currentTime=0;const o={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!0,stopFunction:()=>{i.oncanplay=()=>{},i.pause()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};me.performList.push(o),i.oncanplay=()=>{i.play()},i.onended=()=>{for(const a of me.performList)a.performName===t&&(a.isOver=!0,a.stopFunction(),Fd(a.performName))}}},1)},Jb=e=>{const t=xe.getState().stage,r=xe.getState().userData,n=xe.dispatch;n(Ar({key:"showText",value:e.content})),n(Ar({key:"vocal",value:""}));let i=t.showName;for(const f of e.args)f.key==="speaker"&&(i=f.value),f.key==="clear"&&f.value===!0&&(i=""),f.key==="vocal"&&YD(e);n(Ar({key:"showName",value:i})),setTimeout(()=>{[...document.querySelectorAll("."+sn.TextBox_textElement_start)].forEach(h=>{h.className=sn.TextBox_textElement})},0);const o=kd(),a=55-20*r.optionData.textSpeed,s=750-r.optionData.textSpeed*250;return{performName:o,duration:e.content.length*a+s,isOver:!1,isHoldOn:!1,stopFunction:()=>{[...document.querySelectorAll("."+sn.TextBox_textElement)].forEach(h=>{h.className=sn.TextBox_textElement_Settled})},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},qD={performName:"",duration:100,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},KD="_MainStage_main_19lz6_1",ZD="_MainStage_bgContainer_19lz6_9",JD="_MainStage_showBgSoftly_19lz6_1",QD="_MainStage_bgContainer_Settled_19lz6_19",e6="_MainStage_oldBgContainer_19lz6_29",t6="_MainStage_oldBgFadeout_19lz6_1",r6="_MainStage_oldBgContainer_Settled_19lz6_39";var mh={MainStage_main:KD,MainStage_bgContainer:ZD,MainStage_showBgSoftly:JD,MainStage_bgContainer_Settled:QD,MainStage_oldBgContainer:e6,MainStage_oldBgFadeout:t6,MainStage_oldBgContainer_Settled:r6};const n6=e=>{const r=xe.getState().stage.bgName,n=xe.dispatch;return n(Ar({key:"oldBgName",value:r})),n(Ar({key:"bgName",value:e.content})),{performName:"none",duration:1e3,isOver:!1,isHoldOn:!1,stopFunction:()=>{const i=document.getElementById("MainStage_bg_MainContainer");i&&(i.className=mh.MainStage_bgContainer_Settled)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},i6=e=>{let t="center",r=e.content;for(const i of e.args)i.key==="left"&&i.value===!0&&(t="left"),i.key==="right"&&i.value===!0&&(t="right"),i.key==="clear"&&i.value===!0&&(r=""),r==="none"&&(r="");const n=xe.dispatch;switch(t){case"center":n(Ar({key:"figName",value:r}));break;case"left":n(Ar({key:"figNameLeft",value:r}));break;case"right":n(Ar({key:"figNameRight",value:r}));break}return{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},o6=e=>{let t=e.content;return Nd(t),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},a6=(e,t)=>{Le.sceneStack.push({sceneName:Le.currentScene.sceneName,sceneUrl:Le.currentScene.sceneUrl,continueLine:Le.currentSentenceId}),mi(e).then(r=>{Le.currentScene=gi(r,t,e),Le.currentSentenceId=0,et.debug("\u73B0\u5728\u8C03\u7528\u573A\u666F\uFF0C\u8C03\u7528\u7ED3\u679C\uFF1A",Le),qr()})},s6=e=>{const t=e.content.split("/"),r=t[t.length-1];return a6(e.content,r),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},uI=(e,t)=>{mi(e).then(r=>{Le.currentScene=gi(r,t,e),Le.currentSentenceId=0,et.debug("\u73B0\u5728\u5207\u6362\u573A\u666F\uFF0C\u5207\u6362\u540E\u7684\u7ED3\u679C\uFF1A",Le),qr()})},u6=e=>{const t=e.content.split("/"),r=t[t.length-1];return uI(e.content,r),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},l6="_FullScreenPerform_main_14crw_2",f6="_FullScreenPerform_element_14crw_9",c6="_fullScreen_video_14crw_17",h6="_introContainer_14crw_25",d6="_introElement_14crw_38",p6="_intro_showSoftly_14crw_1",v6="_videoContainer_14crw_52";var $l={FullScreenPerform_main:l6,FullScreenPerform_element:f6,fullScreen_video:c6,introContainer:h6,introElement:d6,intro_showSoftly:p6,videoContainer:v6},Ud={exports:{}},ff={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _6=Dt.exports,lI=60103;ff.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Qb=Symbol.for;lI=Qb("react.element"),ff.Fragment=Qb("react.fragment")}var m6=_6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g6=Object.prototype.hasOwnProperty,y6={key:!0,ref:!0,__self:!0,__source:!0};function fI(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)g6.call(t,n)&&!y6.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:lI,type:e,key:o,ref:a,props:i,_owner:m6.current}}ff.jsx=fI;ff.jsxs=fI;Ud.exports=ff;const B=Ud.exports.jsx,we=Ud.exports.jsxs,Go=Ud.exports.Fragment,x6=e=>{const t=e.content.split(/\|/),r=t.map((o,a)=>B("div",{style:{animationDelay:`${1500*a}ms`},className:$l.introElement,children:o},"introtext"+a+Math.random().toString())),n=B("div",{children:r});Ys.render(n,document.getElementById("introContainer"));const i=document.getElementById("introContainer");return i&&(i.style.display="block"),{performName:"introPerform",duration:1e3+1500*t.length,isOver:!1,isHoldOn:!1,stopFunction:()=>{const o=document.getElementById("introContainer");o&&(o.style.display="none")},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0}};function E6(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}function b6(e){var t=this;return new t(function(r,n){if(!(e&&typeof e.length!="undefined"))return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(i.length===0)return r([]);var o=i.length;function a(f,c){if(c&&(typeof c=="object"||typeof c=="function")){var h=c.then;if(typeof h=="function"){h.call(c,function(p){a(f,p)},function(p){i[f]={status:"rejected",reason:p},--o===0&&r(i)});return}}i[f]={status:"fulfilled",value:c},--o===0&&r(i)}for(var s=0;s<i.length;s++)a(s,i[s])})}var w6=setTimeout;function cI(e){return Boolean(e&&typeof e.length!="undefined")}function T6(){}function S6(e,t){return function(){e.apply(t,arguments)}}function zt(e){if(!(this instanceof zt))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],dI(e,this)}function hI(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,zt._immediateFn(function(){var r=e._state===1?t.onFulfilled:t.onRejected;if(r===null){(e._state===1?og:Xl)(t.promise,e._value);return}var n;try{n=r(e._value)}catch(i){Xl(t.promise,i);return}og(t.promise,n)})}function og(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var r=t.then;if(t instanceof zt){e._state=3,e._value=t,ag(e);return}else if(typeof r=="function"){dI(S6(r,t),e);return}}e._state=1,e._value=t,ag(e)}catch(n){Xl(e,n)}}function Xl(e,t){e._state=2,e._value=t,ag(e)}function ag(e){e._state===2&&e._deferreds.length===0&&zt._immediateFn(function(){e._handled||zt._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)hI(e,e._deferreds[t]);e._deferreds=null}function C6(e,t,r){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=r}function dI(e,t){var r=!1;try{e(function(n){r||(r=!0,og(t,n))},function(n){r||(r=!0,Xl(t,n))})}catch(n){if(r)return;r=!0,Xl(t,n)}}zt.prototype.catch=function(e){return this.then(null,e)};zt.prototype.then=function(e,t){var r=new this.constructor(T6);return hI(this,new C6(e,t,r)),r};zt.prototype.finally=E6;zt.all=function(e){return new zt(function(t,r){if(!cI(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(n.length===0)return t([]);var i=n.length;function o(s,f){try{if(f&&(typeof f=="object"||typeof f=="function")){var c=f.then;if(typeof c=="function"){c.call(f,function(h){o(s,h)},r);return}}n[s]=f,--i===0&&t(n)}catch(h){r(h)}}for(var a=0;a<n.length;a++)o(a,n[a])})};zt.allSettled=b6;zt.resolve=function(e){return e&&typeof e=="object"&&e.constructor===zt?e:new zt(function(t){t(e)})};zt.reject=function(e){return new zt(function(t,r){r(e)})};zt.race=function(e){return new zt(function(t,r){if(!cI(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)zt.resolve(e[n]).then(t,r)})};zt._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){w6(e,0)};zt._unhandledRejectionFn=function(t){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};/*!
 * @pixi/polyfill - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis=="undefined"&&(typeof self!="undefined"?self.globalThis=self:typeof global!="undefined"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=zt);Object.assign||(Object.assign=t0);var I6=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var R6=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-R6}}var N_=Date.now(),ew=["ms","moz","webkit","o"];for(var A_=0;A_<ew.length&&!globalThis.requestAnimationFrame;++A_){var P_=ew[A_];globalThis.requestAnimationFrame=globalThis[P_+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[P_+"CancelAnimationFrame"]||globalThis[P_+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),r=I6+N_-t;return r<0&&(r=0),N_=t,globalThis.self.setTimeout(function(){N_=Date.now(),e(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var O_=/iPhone/i,tw=/iPod/i,rw=/iPad/i,nw=/\biOS-universal(?:.+)Mac\b/i,L_=/\bAndroid(?:.+)Mobile\b/i,iw=/Android/i,us=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Pc=/Silk/i,Ai=/Windows Phone/i,ow=/\bWindows(?:.+)ARM\b/i,aw=/BlackBerry/i,sw=/BB10/i,uw=/Opera Mini/i,lw=/\b(CriOS|Chrome)(?:.+)Mobile/i,fw=/Mobile(?:.+)Firefox\b/i,cw=function(e){return typeof e!="undefined"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream=="undefined"};function N6(e){return function(t){return t.test(e)}}function A6(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator!="undefined"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]!="undefined"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]!="undefined"&&(r=n[0]);var i=N6(r),o={apple:{phone:i(O_)&&!i(Ai),ipod:i(tw),tablet:!i(O_)&&(i(rw)||cw(t))&&!i(Ai),universal:i(nw),device:(i(O_)||i(tw)||i(rw)||i(nw)||cw(t))&&!i(Ai)},amazon:{phone:i(us),tablet:!i(us)&&i(Pc),device:i(us)||i(Pc)},android:{phone:!i(Ai)&&i(us)||!i(Ai)&&i(L_),tablet:!i(Ai)&&!i(us)&&!i(L_)&&(i(Pc)||i(iw)),device:!i(Ai)&&(i(us)||i(Pc)||i(L_)||i(iw))||i(/\bokhttp\b/i)},windows:{phone:i(Ai),tablet:i(ow),device:i(Ai)||i(ow)},other:{blackberry:i(aw),blackberry10:i(sw),opera:i(uw),firefox:i(fw),chrome:i(lw),device:i(aw)||i(sw)||i(uw)||i(fw)||i(lw)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}/*!
 * @pixi/settings - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var si=A6(globalThis.navigator);function P6(e){var t=!0;if(si.tablet||si.phone){if(si.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(t=!1)}}if(si.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(t=!1)}}}return t?e:4}function O6(){return!si.apple.device}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hw;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(hw||(hw={}));var dw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(dw||(dw={}));var pw;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(pw||(pw={}));var vw;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(vw||(vw={}));var _w;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(_w||(_w={}));var mw;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(mw||(mw={}));var gw;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(gw||(gw={}));var yw;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(yw||(yw={}));var xw;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(xw||(xw={}));var sg;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(sg||(sg={}));var ug;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ug||(ug={}));var lg;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(lg||(lg={}));var Ew;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Ew||(Ew={}));var bw;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(bw||(bw={}));var fg;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(fg||(fg={}));var El;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(El||(El={}));var ww;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(ww||(ww={}));var cg;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(cg||(cg={}));var Tw;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Tw||(Tw={}));var Te={MIPMAP_TEXTURES:lg.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:cg.NONE,SPRITE_MAX_TEXTURES:P6(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:fg.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:ug.CLAMP,SCALE_MODE:sg.LINEAR,PRECISION_VERTEX:El.HIGH,PRECISION_FRAGMENT:si.apple.device?El.HIGH:El.MEDIUM,CAN_UPLOAD_SAME_BUFFER:O6(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},pI={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,c,h){this.fn=f,this.context=c,this.once=h||!1}function o(f,c,h,p,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,p||f,v),y=r?r+c:c;return f._events[y]?f._events[y].fn?f._events[y]=[f._events[y],_]:f._events[y].push(_):(f._events[y]=_,f._eventsCount++),f}function a(f,c){--f._eventsCount===0?f._events=new n:delete f._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],h,p;if(this._eventsCount===0)return c;for(p in h=this._events)t.call(h,p)&&c.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},s.prototype.listeners=function(c){var h=r?r+c:c,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,_=p.length,y=new Array(_);v<_;v++)y[v]=p[v].fn;return y},s.prototype.listenerCount=function(c){var h=r?r+c:c,p=this._events[h];return p?p.fn?1:p.length:0},s.prototype.emit=function(c,h,p,v,_,y){var E=r?r+c:c;if(!this._events[E])return!1;var g=this._events[E],x=arguments.length,w,I;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,p),!0;case 4:return g.fn.call(g.context,h,p,v),!0;case 5:return g.fn.call(g.context,h,p,v,_),!0;case 6:return g.fn.call(g.context,h,p,v,_,y),!0}for(I=1,w=new Array(x-1);I<x;I++)w[I-1]=arguments[I];g.fn.apply(g.context,w)}else{var P=g.length,N;for(I=0;I<P;I++)switch(g[I].once&&this.removeListener(c,g[I].fn,void 0,!0),x){case 1:g[I].fn.call(g[I].context);break;case 2:g[I].fn.call(g[I].context,h);break;case 3:g[I].fn.call(g[I].context,h,p);break;case 4:g[I].fn.call(g[I].context,h,p,v);break;default:if(!w)for(N=1,w=new Array(x-1);N<x;N++)w[N-1]=arguments[N];g[I].fn.apply(g[I].context,w)}}return!0},s.prototype.on=function(c,h,p){return o(this,c,h,p,!1)},s.prototype.once=function(c,h,p){return o(this,c,h,p,!0)},s.prototype.removeListener=function(c,h,p,v){var _=r?r+c:c;if(!this._events[_])return this;if(!h)return a(this,_),this;var y=this._events[_];if(y.fn)y.fn===h&&(!v||y.once)&&(!p||y.context===p)&&a(this,_);else{for(var E=0,g=[],x=y.length;E<x;E++)(y[E].fn!==h||v&&!y[E].once||p&&y[E].context!==p)&&g.push(y[E]);g.length?this._events[_]=g.length===1?g[0]:g:a(this,_)}return this},s.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&a(this,h)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(pI);var cf=pI.exports,yy={exports:{}};yy.exports=Bd;yy.exports.default=Bd;function Bd(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,o=vI(e,0,i,r,!0),a=[];if(!o||o.next===o.prev)return a;var s,f,c,h,p,v,_;if(n&&(o=B6(e,t,o,r)),e.length>80*r){s=c=e[0],f=h=e[1];for(var y=r;y<i;y+=r)p=e[y],v=e[y+1],p<s&&(s=p),v<f&&(f=v),p>c&&(c=p),v>h&&(h=v);_=Math.max(c-s,h-f),_=_!==0?1/_:0}return Vl(o,a,r,s,f,_),a}function vI(e,t,r,n,i){var o,a;if(i===pg(e,t,r,n)>0)for(o=t;o<r;o+=n)a=Sw(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=Sw(o,e[o],e[o+1],a);return a&&Md(a,a.next)&&(zl(a),a=a.next),a}function Fo(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(Md(r,r.next)||Mt(r.prev,r,r.next)===0)){if(zl(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function Vl(e,t,r,n,i,o,a){if(!!e){!a&&o&&$6(e,n,i,o);for(var s=e,f,c;e.prev!==e.next;){if(f=e.prev,c=e.next,o?k6(e,n,i,o):L6(e)){t.push(f.i/r),t.push(e.i/r),t.push(c.i/r),zl(e),e=c.next,s=c.next;continue}if(e=c,e===s){a?a===1?(e=F6(Fo(e),t,r),Vl(e,t,r,n,i,o,2)):a===2&&U6(e,t,r,n,i,o):Vl(Fo(e),t,r,n,i,o,1);break}}}}function L6(e){var t=e.prev,r=e,n=e.next;if(Mt(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Es(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Mt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function k6(e,t,r,n){var i=e.prev,o=e,a=e.next;if(Mt(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,f=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,h=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=hg(s,f,t,r,n),v=hg(c,h,t,r,n),_=e.prevZ,y=e.nextZ;_&&_.z>=p&&y&&y.z<=v;){if(_!==e.prev&&_!==e.next&&Es(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&Mt(_.prev,_,_.next)>=0||(_=_.prevZ,y!==e.prev&&y!==e.next&&Es(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&Mt(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;_&&_.z>=p;){if(_!==e.prev&&_!==e.next&&Es(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&Mt(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;y&&y.z<=v;){if(y!==e.prev&&y!==e.next&&Es(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&Mt(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function F6(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!Md(i,o)&&_I(i,n,n.next,o)&&jl(i,o)&&jl(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),zl(n),zl(n.next),n=e=o),n=n.next}while(n!==e);return Fo(n)}function U6(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&j6(a,s)){var f=mI(a,s);a=Fo(a,a.next),f=Fo(f,f.next),Vl(a,t,r,n,i,o),Vl(f,t,r,n,i,o);return}s=s.next}a=a.next}while(a!==e)}function B6(e,t,r,n){var i=[],o,a,s,f,c;for(o=0,a=t.length;o<a;o++)s=t[o]*n,f=o<a-1?t[o+1]*n:e.length,c=vI(e,s,f,n,!1),c===c.next&&(c.steiner=!0),i.push(V6(c));for(i.sort(M6),o=0;o<i.length;o++)r=D6(i[o],r),r=Fo(r,r.next);return r}function M6(e,t){return e.x-t.x}function D6(e,t){var r=G6(e,t);if(!r)return t;var n=mI(r,e),i=Fo(r,r.next);return Fo(n,n.next),t===r?i:t}function G6(e,t){var r=t,n=e.x,i=e.y,o=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var s=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=n&&s>o){if(o=s,s===n){if(i===r.y)return r;if(i===r.next.y)return r.next}a=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!a)return null;if(n===o)return a;var f=a,c=a.x,h=a.y,p=1/0,v;r=a;do n>=r.x&&r.x>=c&&n!==r.x&&Es(i<h?n:o,i,c,h,i<h?o:n,i,r.x,r.y)&&(v=Math.abs(i-r.y)/(n-r.x),jl(r,e)&&(v<p||v===p&&(r.x>a.x||r.x===a.x&&H6(a,r)))&&(a=r,p=v)),r=r.next;while(r!==f);return a}function H6(e,t){return Mt(e.prev,e,t.prev)<0&&Mt(t.next,e,e.next)<0}function $6(e,t,r,n){var i=e;do i.z===null&&(i.z=hg(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,X6(i)}function X6(e){var t,r,n,i,o,a,s,f,c=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<c&&(s++,n=n.nextZ,!!n);t++);for(f=c;s>0||f>0&&n;)s!==0&&(f===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,f--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1);return e}function hg(e,t,r,n,i){return e=32767*(e-r)*i,t=32767*(t-n)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function V6(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function Es(e,t,r,n,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(n-s)-(r-a)*(t-s)>=0&&(r-a)*(o-s)-(i-a)*(n-s)>=0}function j6(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!z6(e,t)&&(jl(e,t)&&jl(t,e)&&W6(e,t)&&(Mt(e.prev,e,t.prev)||Mt(e,t.prev,t))||Md(e,t)&&Mt(e.prev,e,e.next)>0&&Mt(t.prev,t,t.next)>0)}function Mt(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Md(e,t){return e.x===t.x&&e.y===t.y}function _I(e,t,r,n){var i=Lc(Mt(e,t,r)),o=Lc(Mt(e,t,n)),a=Lc(Mt(r,n,e)),s=Lc(Mt(r,n,t));return!!(i!==o&&a!==s||i===0&&Oc(e,r,t)||o===0&&Oc(e,n,t)||a===0&&Oc(r,e,n)||s===0&&Oc(r,t,n))}function Oc(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Lc(e){return e>0?1:e<0?-1:0}function z6(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&_I(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function jl(e,t){return Mt(e.prev,e,e.next)<0?Mt(e,t,e.next)>=0&&Mt(e,e.prev,t)>=0:Mt(e,t,e.prev)<0||Mt(e,e.next,t)<0}function W6(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function mI(e,t){var r=new dg(e.i,e.x,e.y),n=new dg(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Sw(e,t,r,n){var i=new dg(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function zl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function dg(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Bd.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(pg(e,0,o,r));if(i)for(var s=0,f=t.length;s<f;s++){var c=t[s]*r,h=s<f-1?t[s+1]*r:e.length;a-=Math.abs(pg(e,c,h,r))}var p=0;for(s=0;s<n.length;s+=3){var v=n[s]*r,_=n[s+1]*r,y=n[s+2]*r;p+=Math.abs((e[v]-e[y])*(e[_+1]-e[v+1])-(e[v]-e[_])*(e[y+1]-e[v+1]))}return a===0&&p===0?0:Math.abs((p-a)/a)};function pg(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}Bd.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var gI=yy.exports,vg={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof Tn=="object"&&Tn;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,s=2147483647,f=36,c=1,h=26,p=38,v=700,_=72,y=128,E="-",g=/^xn--/,x=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=f-c,N=Math.floor,R=String.fromCharCode,M;function X(Z){throw RangeError(I[Z])}function D(Z,V){for(var ne=Z.length,ce=[];ne--;)ce[ne]=V(Z[ne]);return ce}function W(Z,V){var ne=Z.split("@"),ce="";ne.length>1&&(ce=ne[0]+"@",Z=ne[1]),Z=Z.replace(w,".");var Se=Z.split("."),ke=D(Se,V).join(".");return ce+ke}function de(Z){for(var V=[],ne=0,ce=Z.length,Se,ke;ne<ce;)Se=Z.charCodeAt(ne++),Se>=55296&&Se<=56319&&ne<ce?(ke=Z.charCodeAt(ne++),(ke&64512)==56320?V.push(((Se&1023)<<10)+(ke&1023)+65536):(V.push(Se),ne--)):V.push(Se);return V}function ue(Z){return D(Z,function(V){var ne="";return V>65535&&(V-=65536,ne+=R(V>>>10&1023|55296),V=56320|V&1023),ne+=R(V),ne}).join("")}function pe(Z){return Z-48<10?Z-22:Z-65<26?Z-65:Z-97<26?Z-97:f}function We(Z,V){return Z+22+75*(Z<26)-((V!=0)<<5)}function le(Z,V,ne){var ce=0;for(Z=ne?N(Z/v):Z>>1,Z+=N(Z/V);Z>P*h>>1;ce+=f)Z=N(Z/P);return N(ce+(P+1)*Z/(Z+p))}function fe(Z){var V=[],ne=Z.length,ce,Se=0,ke=y,Me=_,st,ut,Ye,wt,Ke,lt,Ge,ct,rt;for(st=Z.lastIndexOf(E),st<0&&(st=0),ut=0;ut<st;++ut)Z.charCodeAt(ut)>=128&&X("not-basic"),V.push(Z.charCodeAt(ut));for(Ye=st>0?st+1:0;Ye<ne;){for(wt=Se,Ke=1,lt=f;Ye>=ne&&X("invalid-input"),Ge=pe(Z.charCodeAt(Ye++)),(Ge>=f||Ge>N((s-Se)/Ke))&&X("overflow"),Se+=Ge*Ke,ct=lt<=Me?c:lt>=Me+h?h:lt-Me,!(Ge<ct);lt+=f)rt=f-ct,Ke>N(s/rt)&&X("overflow"),Ke*=rt;ce=V.length+1,Me=le(Se-wt,ce,wt==0),N(Se/ce)>s-ke&&X("overflow"),ke+=N(Se/ce),Se%=ce,V.splice(Se++,0,ke)}return ue(V)}function Ee(Z){var V,ne,ce,Se,ke,Me,st,ut,Ye,wt,Ke,lt=[],Ge,ct,rt,ze;for(Z=de(Z),Ge=Z.length,V=y,ne=0,ke=_,Me=0;Me<Ge;++Me)Ke=Z[Me],Ke<128&&lt.push(R(Ke));for(ce=Se=lt.length,Se&&lt.push(E);ce<Ge;){for(st=s,Me=0;Me<Ge;++Me)Ke=Z[Me],Ke>=V&&Ke<st&&(st=Ke);for(ct=ce+1,st-V>N((s-ne)/ct)&&X("overflow"),ne+=(st-V)*ct,V=st,Me=0;Me<Ge;++Me)if(Ke=Z[Me],Ke<V&&++ne>s&&X("overflow"),Ke==V){for(ut=ne,Ye=f;wt=Ye<=ke?c:Ye>=ke+h?h:Ye-ke,!(ut<wt);Ye+=f)ze=ut-wt,rt=f-wt,lt.push(R(We(wt+ze%rt,0))),ut=N(ze/rt);lt.push(R(We(ut,0))),ke=le(ne,ct,ce==Se),ne=0,++ce}++ne,++V}return lt.join("")}function Fe(Z){return W(Z,function(V){return g.test(V)?fe(V.slice(4).toLowerCase()):V})}function dt(Z){return W(Z,function(V){return x.test(V)?"xn--"+Ee(V):V})}if(a={version:"1.3.2",ucs2:{decode:de,encode:ue},decode:fe,encode:Ee,toASCII:dt,toUnicode:Fe},n&&i)if(e.exports==n)i.exports=a;else for(M in a)a.hasOwnProperty(M)&&(n[M]=a[M]);else r.punycode=a})(Tn)})(vg,vg.exports);var Y6={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Wl={};function q6(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var K6=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var f=0;f<s;++f){var c=e[f].replace(o,"%20"),h=c.indexOf(r),p,v,_,y;h>=0?(p=c.substr(0,h),v=c.substr(h+1)):(p=c,v=""),_=decodeURIComponent(p),y=decodeURIComponent(v),q6(i,_)?Array.isArray(i[_])?i[_].push(y):i[_]=[i[_],y]:i[_]=y}return i},Wu=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},Z6=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(Wu(i))+r;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(Wu(a))}).join(t):o+encodeURIComponent(Wu(e[i]))}).join(t):n?encodeURIComponent(Wu(n))+r+encodeURIComponent(Wu(e)):""};Wl.decode=Wl.parse=K6;Wl.encode=Wl.stringify=Z6;var J6=vg.exports,ni=Y6,Q6=Dd,e5=c5,t5=f5;function Wn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r5=/^([a-z0-9.+-]+:)/i,n5=/:[0-9]*$/,i5=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o5=["<",">",'"',"`"," ","\r",`
`,"	"],a5=["{","}","|","\\","^","`"].concat(o5),_g=["'"].concat(a5),Cw=["%","/","?",";","#"].concat(_g),Iw=["/","?","#"],s5=255,Rw=/^[+a-z0-9A-Z_-]{0,63}$/,u5=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,l5={javascript:!0,"javascript:":!0},mg={javascript:!0,"javascript:":!0},Hs={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},gg=Wl;function Dd(e,t,r){if(e&&ni.isObject(e)&&e instanceof Wn)return e;var n=new Wn;return n.parse(e,t,r),n}Wn.prototype.parse=function(e,t,r){if(!ni.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var s=e;if(s=s.trim(),!r&&e.split("#").length===1){var f=i5.exec(s);if(f)return this.path=s,this.href=s,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=gg.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=r5.exec(s);if(c){c=c[0];var h=c.toLowerCase();this.protocol=h,s=s.substr(c.length)}if(r||c||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var p=s.substr(0,2)==="//";p&&!(c&&mg[c])&&(s=s.substr(2),this.slashes=!0)}if(!mg[c]&&(p||c&&!Hs[c])){for(var v=-1,_=0;_<Iw.length;_++){var y=s.indexOf(Iw[_]);y!==-1&&(v===-1||y<v)&&(v=y)}var E,g;v===-1?g=s.lastIndexOf("@"):g=s.lastIndexOf("@",v),g!==-1&&(E=s.slice(0,g),s=s.slice(g+1),this.auth=decodeURIComponent(E)),v=-1;for(var _=0;_<Cw.length;_++){var y=s.indexOf(Cw[_]);y!==-1&&(v===-1||y<v)&&(v=y)}v===-1&&(v=s.length),this.host=s.slice(0,v),s=s.slice(v),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var w=this.hostname.split(/\./),_=0,I=w.length;_<I;_++){var P=w[_];if(!!P&&!P.match(Rw)){for(var N="",R=0,M=P.length;R<M;R++)P.charCodeAt(R)>127?N+="x":N+=P[R];if(!N.match(Rw)){var X=w.slice(0,_),D=w.slice(_+1),W=P.match(u5);W&&(X.push(W[1]),D.unshift(W[2])),D.length&&(s="/"+D.join(".")+s),this.hostname=X.join(".");break}}}this.hostname.length>s5?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=J6.toASCII(this.hostname));var de=this.port?":"+this.port:"",ue=this.hostname||"";this.host=ue+de,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!l5[h])for(var _=0,I=_g.length;_<I;_++){var pe=_g[_];if(s.indexOf(pe)!==-1){var We=encodeURIComponent(pe);We===pe&&(We=escape(pe)),s=s.split(pe).join(We)}}var le=s.indexOf("#");le!==-1&&(this.hash=s.substr(le),s=s.slice(0,le));var fe=s.indexOf("?");if(fe!==-1?(this.search=s.substr(fe),this.query=s.substr(fe+1),t&&(this.query=gg.parse(this.query)),s=s.slice(0,fe)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Hs[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var de=this.pathname||"",Ee=this.search||"";this.path=de+Ee}return this.href=this.format(),this};function f5(e){return ni.isString(e)&&(e=Dd(e)),e instanceof Wn?e.format():Wn.prototype.format.call(e)}Wn.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&ni.isObject(this.query)&&Object.keys(this.query).length&&(o=gg.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Hs[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(s){return encodeURIComponent(s)}),a=a.replace("#","%23"),t+i+r+a+n};function c5(e,t){return Dd(e,!1,!0).resolve(t)}Wn.prototype.resolve=function(e){return this.resolveObject(Dd(e,!1,!0)).format()};Wn.prototype.resolveObject=function(e){if(ni.isString(e)){var t=new Wn;t.parse(e,!1,!0),e=t}for(var r=new Wn,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),s=0;s<a.length;s++){var f=a[s];f!=="protocol"&&(r[f]=e[f])}return Hs[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Hs[e.protocol]){for(var c=Object.keys(e),h=0;h<c.length;h++){var p=c[h];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!mg[e.protocol]){for(var I=(e.pathname||"").split("/");I.length&&!(e.host=I.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),I[0]!==""&&I.unshift(""),I.length<2&&I.unshift(""),r.pathname=I.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",E=e.host||e.pathname&&e.pathname.charAt(0)==="/",g=E||y||r.host&&e.pathname,x=g,w=r.pathname&&r.pathname.split("/")||[],I=e.pathname&&e.pathname.split("/")||[],P=r.protocol&&!Hs[r.protocol];if(P&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(I[0]===""?I[0]=e.host:I.unshift(e.host)),e.host=null),g=g&&(I[0]===""||w[0]==="")),E)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=I;else if(I.length)w||(w=[]),w.pop(),w=w.concat(I),r.search=e.search,r.query=e.query;else if(!ni.isNullOrUndefined(e.search)){if(P){r.hostname=r.host=w.shift();var N=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;N&&(r.auth=N.shift(),r.host=r.hostname=N.shift())}return r.search=e.search,r.query=e.query,(!ni.isNull(r.pathname)||!ni.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var R=w.slice(-1)[0],M=(r.host||e.host||w.length>1)&&(R==="."||R==="..")||R==="",X=0,D=w.length;D>=0;D--)R=w[D],R==="."?w.splice(D,1):R===".."?(w.splice(D,1),X++):X&&(w.splice(D,1),X--);if(!g&&!x)for(;X--;X)w.unshift("..");g&&w[0]!==""&&(!w[0]||w[0].charAt(0)!=="/")&&w.unshift(""),M&&w.join("/").substr(-1)!=="/"&&w.push("");var W=w[0]===""||w[0]&&w[0].charAt(0)==="/";if(P){r.hostname=r.host=W?"":w.length?w.shift():"";var N=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;N&&(r.auth=N.shift(),r.host=r.hostname=N.shift())}return g=g||r.host&&w.length,g&&!W&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),(!ni.isNull(r.pathname)||!ni.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Wn.prototype.parseHost=function(){var e=this.host,t=n5.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Xi;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Xi||(Xi={}));var Yl;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(Yl||(Yl={}));var Jh;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Jh||(Jh={}));var Ie;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(Ie||(Ie={}));var zn;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(zn||(zn={}));var se;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(se||(se={}));var ya;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ya||(ya={}));var Ce;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Ce||(Ce={}));var Qh;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(Qh||(Qh={}));var Di;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Di||(Di={}));var Hi;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Hi||(Hi={}));var Vi;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(Vi||(Vi={}));var Yn;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Yn||(Yn={}));var lo;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(lo||(lo={}));var yg;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(yg||(yg={}));var ui;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(ui||(ui={}));var Tr;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(Tr||(Tr={}));var Qt;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Qt||(Qt={}));var hi;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(hi||(hi={}));/*!
 * @pixi/utils - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var bs={parse:Q6,format:t5,resolve:e5};Te.RETINA_PREFIX=/@([0-9\.]+)x/;Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Nw=!1,Aw="6.3.0";function h5(e){var t;if(!Nw){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+Aw+" - \u2730 "+e+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,r)}else globalThis.console&&globalThis.console.log("PixiJS "+Aw+" - "+e+" - http://www.pixijs.com/");Nw=!0}}var k_;function d5(){return typeof k_=="undefined"&&(k_=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),i=!!(n&&n.getContextAttributes().stencil);if(n){var o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,i}catch{return!1}}()),k_}var p5="#f0f8ff",v5="#faebd7",_5="#00ffff",m5="#7fffd4",g5="#f0ffff",y5="#f5f5dc",x5="#ffe4c4",E5="#000000",b5="#ffebcd",w5="#0000ff",T5="#8a2be2",S5="#a52a2a",C5="#deb887",I5="#5f9ea0",R5="#7fff00",N5="#d2691e",A5="#ff7f50",P5="#6495ed",O5="#fff8dc",L5="#dc143c",k5="#00ffff",F5="#00008b",U5="#008b8b",B5="#b8860b",M5="#a9a9a9",D5="#006400",G5="#a9a9a9",H5="#bdb76b",$5="#8b008b",X5="#556b2f",V5="#ff8c00",j5="#9932cc",z5="#8b0000",W5="#e9967a",Y5="#8fbc8f",q5="#483d8b",K5="#2f4f4f",Z5="#2f4f4f",J5="#00ced1",Q5="#9400d3",e8="#ff1493",t8="#00bfff",r8="#696969",n8="#696969",i8="#1e90ff",o8="#b22222",a8="#fffaf0",s8="#228b22",u8="#ff00ff",l8="#dcdcdc",f8="#f8f8ff",c8="#daa520",h8="#ffd700",d8="#808080",p8="#008000",v8="#adff2f",_8="#808080",m8="#f0fff0",g8="#ff69b4",y8="#cd5c5c",x8="#4b0082",E8="#fffff0",b8="#f0e68c",w8="#fff0f5",T8="#e6e6fa",S8="#7cfc00",C8="#fffacd",I8="#add8e6",R8="#f08080",N8="#e0ffff",A8="#fafad2",P8="#d3d3d3",O8="#90ee90",L8="#d3d3d3",k8="#ffb6c1",F8="#ffa07a",U8="#20b2aa",B8="#87cefa",M8="#778899",D8="#778899",G8="#b0c4de",H8="#ffffe0",$8="#00ff00",X8="#32cd32",V8="#faf0e6",j8="#ff00ff",z8="#800000",W8="#66cdaa",Y8="#0000cd",q8="#ba55d3",K8="#9370db",Z8="#3cb371",J8="#7b68ee",Q8="#00fa9a",eG="#48d1cc",tG="#c71585",rG="#191970",nG="#f5fffa",iG="#ffe4e1",oG="#ffe4b5",aG="#ffdead",sG="#000080",uG="#fdf5e6",lG="#808000",fG="#6b8e23",cG="#ffa500",hG="#ff4500",dG="#da70d6",pG="#eee8aa",vG="#98fb98",_G="#afeeee",mG="#db7093",gG="#ffefd5",yG="#ffdab9",xG="#cd853f",EG="#ffc0cb",bG="#dda0dd",wG="#b0e0e6",TG="#800080",SG="#663399",CG="#ff0000",IG="#bc8f8f",RG="#4169e1",NG="#8b4513",AG="#fa8072",PG="#f4a460",OG="#2e8b57",LG="#fff5ee",kG="#a0522d",FG="#c0c0c0",UG="#87ceeb",BG="#6a5acd",MG="#708090",DG="#708090",GG="#fffafa",HG="#00ff7f",$G="#4682b4",XG="#d2b48c",VG="#008080",jG="#d8bfd8",zG="#ff6347",WG="#40e0d0",YG="#ee82ee",qG="#f5deb3",KG="#ffffff",ZG="#f5f5f5",JG="#ffff00",QG="#9acd32",e9={aliceblue:p5,antiquewhite:v5,aqua:_5,aquamarine:m5,azure:g5,beige:y5,bisque:x5,black:E5,blanchedalmond:b5,blue:w5,blueviolet:T5,brown:S5,burlywood:C5,cadetblue:I5,chartreuse:R5,chocolate:N5,coral:A5,cornflowerblue:P5,cornsilk:O5,crimson:L5,cyan:k5,darkblue:F5,darkcyan:U5,darkgoldenrod:B5,darkgray:M5,darkgreen:D5,darkgrey:G5,darkkhaki:H5,darkmagenta:$5,darkolivegreen:X5,darkorange:V5,darkorchid:j5,darkred:z5,darksalmon:W5,darkseagreen:Y5,darkslateblue:q5,darkslategray:K5,darkslategrey:Z5,darkturquoise:J5,darkviolet:Q5,deeppink:e8,deepskyblue:t8,dimgray:r8,dimgrey:n8,dodgerblue:i8,firebrick:o8,floralwhite:a8,forestgreen:s8,fuchsia:u8,gainsboro:l8,ghostwhite:f8,goldenrod:c8,gold:h8,gray:d8,green:p8,greenyellow:v8,grey:_8,honeydew:m8,hotpink:g8,indianred:y8,indigo:x8,ivory:E8,khaki:b8,lavenderblush:w8,lavender:T8,lawngreen:S8,lemonchiffon:C8,lightblue:I8,lightcoral:R8,lightcyan:N8,lightgoldenrodyellow:A8,lightgray:P8,lightgreen:O8,lightgrey:L8,lightpink:k8,lightsalmon:F8,lightseagreen:U8,lightskyblue:B8,lightslategray:M8,lightslategrey:D8,lightsteelblue:G8,lightyellow:H8,lime:$8,limegreen:X8,linen:V8,magenta:j8,maroon:z8,mediumaquamarine:W8,mediumblue:Y8,mediumorchid:q8,mediumpurple:K8,mediumseagreen:Z8,mediumslateblue:J8,mediumspringgreen:Q8,mediumturquoise:eG,mediumvioletred:tG,midnightblue:rG,mintcream:nG,mistyrose:iG,moccasin:oG,navajowhite:aG,navy:sG,oldlace:uG,olive:lG,olivedrab:fG,orange:cG,orangered:hG,orchid:dG,palegoldenrod:pG,palegreen:vG,paleturquoise:_G,palevioletred:mG,papayawhip:gG,peachpuff:yG,peru:xG,pink:EG,plum:bG,powderblue:wG,purple:TG,rebeccapurple:SG,red:CG,rosybrown:IG,royalblue:RG,saddlebrown:NG,salmon:AG,sandybrown:PG,seagreen:OG,seashell:LG,sienna:kG,silver:FG,skyblue:UG,slateblue:BG,slategray:MG,slategrey:DG,snow:GG,springgreen:HG,steelblue:$G,tan:XG,teal:VG,thistle:jG,tomato:zG,turquoise:WG,violet:YG,wheat:qG,white:KG,whitesmoke:ZG,yellow:JG,yellowgreen:QG};function Js(e,t){return t===void 0&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function yI(e){var t=e.toString(16);return t="000000".substring(0,6-t.length)+t,"#"+t}function xI(e){return typeof e=="string"&&(e=e9[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1))),parseInt(e,16)}function t9(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[Ie.NORMAL_NPM]=Ie.NORMAL,e[Ie.ADD_NPM]=Ie.ADD,e[Ie.SCREEN_NPM]=Ie.SCREEN,t[Ie.NORMAL]=Ie.NORMAL_NPM,t[Ie.ADD]=Ie.ADD_NPM,t[Ie.SCREEN]=Ie.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}var EI=t9();function bI(e,t){return EI[t?1:0][e]}function r9(e,t,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function xy(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var r=e>>16&255,n=e>>8&255,i=e&255;return r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0,(t*255<<24)+(r<<16)+(n<<8)+i}function wI(e,t,r,n){return r=r||new Float32Array(4),r[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(e&255)/255,(n||n===void 0)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function n9(e,t){t===void 0&&(t=null);var r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function TI(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}function ed(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function Pw(e){return!(e&e-1)&&!!e}function Ow(e){var t=(e>65535?1:0)<<4;e>>>=t;var r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function $s(e,t,r){var n=e.length,i;if(!(t>=n||r===0)){r=t+r>n?n-t:r;var o=n-r;for(i=t;i<o;++i)e[i]=e[i+r];e.length=o}}function ws(e){return e===0?0:e<0?-1:1}var i9=0;function Ca(){return++i9}var Lw={};function Ia(e,t,r){if(r===void 0&&(r=3),!Lw[t]){var n=new Error().stack;typeof n=="undefined"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(n))),Lw[t]=!0}}var kw={},Oi=Object.create(null),ta=Object.create(null),Fw=function(){function e(t,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||Te.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,r){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(r*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),e}();function o9(e){var t=e.width,r=e.height,n=e.getContext("2d"),i=n.getImageData(0,0,t,r),o=i.data,a=o.length,s={top:null,left:null,right:null,bottom:null},f=null,c,h,p;for(c=0;c<a;c+=4)o[c+3]!==0&&(h=c/4%t,p=~~(c/4/t),s.top===null&&(s.top=p),(s.left===null||h<s.left)&&(s.left=h),(s.right===null||s.right<h)&&(s.right=h+1),(s.bottom===null||s.bottom<p)&&(s.bottom=p));return s.top!==null&&(t=s.right-s.left,r=s.bottom-s.top+1,f=n.getImageData(s.left,s.top,t,r)),{height:r,width:t,data:f}}var kc;function a9(e,t){if(t===void 0&&(t=globalThis.location),e.indexOf("data:")===0)return"";t=t||globalThis.location,kc||(kc=document.createElement("a")),kc.href=e;var r=bs.parse(kc.href),n=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!n||r.protocol!==t.protocol?"anonymous":""}function td(e,t){var r=Te.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t!==void 0?t:1}/*!
 * @pixi/math - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rd=Math.PI*2,s9=180/Math.PI,u9=Math.PI/180,Vt;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(Vt||(Vt={}));var It=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x=t,this.y=r,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),Fc=[new It,new It,new It,new It],at=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Vt.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height},e.prototype.intersects=function(t,r){if(!r){var n=this.x<t.x?t.x:this.x,i=this.right>t.right?t.right:this.right;if(i<=n)return!1;var o=this.y<t.y?t.y:this.y,a=this.bottom>t.bottom?t.bottom:this.bottom;return a>o}var s=this.left,f=this.right,c=this.top,h=this.bottom;if(f<=s||h<=c)return!1;var p=Fc[0].set(t.left,t.top),v=Fc[1].set(t.left,t.bottom),_=Fc[2].set(t.right,t.top),y=Fc[3].set(t.right,t.bottom);if(_.x<=p.x||v.y<=p.y)return!1;var E=Math.sign(r.a*r.d-r.b*r.c);if(E===0||(r.apply(p,p),r.apply(v,v),r.apply(_,_),r.apply(y,y),Math.max(p.x,v.x,_.x,y.x)<=s||Math.min(p.x,v.x,_.x,y.x)>=f||Math.max(p.y,v.y,_.y,y.y)<=c||Math.min(p.y,v.y,_.y,y.y)>=h))return!1;var g=E*(v.y-p.y),x=E*(p.x-v.x),w=g*s+x*c,I=g*f+x*c,P=g*s+x*h,N=g*f+x*h;if(Math.max(w,I,P,N)<=g*p.x+x*p.y||Math.min(w,I,P,N)>=g*y.x+x*y.y)return!1;var R=E*(p.y-_.y),M=E*(_.x-p.x),X=R*s+M*c,D=R*f+M*c,W=R*s+M*h,de=R*f+M*h;return!(Math.max(X,D,W,de)<=R*p.x+M*p.y||Math.min(X,D,W,de)>=R*y.x+M*y.y)},e.prototype.pad=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this},e.prototype.fit=function(t){var r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0),this},e.prototype.ceil=function(t,r){t===void 0&&(t=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=o-i,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),l9=function(){function e(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=t,this.y=r,this.radius=n,this.type=Vt.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,o=this.y-r;return i*=i,o*=o,i+o<=n},e.prototype.getBounds=function(){return new at(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),f9=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=r,this.width=n,this.height=i,this.type=Vt.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},e.prototype.getBounds=function(){return new at(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),gh=function(){function e(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var o=[],a=0,s=i.length;a<s;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=Vt.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),r=new e(t);return r.closeStroke=this.closeStroke,r},e.prototype.contains=function(t,r){for(var n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var s=this.points[o*2],f=this.points[o*2+1],c=this.points[a*2],h=this.points[a*2+1],p=f>r!=h>r&&t<(c-s)*((r-f)/(h-f))+s;p&&(n=!n)}return n},e.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(t,r){return t+", "+r},"")+"]")},e}(),c9=function(){function e(t,r,n,i,o){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=t,this.y=r,this.width=n,this.height=i,this.radius=o,this.type=Vt.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;var i=t-(this.x+n),o=r-(this.y+n),a=n*n;if(i*i+o*o<=a||(i=t-(this.x+this.width-n),i*i+o*o<=a)||(o=r-(this.y+this.height-n),i*i+o*o<=a)||(i=t-(this.x+n),i*i+o*o<=a))return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},e}(),Ts=function(){function e(t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=t,this.scope=r}return e.prototype.clone=function(t,r){return t===void 0&&(t=this.cb),r===void 0&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Zt=function(){function e(t,r,n,i,o,a){t===void 0&&(t=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=0),a===void 0&&(a=0),this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,r,n,i,o,a){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a,this},e.prototype.toArray=function(t,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(t,r){r=r||new It;var n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},e.prototype.applyInverse=function(t,r){r=r||new It;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return r.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},e.prototype.translate=function(t,r){return this.tx+=t,this.ty+=r,this},e.prototype.scale=function(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this},e.prototype.rotate=function(t){var r=Math.cos(t),n=Math.sin(t),i=this.a,o=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this},e.prototype.append=function(t){var r=this.a,n=this.b,i=this.c,o=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*o,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*o,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this},e.prototype.setTransform=function(t,r,n,i,o,a,s,f,c){return this.a=Math.cos(s+c)*o,this.b=Math.sin(s+c)*o,this.c=-Math.sin(s-f)*a,this.d=Math.cos(s-f)*a,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},e.prototype.prepend=function(t){var r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var r=this.a,n=this.b,i=this.c,o=this.d,a=t.pivot,s=-Math.atan2(-i,o),f=Math.atan2(n,r),c=Math.abs(s+f);return c<1e-5||Math.abs(rd-c)<1e-5?(t.rotation=f,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=f),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(a.x*r+a.y*i),t.position.y=this.ty+(a.x*n+a.y*o),t},e.prototype.invert=function(){var t=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,a=t*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-i*o)/a,this.ty=-(t*this.ty-r*o)/a,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),la=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],fa=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],ca=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ha=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],xg=[],SI=[],Uc=Math.sign;function h9(){for(var e=0;e<16;e++){var t=[];xg.push(t);for(var r=0;r<16;r++)for(var n=Uc(la[e]*la[r]+ca[e]*fa[r]),i=Uc(fa[e]*la[r]+ha[e]*fa[r]),o=Uc(la[e]*ca[r]+ca[e]*ha[r]),a=Uc(fa[e]*ca[r]+ha[e]*ha[r]),s=0;s<16;s++)if(la[s]===n&&fa[s]===i&&ca[s]===o&&ha[s]===a){t.push(s);break}}for(var e=0;e<16;e++){var f=new Zt;f.set(la[e],fa[e],ca[e],ha[e],0,0),SI.push(f)}}h9();var Ut={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return la[e]},uY:function(e){return fa[e]},vX:function(e){return ca[e]},vY:function(e){return ha[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return xg[e][t]},sub:function(e,t){return xg[e][Ut.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?Ut.S:Ut.N:Math.abs(t)*2<=Math.abs(e)?e>0?Ut.E:Ut.W:t>0?e>0?Ut.SE:Ut.SW:e>0?Ut.NE:Ut.NW},matrixAppendRotationInv:function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=SI[Ut.inv(t)];i.tx=r,i.ty=n,e.append(i)}},CI=function(){function e(){this.worldTransform=new Zt,this.localTransform=new Zt,this.position=new Ts(this.onChange,this,0,0),this.scale=new Ts(this.onChange,this,1,1),this.pivot=new Ts(this.onChange,this,0,0),this.skew=new Ts(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();/*!
 * @pixi/display - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.SORTABLE_CHILDREN=!1;var ql=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?at.EMPTY:(t=t||new at(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},e.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},e.prototype.addPointMatrix=function(t,r){var n=t.a,i=t.b,o=t.c,a=t.d,s=t.tx,f=t.ty,c=n*r.x+o*r.y+s,h=i*r.x+a*r.y+f;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)},e.prototype.addQuad=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,a=t[0],s=t[1];r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[2],s=t[3],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[4],s=t[5],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,a=t[6],s=t[7],r=a<r?a:r,n=s<n?s:n,i=a>i?a:i,o=s>o?s:o,this.minX=r,this.minY=n,this.maxX=i,this.maxY=o},e.prototype.addFrame=function(t,r,n,i,o){this.addFrameMatrix(t.worldTransform,r,n,i,o)},e.prototype.addFrameMatrix=function(t,r,n,i,o){var a=t.a,s=t.b,f=t.c,c=t.d,h=t.tx,p=t.ty,v=this.minX,_=this.minY,y=this.maxX,E=this.maxY,g=a*r+f*n+h,x=s*r+c*n+p;v=g<v?g:v,_=x<_?x:_,y=g>y?g:y,E=x>E?x:E,g=a*i+f*n+h,x=s*i+c*n+p,v=g<v?g:v,_=x<_?x:_,y=g>y?g:y,E=x>E?x:E,g=a*r+f*o+h,x=s*r+c*o+p,v=g<v?g:v,_=x<_?x:_,y=g>y?g:y,E=x>E?x:E,g=a*i+f*o+h,x=s*i+c*o+p,v=g<v?g:v,_=x<_?x:_,y=g>y?g:y,E=x>E?x:E,this.minX=v,this.minY=_,this.maxX=y,this.maxY=E},e.prototype.addVertexData=function(t,r,n){for(var i=this.minX,o=this.minY,a=this.maxX,s=this.maxY,f=r;f<n;f+=2){var c=t[f],h=t[f+1];i=c<i?c:i,o=h<o?h:o,a=c>a?c:a,s=h>s?h:s}this.minX=i,this.minY=o,this.maxX=a,this.maxY=s},e.prototype.addVertices=function(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)},e.prototype.addVerticesMatrix=function(t,r,n,i,o,a){o===void 0&&(o=0),a===void 0&&(a=o);for(var s=t.a,f=t.b,c=t.c,h=t.d,p=t.tx,v=t.ty,_=this.minX,y=this.minY,E=this.maxX,g=this.maxY,x=n;x<i;x+=2){var w=r[x],I=r[x+1],P=s*w+c*I+p,N=h*I+f*w+v;_=Math.min(_,P-o),E=Math.max(E,P+o),y=Math.min(y,N-a),g=Math.max(g,N+a)}this.minX=_,this.minY=y,this.maxX=E,this.maxY=g},e.prototype.addBounds=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>o?t.maxY:o},e.prototype.addBoundsMask=function(t,r){var n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,o=t.maxX<r.maxX?t.maxX:r.maxX,a=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=o&&i<=a){var s=this.minX,f=this.minY,c=this.maxX,h=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=o>c?o:c,this.maxY=a>h?a:h}},e.prototype.addBoundsMatrix=function(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsArea=function(t,r){var n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,o=t.maxX<r.x+r.width?t.maxX:r.x+r.width,a=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=o&&i<=a){var s=this.minX,f=this.minY,c=this.maxX,h=this.maxY;this.minX=n<s?n:s,this.minY=i<f?i:f,this.maxX=o>c?o:c,this.maxY=a>h?a:h}},e.prototype.pad=function(t,r){t===void 0&&(t=0),r===void 0&&(r=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)},e.prototype.addFramePad=function(t,r,n,i,o,a){t-=o,r-=a,n+=o,i+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Eg=function(e,t){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Eg(e,t)};function Ey(e,t){Eg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Jt=function(e){Ey(t,e);function t(){var r=e.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new CI,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new ql,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return t.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(r,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new at),n=this._boundsRect),this._bounds.getRectangle(n)},t.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new at),r=this._localBoundsRect),this._localBounds||(this._localBounds=new ql);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=o,this._bounds.updateID+=this._boundsID-a,s},t.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},t.prototype.toLocal=function(r,n,i,o){return n&&(r=n.toGlobal(r,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},t.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},t.prototype.setTransform=function(r,n,i,o,a,s,f,c,h){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=1),a===void 0&&(a=0),s===void 0&&(s=0),f===void 0&&(f=0),c===void 0&&(c=0),h===void 0&&(h=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=o||1,this.rotation=a,this.skew.x=s,this.skew.y=f,this.pivot.x=c,this.pivot.y=h,this},t.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new II),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},t.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*s9},set:function(r){this.transform.rotation=r*u9},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),t}(cf),II=function(e){Ey(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.sortDirty=null,r}return t}(Jt);Jt.prototype.displayObjectUpdateTransform=Jt.prototype.updateTransform;/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Uw;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Uw||(Uw={}));var Bw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(Bw||(Bw={}));var Mw;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Mw||(Mw={}));var Dw;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(Dw||(Dw={}));var Gw;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Gw||(Gw={}));var Hw;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Hw||(Hw={}));var $w;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})($w||($w={}));var Xw;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Xw||(Xw={}));var Vw;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(Vw||(Vw={}));var jw;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(jw||(jw={}));var zw;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(zw||(zw={}));var Ww;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(Ww||(Ww={}));var Yw;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Yw||(Yw={}));var qw;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(qw||(qw={}));var Kw;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(Kw||(Kw={}));var Zw;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Zw||(Zw={}));var bg;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(bg||(bg={}));var Jw;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Jw||(Jw={}));var Qw;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Qw||(Qw={}));function d9(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var An=function(e){Ey(t,e);function t(){var r=e.call(this)||this;return r.children=[],r.sortableChildren=Te.SORTABLE_CHILDREN,r.sortDirty=!1,r}return t.prototype.onChildrenChange=function(r){},t.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.addChild(n[o]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},t.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},t.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),o=this.getChildIndex(n);this.children[i]=n,this.children[o]=r,this.onChildrenChange(i<o?i:o)}},t.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},t.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);$s(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},t.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},t.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.removeChild(n[o]);else{var a=n[0],s=this.children.indexOf(a);if(s===-1)return null;a.parent=null,a.transform._parentID=-1,$s(this.children,s,1),this._boundsID++,this.onChildrenChange(s),a.emit("removed",this),this.emit("childRemoved",a,this,s)}return n[0]},t.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,$s(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},t.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,o=n,a=o-i,s;if(a>0&&a<=o){s=this.children.splice(i,a);for(var f=0;f<s.length;++f)s[f].parent=null,s[f].transform&&(s[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var f=0;f<s.length;++f)s[f].emit("removed",this),this.emit("childRemoved",s[f],this,f);return s}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var o=this.children[n];o._lastSortedIndex=n,!r&&o.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(d9),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=e.prototype.getLocalBounds.call(this,r);if(!n)for(var o=0,a=this.children.length;o<a;++o){var s=this.children[o];s.visible&&s.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,o;if(this.cullArea?(i=this.cullArea,o=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,o))this._render(r);else if(this.cullArea)return;for(var a=0,s=this.children.length;a<s;++a){var f=this.children[a],c=f.cullable;f.cullable=c||!this.cullArea,f.render(r),f.cullable=c}}},t.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},t.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<n.length;o++)n[o].enabled&&this._enabledFilters.push(n[o])}var a=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==bg.NONE));if(a&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var o=0,s=this.children.length;o<s;++o)this.children[o].render(r)}a&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},t.prototype._render=function(r){},t.prototype.destroy=function(r){e.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(r)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),t}(Jt);An.prototype.containerUpdateTransform=An.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var p9={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Jt.mixin(p9);var v9=9,Bc=100,_9=0,m9=0,eT=2,tT=1,g9=-1e3,y9=-1e3,x9=2,E9=function(){function e(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(si.tablet||si.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Bc+"px",r.style.height=Bc+"px",r.style.position="absolute",r.style.top=_9+"px",r.style.left=m9+"px",r.style.zIndex=eT.toString(),this.div=r,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var t=this,r=document.createElement("button");r.style.width=tT+"px",r.style.height=tT+"px",r.style.position="absolute",r.style.top=g9+"px",r.style.left=y9+"px",r.style.zIndex=x9.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},e.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)===null||t===void 0||t.appendChild(this.div))},e.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)===null||t===void 0||t.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var r=t.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},e.prototype.update=function(){var t=performance.now();if(!(si.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,o=r.width,a=r.height,s=this.renderer,f=s.width,c=s.height,h=s.resolution,p=o/f*h,v=a/c*h,_=this.div;_.style.left=n+"px",_.style.top=i+"px",_.style.width=f+"px",_.style.height=c+"px";for(var y=0;y<this.children.length;y++){var E=this.children[y];if(E.renderId!==this.renderId)E._accessibleActive=!1,$s(this.children,y,1),this.div.removeChild(E._accessibleDiv),this.pool.push(E._accessibleDiv),E._accessibleDiv=null,y--;else{_=E._accessibleDiv;var g=E.hitArea,x=E.worldTransform;E.hitArea?(_.style.left=(x.tx+g.x*x.a)*p+"px",_.style.top=(x.ty+g.y*x.d)*v+"px",_.style.width=g.width*x.a*p+"px",_.style.height=g.height*x.d*v+"px"):(g=E.getBounds(),this.capHitArea(g),_.style.left=g.x*p+"px",_.style.top=g.y*v+"px",_.style.width=g.width*p+"px",_.style.height=g.height*v+"px",_.title!==E.accessibleTitle&&E.accessibleTitle!==null&&(_.title=E.accessibleTitle),_.getAttribute("aria-label")!==E.accessibleHint&&E.accessibleHint!==null&&_.setAttribute("aria-label",E.accessibleHint)),(E.accessibleTitle!==_.title||E.tabIndex!==_.tabIndex)&&(_.title=E.accessibleTitle,_.tabIndex=E.tabIndex,this.debug&&this.updateDebugHTML(_))}}this.renderId++}},e.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},e.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var r=this.renderer,n=r.width,i=r.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>i&&(t.height=i-t.y)},e.prototype.addChild=function(t){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Bc+"px",r.style.height=Bc+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=eT.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=t.accessiblePointerEvents,r.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?r.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(r.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&r.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(r),t._accessibleActive=!0,t._accessibleDiv=r,r.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},e.prototype._onClick=function(t){var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},e.prototype._onKeyDown=function(t){t.keyCode===v9&&this.activate()},e.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();/*!
 * @pixi/ticker - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.TARGET_FPMS=.06;var ji;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(ji||(ji={}));var F_=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=n,this.once=i}return e.prototype.match=function(t,r){return r===void 0&&(r=null),this.fn===t&&this.context===r},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=t?null:r,this.previous=null,r},e}(),gr=function(){function e(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new F_(null,null,1/0),this.deltaMS=1/Te.TARGET_FPMS,this.elapsedMS=1/Te.TARGET_FPMS,this._tick=function(r){t._requestId=null,t.started&&(t.update(r),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,r,n){return n===void 0&&(n=ji.NORMAL),this._addListener(new F_(t,r,n))},e.prototype.addOnce=function(t,r,n){return n===void 0&&(n=ji.NORMAL),this._addListener(new F_(t,r,n,!0))},e.prototype._addListener=function(t){var r=this._head.next,n=this._head;if(!r)t.connect(n);else{for(;r;){if(t.priority>r.priority){t.connect(n);break}n=r,r=r.next}t.previous||t.connect(n)}return this._startIfPossible(),this},e.prototype.remove=function(t,r){for(var n=this._head.next;n;)n.match(t,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,r=this._head;r=r.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Te.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,Te.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),b9=function(){function e(){}return e.init=function(t){var r=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,ji.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?gr.shared:new gr,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e}();/*!
 * @pixi/interaction - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rT=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new It,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var r="buttons"in t&&t.buttons;this.buttons=Number.isInteger(r)?r:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wg=function(e,t){return wg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wg(e,t)};function w9(e,t){wg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var T9=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),U_=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,r){r?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!==0},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),e}(),S9=function(){function e(){this._tempPoint=new It}return e.prototype.recursiveFindHit=function(t,r,n,i,o){if(!r||!r.visible)return!1;var a=t.data.global;o=r.interactive||o;var s=!1,f=o,c=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,c=!1)),f=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(a)||(i=!1)),c&&r.interactiveChildren&&r.children)for(var h=r.children,p=h.length-1;p>=0;p--){var v=h[p],_=this.recursiveFindHit(t,v,n,i,f);if(_){if(!v.parent)continue;f=!1,_&&(t.target&&(i=!1),s=!0)}}return o&&(i&&!t.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(s=!0),r.interactive&&(s&&!t.target&&(t.target=r),n&&n(t,r,!!s))),s},e.prototype.findHit=function(t,r,n,i){this.recursiveFindHit(t,r,n,i,!1)},e}(),C9={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Jt.mixin(C9);var Mc=1,Dc={target:null,data:{global:null}},I9=function(e){w9(t,e);function t(r,n){var i=e.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new rT,i.mouse.identifier=Mc,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Mc]=i.mouse,i.interactionDataPool=[],i.eventData=new T9,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new S9,i._tempDisplayObject=new II,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(r,n){return Dc.target=null,Dc.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Dc,n,null,!0),Dc.target},t.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(gr.system.add(this.tickerUpdate,this,ji.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(gr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},t.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},t.prototype.mapPositionToPoint=function(r,n,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;r.x=(n-o.left)*(this.interactionDOMElement.width/o.width)*a,r.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*a},t.prototype.processInteractive=function(r,n,i,o){var a=this.search.findHit(r,n,i,o),s=this.delayedEvents;if(!s.length)return a;r.stopPropagationHint=!1;var f=s.length;this.delayedEvents=[];for(var c=0;c<f;c++){var h=s[c],p=h.displayObject,v=h.eventString,_=h.eventData;_.stopsPropagatingAt===p&&(_.stopPropagationHint=!0),this.dispatchEvent(p,v,_)}return a},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var o=n.length,a=0;a<o;a++){var s=n[a],f=this.getInteractionDataForPointerId(s),c=this.configureInteractionEventForDOMEvent(this.eventData,s,f);if(c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),s.pointerType==="touch")this.emit("touchstart",c);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var h=s.button===2;this.emit(h?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,n,i){var o=r.data,a=r.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new U_(a)),this.dispatchEvent(n,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var s=o.button===2;s?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,s?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,n,i){for(var o=this.normalizeToPointerData(r),a=o.length,s=r.target!==this.interactionDOMElement?"outside":"",f=0;f<a;f++){var c=o[f],h=this.getInteractionDataForPointerId(c),p=this.configureInteractionEventForDOMEvent(this.eventData,c,h);if(p.data.originalEvent=r,this.processInteractive(p,this.lastObjectRendered,i,n||!s),this.emit(n?"pointercancel":"pointerup"+s,p),c.pointerType==="mouse"||c.pointerType==="pen"){var v=c.button===2;this.emit(v?"rightup"+s:"mouseup"+s,p)}else c.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+s,p),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,n){var i=r.data,o=r.data.identifier;n.trackedPointers[o]!==void 0&&(delete n.trackedPointers[o],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,n,i){var o=r.data,a=r.data.identifier,s=n.trackedPointers[a],f=o.pointerType==="touch",c=o.pointerType==="mouse"||o.pointerType==="pen",h=!1;if(c){var p=o.button===2,v=U_.FLAGS,_=p?v.RIGHT_DOWN:v.LEFT_DOWN,y=s!==void 0&&s.flags&_;i?(this.dispatchEvent(n,p?"rightup":"mouseup",r),y&&(this.dispatchEvent(n,p?"rightclick":"click",r),h=!0)):y&&this.dispatchEvent(n,p?"rightupoutside":"mouseupoutside",r),s&&(p?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),f&&this.dispatchEvent(n,"touchend",r),s&&((!c||h)&&this.dispatchEvent(n,"pointertap",r),f&&(this.dispatchEvent(n,"tap",r),s.over=!1))):s&&(this.dispatchEvent(n,"pointerupoutside",r),f&&this.dispatchEvent(n,"touchendoutside",r)),s&&s.none&&delete n.trackedPointers[a]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,o=0;o<i;o++){var a=n[o],s=this.getInteractionDataForPointerId(a),f=this.configureInteractionEventForDOMEvent(this.eventData,a,s);f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",f),a.pointerType==="touch"&&this.emit("touchmove",f),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",f)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,n,i){var o=r.data,a=o.pointerType==="touch",s=o.pointerType==="mouse"||o.pointerType==="pen";s&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),a&&this.dispatchEvent(n,"touchmove",r),s&&this.dispatchEvent(n,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,n,i){var o=r.data,a=r.data.identifier,s=o.pointerType==="mouse"||o.pointerType==="pen",f=n.trackedPointers[a];i&&!f&&(f=n.trackedPointers[a]=new U_(a)),f!==void 0&&(i&&this.mouseOverRenderer?(f.over||(f.over=!0,this.delayDispatchEvent(n,"pointerover",r),s&&this.delayDispatchEvent(n,"mouseover",r)),s&&this.cursor===null&&(this.cursor=n.cursor)):f.over&&(f.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),s&&this.dispatchEvent(n,"mouseout",r),f.none&&delete n.trackedPointers[a]))},t.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)},t.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Mc||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new rT,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},t.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},t.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,o=r.changedTouches.length;i<o;i++){var a=r.changedTouches[i];typeof a.button=="undefined"&&(a.button=r.touches.length?1:0),typeof a.buttons=="undefined"&&(a.buttons=r.touches.length?1:0),typeof a.isPrimary=="undefined"&&(a.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof a.width=="undefined"&&(a.width=a.radiusX||1),typeof a.height=="undefined"&&(a.height=a.radiusY||1),typeof a.tiltX=="undefined"&&(a.tiltX=0),typeof a.tiltY=="undefined"&&(a.tiltY=0),typeof a.pointerType=="undefined"&&(a.pointerType="touch"),typeof a.pointerId=="undefined"&&(a.pointerId=a.identifier||0),typeof a.pressure=="undefined"&&(a.pressure=a.force||.5),typeof a.twist=="undefined"&&(a.twist=0),typeof a.tangentialPressure=="undefined"&&(a.tangentialPressure=0),typeof a.layerX=="undefined"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY=="undefined"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var s=r;typeof s.isPrimary=="undefined"&&(s.isPrimary=!0),typeof s.width=="undefined"&&(s.width=1),typeof s.height=="undefined"&&(s.height=1),typeof s.tiltX=="undefined"&&(s.tiltX=0),typeof s.tiltY=="undefined"&&(s.tiltY=0),typeof s.pointerType=="undefined"&&(s.pointerType="mouse"),typeof s.pointerId=="undefined"&&(s.pointerId=Mc),typeof s.pressure=="undefined"&&(s.pressure=.5),typeof s.twist=="undefined"&&(s.twist=0),typeof s.tangentialPressure=="undefined"&&(s.tangentialPressure=0),s.isNormalized=!0,n.push(s)}else n.push(r);return n},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(cf);/*!
 * @pixi/runner - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Cr=function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,r,n,i,o,a,s,f){if(arguments.length>8)throw new Error("max arguments reached");var c=this,h=c.name,p=c.items;this._aliasCount++;for(var v=0,_=p.length;v<_;v++)p[v][h](t,r,n,i,o,a,s,f);return p===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Cr.prototype,{dispatch:{value:Cr.prototype.emit},run:{value:Cr.prototype.emit}});/*!
 * @pixi/core - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.PREFER_ENV=si.any?Xi.WEBGL:Xi.WEBGL2;Te.STRICT_TEXTURE_CACHE=!1;var nd=[];function by(e,t){if(!e)return null;var r="";if(typeof e=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(var i=nd.length-1;i>=0;--i){var o=nd[i];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Tg=function(e,t){return Tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Tg(e,t)};function bt(e,t){Tg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Sg=function(){return Sg=Object.assign||function(t){for(var r=arguments,n,i=1,o=arguments.length;i<o;i++){n=r[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Sg.apply(this,arguments)};function R9(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]]);return r}var Qs=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Cr("setRealSize"),this.onUpdate=new Cr("update"),this.onError=new Cr("onError")}return e.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},e.prototype.resize=function(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(t,r,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(t,r){return!1},e}(),cu=function(e){bt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height;if(!a||!s)throw new Error("BufferResource width or height invalid");return i=e.call(this,a,s)||this,i.data=r,i}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Yn.UNPACK);var a=n.realWidth,s=n.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(n.target,0,0,0,a,s,n.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(n.target,0,i.internalFormat,a,s,0,n.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t}(Qs),N9={scaleMode:Di.NEAREST,format:se.RGBA,alphaMode:Yn.NPM},tt=function(e){bt(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=e.call(this)||this;n=n||{};var o=n.alphaMode,a=n.mipmap,s=n.anisotropicLevel,f=n.scaleMode,c=n.width,h=n.height,p=n.wrapMode,v=n.format,_=n.type,y=n.target,E=n.resolution,g=n.resourceOptions;return r&&!(r instanceof Qs)&&(r=by(r,g),r.internal=!0),i.resolution=E||Te.RESOLUTION,i.width=Math.round((c||0)*i.resolution)/i.resolution,i.height=Math.round((h||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:Te.MIPMAP_TEXTURES,i.anisotropicLevel=s!==void 0?s:Te.ANISOTROPIC_LEVEL,i._wrapMode=p||Te.WRAP_MODE,i._scaleMode=f!==void 0?f:Te.SCALE_MODE,i.format=v||se.RGBA,i.type=_||Ce.UNSIGNED_BYTE,i.target=y||ya.TEXTURE_2D,i.alphaMode=o!==void 0?o:Yn.UNPACK,i.uid=Ca(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=c>0&&h>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},t.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=Pw(this.realWidth)&&Pw(this.realHeight)},t.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(r){this.emit("error",this,r)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ta[this.cacheId],delete Oi[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(r,n,i){i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Ca()}a=r._pixiId}var f=ta[a];if(o&&i&&!f)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return f||(f=new t(r,n),f.cacheId=a,t.addToCache(f,a)),f},t.fromBuffer=function(r,n,i,o){r=r||new Float32Array(n*i*4);var a=new cu(r,{width:n,height:i}),s=r instanceof Float32Array?Ce.FLOAT:Ce.UNSIGNED_BYTE;return new t(a,Object.assign(N9,o||{width:n,height:i,type:s}))},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),ta[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),ta[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=ta[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete ta[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)delete ta[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},t._globalBatch=0,t}(cf),wy=function(e){bt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height;i=e.call(this,a,s)||this,i.items=[],i.itemDirtyIds=[];for(var f=0;f<r;f++){var c=new tt;i.items.push(c),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)!r[i]||(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof Qs?this.addResourceAt(r[i],i):this.addResourceAt(by(r[i],n),i))},t.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},t.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=n.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=r.items[0],a=o.realWidth,s=o.realHeight;return r.resize(a,s),Promise.resolve(r)}),this._load},t}(Qs),RI=function(e){bt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height,f,c;return Array.isArray(r)?(f=r,c=r.length):c=r,i=e.call(this,c,{width:a,height:s})||this,f&&i.initFromArray(f,n),i}return t.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=ya.TEXTURE_2D_ARRAY},t.prototype.upload=function(r,n,i){var o=this,a=o.length,s=o.itemDirtyIds,f=o.items,c=r.gl;i.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,n.format,i.type,null);for(var h=0;h<a;h++){var p=f[h];s[h]<p.dirtyId&&(s[h]=p.dirtyId,p.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,h,p.resource.width,p.resource.height,1,n.format,i.type,p.resource.source))}return!0},t}(wy),zi=function(e){bt(t,e);function t(r){var n=this,i=r,o=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=e.call(this,o,a)||this,n.source=r,n.noSubImage=!1,n}return t.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=a9(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(r,n,i,o){var a=r.gl,s=n.realWidth,f=n.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Yn.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===s&&i.height===f?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,i.type,o):(i.width=s,i.height=f,a.texImage2D(n.target,0,i.internalFormat,n.format,i.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Qs),Ty=function(e){bt(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},t}(zi),NI=function(e){bt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,s=o.height,f=o.autoLoad,c=o.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=e.call(this,6,{width:a,height:s})||this;for(var h=0;h<t.SIDES;h++)i.items[h].target=ya.TEXTURE_CUBE_MAP_POSITIVE_X+h;return i.linkBaseTexture=c!==!1,r&&i.initFromArray(r,n),f!==!1&&i.load(),i}return t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=ya.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=ya.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},t.prototype.upload=function(r,n,i){for(var o=this.itemDirtyIds,a=0;a<t.SIDES;a++){var s=this.items[a];o[a]<s.dirtyId&&(s.valid&&s.resource?(s.resource.upload(r,s,i),o[a]=s.dirtyId):o[a]<-1&&(r.gl.texImage2D(s.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[a]=-1))}return!0},t.test=function(r){return Array.isArray(r)&&r.length===t.SIDES},t.SIDES=6,t}(wy),Sy=function(e){bt(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var o=new Image;zi.crossOrigin(o,r,n.crossorigin),o.src=r,r=o}return i=e.call(this,r)||this,!r.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Te.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,o){var a=n.source;n.url=a.src;var s=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?s():(a.onload=s,a.onerror=function(f){o(f),n.onError.emit(f)})}),this._load)},t.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,o=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:o?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===Yn.UNPACK?"premultiply":"none"})}).then(function(a){return r.destroyed?Promise.reject():(r.bitmap=a,r.update(),r._process=null,Promise.resolve(r))}),this._process},t.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var o=!0,a=n._glTextures;for(var s in a){var f=a[s];if(f!==i&&f.dirtyId!==n.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},t}(zi),AI=function(e){bt(t,e);function t(r,n){var i=this;return n=n||{},i=e.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},t.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,n=new Image;zi.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){!r._resolve||(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(!!r._resolve){var i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*r.scale,s=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(a=r._overrideWidth||r._overrideHeight/o*i,s=r._overrideHeight||r._overrideWidth/i*o),a=Math.round(a),s=Math.round(s);var f=r.source;f.width=a,f.height=s,f._pixiId="canvas_"+Ca(),f.getContext("2d").drawImage(n,0,0,i,o,0,0,a,s),r._resolve(),r._resolve=null}}},t.getSize=function(r){var n=t.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&t.SVG_XML.test(r)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(zi),PI=function(e){bt(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var a=r[0].src||r[0];zi.crossOrigin(o,a,n.crossorigin);for(var s=0;s<r.length;++s){var f=document.createElement("source"),c=r[s],h=c.src,p=c.mime;h=h||r[s];var v=h.split("?").shift().toLowerCase(),_=v.slice(v.lastIndexOf(".")+1);p=p||t.MIME_TYPES[_]||"video/"+_,f.src=h,f.type=p,o.appendChild(f)}r=o}return i=e.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(r){if(!this.destroyed){var n=gr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},t.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},t.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},t.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(gr.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(gr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(gr.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(gr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(gr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),t.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(zi),OI=function(e){bt(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},t}(zi);nd.push(Sy,OI,Ty,PI,AI,cu,NI,RI);var LI={__proto__:null,Resource:Qs,BaseImageResource:zi,INSTALLED:nd,autoDetectResource:by,AbstractMultiResource:wy,ArrayResource:RI,BufferResource:cu,CanvasResource:Ty,CubeResource:NI,ImageResource:Sy,SVGResource:AI,VideoResource:PI,ImageBitmapResource:OI},A9=function(e){bt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Yn.UNPACK);var a=n.realWidth,s=n.realHeight;return i.width===a&&i.height===s?o.texSubImage2D(n.target,0,0,0,a,s,n.format,i.type,this.data):(i.width=a,i.height=s,o.texImage2D(n.target,0,i.internalFormat,a,s,0,n.format,i.type,this.data)),!0},t}(cu),Cg=function(){function e(t,r){this.width=Math.round(t||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Cr("disposeFramebuffer"),this.multisample=Qt.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(t,r){return t===void 0&&(t=0),this.colorTextures[t]=r||new tt(null,{scaleMode:Di.NEAREST,resolution:1,mipmap:Vi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(t){return this.depthTexture=t||new tt(new A9(null,{width:this.width,height:this.height}),{scaleMode:Di.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Vi.OFF,format:se.DEPTH_COMPONENT,type:Ce.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,r){if(t=Math.round(t),r=Math.round(r),!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],o=i.resolution;i.setSize(t/o,r/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,r/o)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),kI=function(e){bt(t,e);function t(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];r={width:i,height:o,scaleMode:a,resolution:s}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Qt.NONE,n=e.call(this,null,r)||this,n.mipmap=Vi.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Cg(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return t.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(tt),FI=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(t,r,n){var i=r.width,o=r.height;if(n){var a=t.width/2/i,s=t.height/2/o,f=t.x/i+a,c=t.y/o+s;n=Ut.add(n,Ut.NW),this.x0=f+a*Ut.uX(n),this.y0=c+s*Ut.uY(n),n=Ut.add(n,2),this.x1=f+a*Ut.uX(n),this.y1=c+s*Ut.uY(n),n=Ut.add(n,2),this.x2=f+a*Ut.uX(n),this.y2=c+s*Ut.uY(n),n=Ut.add(n,2),this.x3=f+a*Ut.uX(n),this.y3=c+s*Ut.uY(n)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},e}(),nT=new FI,Re=function(e){bt(t,e);function t(r,n,i,o,a,s){var f=e.call(this)||this;if(f.noFrame=!1,n||(f.noFrame=!0,n=new at(0,0,1,1)),r instanceof t&&(r=r.baseTexture),f.baseTexture=r,f._frame=n,f.trim=o,f.valid=!1,f._uvs=nT,f.uvMatrix=null,f.orig=i||n,f._rotate=Number(a||0),a===!0)f._rotate=2;else if(f._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return f.defaultAnchor=s?new It(s.x,s.y):new It(0,0),f._updateID=0,f.textureCacheIds=[],r.valid?f.noFrame?r.valid&&f.onBaseTextureUpdated(r):f.frame=n:r.once("loaded",f.onBaseTextureUpdated,f),f.noFrame&&r.on("update",f.onBaseTextureUpdated,f),f}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Oi[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},t.prototype.updateUvs=function(){this._uvs===nT&&(this._uvs=new FI),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else if(r instanceof tt){if(!r.cacheId){var s=n&&n.pixiIdPrefix||"pixiid";r.cacheId=s+"-"+Ca(),tt.addToCache(r,r.cacheId)}a=r.cacheId}else{if(!r._pixiId){var s=n&&n.pixiIdPrefix||"pixiid";r._pixiId=s+"_"+Ca()}a=r._pixiId}var f=Oi[a];if(o&&i&&!f)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!f&&!(r instanceof tt)?(n.resolution||(n.resolution=td(r)),f=new t(new tt(r,n)),f.baseTexture.cacheId=a,tt.addToCache(f.baseTexture,a),t.addToCache(f,a)):!f&&r instanceof tt&&(f=new t(r),t.addToCache(f,a)),f},t.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),o=t.from(r,Object.assign({resourceOptions:i},n),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(r,n,i,o){return new t(tt.fromBuffer(r,n,i,o))},t.fromLoader=function(r,n,i,o){var a=new tt(r,Object.assign({scaleMode:Te.SCALE_MODE,resolution:td(n)},o)),s=a.resource;s instanceof Sy&&(s.url=n);var f=new t(a);return i||(i=n),tt.addToCache(f.baseTexture,i),t.addToCache(f,i),i!==n&&(tt.addToCache(f.baseTexture,n),t.addToCache(f,n)),f.baseTexture.valid?Promise.resolve(f):new Promise(function(c){f.baseTexture.once("loaded",function(){return c(f)})})},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Oi[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Oi[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=Oi[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Oi[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)Oi[r.textureCacheIds[o]]===r&&delete Oi[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,o=r.width,a=r.height,s=n+o>this.baseTexture.width,f=i+a>this.baseTexture.height;if(s||f){var c=s&&f?"and":"or",h="X: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.width,p="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(h+" "+c+" "+p))}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(cf);function P9(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Re(new tt(new Ty(e)))}function Gd(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Re.EMPTY=new Re(new tt);Gd(Re.EMPTY);Gd(Re.EMPTY.baseTexture);Re.WHITE=P9();Gd(Re.WHITE);Gd(Re.WHITE.baseTexture);var Ra=function(e){bt(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var o=this.baseTexture.resolution,a=Math.round(r*o)/o,s=Math.round(n*o)/o;this.valid=a>0&&s>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(a,s),this.updateUvs()},t.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},t.create=function(r){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return typeof r=="number"&&(Ia("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new kI(r))},t}(Re),O9=function(){function e(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(t,r,n){n===void 0&&(n=Qt.NONE);var i=new kI(Object.assign({width:t,height:r,resolution:1,multisample:n},this.textureOptions));return new Ra(i)},e.prototype.getOptimalTexture=function(t,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Qt.NONE);var o;t=Math.ceil(t*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=ed(t),r=ed(r),o=((t&65535)<<16|r&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);var a=this.texturePool[o].pop();return a||(a=this.createTexture(t,r,i)),a.filterPoolKey=o,a.setResolution(n),a},e.prototype.getFilterTexture=function(t,r,n){var i=this.getOptimalTexture(t.width,t.height,r||t.resolution,n||Qt.NONE);return i.filterFrame=t.filterFrame,i},e.prototype.returnTexture=function(t){var r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)},e.prototype.returnFilterTexture=function(t){this.returnTexture(t)},e.prototype.clear=function(t){if(t=t!==!1,t)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY=-1,e}(),iT=function(){function e(t,r,n,i,o,a,s){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=Ce.FLOAT),this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=o,this.start=a,this.instance=s}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,n,i,o){return new e(t,r,n,i,o)},e}(),L9=0,rr=function(){function e(t,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=L9++,this.disposeRunner=new Cr("disposeBuffer")}return e.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===hi.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?hi.ELEMENT_ARRAY_BUFFER:hi.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),k9={Float32Array,Uint32Array,Int32Array,Uint8Array};function F9(e,t){for(var r=0,n=0,i={},o=0;o<e.length;o++)n+=t[o],r+=e[o].length;for(var a=new ArrayBuffer(r*4),s=null,f=0,o=0;o<e.length;o++){var c=t[o],h=e[o],p=TI(h);i[p]||(i[p]=new k9[p](a)),s=i[p];for(var v=0;v<h.length;v++){var _=(v/c|0)*n+f,y=v%c;s[_+y]=h[v]}f+=c}return new Float32Array(a)}var oT={5126:4,5123:2,5121:1},U9=0,B9={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},hf=function(){function e(t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=U9++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Cr("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(t,r,n,i,o,a,s,f){if(n===void 0&&(n=0),i===void 0&&(i=!1),f===void 0&&(f=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof rr||(r instanceof Array&&(r=new Float32Array(r)),r=new rr(r));var c=t.split("|");if(c.length>1){for(var h=0;h<c.length;h++)this.addAttribute(c[h],r,n,i,o);return this}var p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[t]=new iT(p,n,i,o,a,s,f),this.instanced=this.instanced||f,this},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},e.prototype.addIndex=function(t){return t instanceof rr||(t instanceof Array&&(t=new Uint16Array(t)),t=new rr(t)),t.type=hi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],r=[],n=new rr,i;for(i in this.attributes){var o=this.attributes[i],a=this.buffers[o.buffer];t.push(a.data),r.push(o.size*oT[o.type]/4),o.buffer=0}for(n.data=F9(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var t in this.attributes){var r=this.attributes[t],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new rr(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];t.attributes[r]=new iT(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=hi.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var r=new e,n=[],i=[],o=[],a,s=0;s<t.length;s++){a=t[s];for(var f=0;f<a.buffers.length;f++)i[f]=i[f]||0,i[f]+=a.buffers[f].data.length,o[f]=0}for(var s=0;s<a.buffers.length;s++)n[s]=new B9[TI(a.buffers[s].data)](i[s]),r.buffers[s]=new rr(n[s]);for(var s=0;s<t.length;s++){a=t[s];for(var f=0;f<a.buffers.length;f++)n[f].set(a.buffers[f].data,o[f]),o[f]+=a.buffers[f].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=hi.ELEMENT_ARRAY_BUFFER;for(var c=0,h=0,p=0,v=0,s=0;s<a.buffers.length;s++)if(a.buffers[s]!==a.indexBuffer){v=s;break}for(var s in a.attributes){var _=a.attributes[s];(_.buffer|0)===v&&(h+=_.size*oT[_.type]/4)}for(var s=0;s<t.length;s++){for(var y=t[s].indexBuffer.data,f=0;f<y.length;f++)r.indexBuffer.data[f+p]+=c;c+=t[s].buffers[v].data.length/h,p+=y.length}}return r},e}(),M9=function(e){bt(t,e);function t(){var r=e.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return t}(hf),UI=function(e){bt(t,e);function t(){var r=e.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new rr(r.vertices),r.uvBuffer=new rr(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return t.prototype.map=function(r,n){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+n.width/r.width,this.uvs[3]=o,this.uvs[4]=i+n.width/r.width,this.uvs[5]=o+n.height/r.height,this.uvs[6]=i,this.uvs[7]=o+n.height/r.height,i=n.x,o=n.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+n.width,this.vertices[3]=o,this.vertices[4]=i+n.width,this.vertices[5]=o+n.height,this.vertices[6]=i,this.vertices[7]=o+n.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(hf),D9=0,xa=function(){function e(t,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=D9++,this.static=!!r,this.ubo=!!n,t instanceof rr?(this.buffer=t,this.buffer.type=hi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new rr(new Float32Array(1)),this.buffer.type=hi.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,r,n){if(!this.ubo)this.uniforms[t]=new e(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},e.from=function(t,r,n){return new e(t,r,n)},e.uboFrom=function(t,r){return new e(t,r!=null?r:!0,!0)},e}(),G9=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Qt.NONE,this.sourceFrame=new at,this.destinationFrame=new at,this.bindingSourceFrame=new at,this.bindingDestinationFrame=new at,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Gc=[new It,new It,new It,new It],B_=new Zt,BI=function(){function e(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new O9,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new M9,this.quadUv=new UI,this.tempRect=new at,this.activeState={},this.globalUniforms=new xa({outputFrame:new at,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(t,r){for(var n,i,o=this.renderer,a=this.defaultFilterStack,s=this.statePool.pop()||new G9,f=this.renderer.renderTexture,c=r[0].resolution,h=r[0].multisample,p=r[0].padding,v=r[0].autoFit,_=(n=r[0].legacy)!==null&&n!==void 0?n:!0,y=1;y<r.length;y++){var E=r[y];c=Math.min(c,E.resolution),h=Math.min(h,E.multisample),p=this.useMaxPadding?Math.max(p,E.padding):p+E.padding,v=v&&E.autoFit,_=_||((i=E.legacy)!==null&&i!==void 0?i:!0)}if(a.length===1&&(this.defaultFilterStack[0].renderTexture=f.current),a.push(s),s.resolution=c,s.multisample=h,s.legacy=_,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(p),v){var g=this.tempRect.copyFrom(f.sourceFrame);o.projection.transform&&this.transformAABB(B_.copyFrom(o.projection.transform).invert(),g),s.sourceFrame.fit(g)}this.roundFrame(s.sourceFrame,f.current?f.current.resolution:o.resolution,f.sourceFrame,f.destinationFrame,o.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,h),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;var x=this.tempRect;x.x=0,x.y=0,x.width=s.sourceFrame.width,x.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(f.sourceFrame),s.bindingDestinationFrame.copyFrom(f.destinationFrame),s.transform=o.projection.transform,o.projection.transform=null,f.bind(s.renderTexture,s.sourceFrame,x),o.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var o=i.inputSize,a=i.inputPixel,s=i.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*r.resolution),a[1]=Math.round(o[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],s[0]=.5*a[2],s[1]=.5*a[3],s[2]=r.sourceFrame.width*o[2]-.5*a[2],s[3]=r.sourceFrame.height*o[3]-.5*a[3],r.legacy){var f=i.filterArea;f[0]=r.destinationFrame.width,f[1]=r.destinationFrame.height,f[2]=r.sourceFrame.x,f[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,lo.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var h=r.renderTexture,p=this.getOptimalFilterTexture(h.width,h.height,r.resolution);p.filterFrame=h.filterFrame;var v=0;for(v=0;v<n.length-1;++v){v===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(h.width,h.height,r.resolution),p.filterFrame=h.filterFrame),n[v].apply(this,h,p,lo.CLEAR,r);var _=h;h=p,p=_}n[v].apply(this,h,c.renderTexture,lo.BLEND,r),v>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)},e.prototype.bindAndClear=function(t,r){r===void 0&&(r=lo.CLEAR);var n=this.renderer,i=n.renderTexture,o=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=t.filterFrame.width,a.height=t.filterFrame.height,i.bind(t,t.filterFrame,a)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=o.stateId&1||this.forceClear;(r===lo.CLEAR||r===lo.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,r,n,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(zn.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(zn.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,r){var n=this.activeState,i=n.sourceFrame,o=n.destinationFrame,a=r._texture.orig,s=t.set(o.width,0,0,o.height,i.x,i.y),f=r.worldTransform.copyTo(Zt.TEMP_MATRIX);return f.invert(),s.prepend(f),s.scale(1/a.width,1/a.height),s.translate(r.anchor.x,r.anchor.y),s},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Qt.NONE),this.texturePool.getOptimalTexture(t,r,n,i)},e.prototype.getFilterTexture=function(t,r,n){if(typeof t=="number"){var i=t;t=r,r=i}t=t||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,n||Qt.NONE);return o.filterFrame=t.filterFrame,o},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,r){var n=Gc[0],i=Gc[1],o=Gc[2],a=Gc[3];n.set(r.left,r.top),i.set(r.left,r.bottom),o.set(r.right,r.top),a.set(r.right,r.bottom),t.apply(n,n),t.apply(i,i),t.apply(o,o),t.apply(a,a);var s=Math.min(n.x,i.x,o.x,a.x),f=Math.min(n.y,i.y,o.y,a.y),c=Math.max(n.x,i.x,o.x,a.x),h=Math.max(n.y,i.y,o.y,a.y);r.x=s,r.y=f,r.width=c-s,r.height=h-f},e.prototype.roundFrame=function(t,r,n,i,o){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(o){var a=o.a,s=o.b,f=o.c,c=o.d;if((Math.abs(s)>1e-4||Math.abs(f)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(c)>1e-4))return}o=o?B_.copyFrom(o):B_.identity(),o.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(o,t),t.ceil(r),this.transformAABB(o.invert(),t)}},e}(),Hd=function(){function e(t){this.renderer=t}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(t){},e}(),MI=function(){function e(t){this.renderer=t,this.emptyRenderer=new Hd(t),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,r,n,i){for(var o=t.elements,a=t.ids,s=t.count,f=0,c=0;c<s;c++){var h=o[c],p=h._batchLocation;if(p>=0&&p<i&&r[p]===h){a[c]=p;continue}for(;f<i;){var v=r[f];if(v&&v._batchEnabled===n&&v._batchLocation===f){f++;continue}a[c]=f,h._batchLocation=f,r[f]=h;break}}},e.prototype.destroy=function(){this.renderer=null},e}(),aT=0,DI=function(){function e(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=aT++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=aT++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var r=this.createContext(this.renderer.view,t);this.initFromContext(r)},e.prototype.createContext=function(t,r){var n;if(Te.PREFER_ENV>=Xi.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,r={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var r=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),H9=function(){function e(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Qt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return e}(),$9=new at,GI=function(){function e(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new Cg(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new at,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Te.PREFER_ENV===Xi.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,r,n){n===void 0&&(n=0);var i=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=n),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var a=0;a<t.colorTextures.length;a++){var s=t.colorTextures[a];this.renderer.texture.unbind(s.parentTextureArray||s)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){var f=r.width>>n,c=r.height>>n,h=f/r.width;this.setViewport(r.x*h,r.y*h,f,c)}else{var f=t.width>>n,c=t.height>>n;this.setViewport(0,0,f,c)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,r,n,i){var o=this.viewport;t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),(o.width!==n||o.height!==i||o.x!==t||o.y!==r)&&(o.x=t,o.y=r,o.width=n,o.height=i,this.gl.viewport(t,r,n,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,r,n,i,o){o===void 0&&(o=Jh.COLOR|Jh.DEPTH);var a=this.gl;a.clearColor(t,r,n,i),a.clear(o)},e.prototype.initFramebuffer=function(t){var r=this.gl,n=new H9(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(t){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,t.width,t.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1));for(var a=0;a<o;a++){var s=i[a],f=s.parentTextureArray||s;this.renderer.texture.bind(f,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t,r){var n=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,a=o.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var s=[],f=0;f<a;f++){var c=o[f],h=c.parentTextureArray||c;this.renderer.texture.bind(h,0),!(f===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,c.target,h._glTextures[this.CONTEXT_UID].texture,r),s.push(n.COLOR_ATTACHMENT0+f))}if(s.length>1&&n.drawBuffers(s),t.depthTexture){var p=this.writeDepthTexture;if(p){var v=t.depthTexture;this.renderer.texture.bind(v,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,r)}}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},e.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},e.prototype.detectSamples=function(t){var r=this.msaaSamples,n=Qt.NONE;if(t<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=t){n=r[i];break}return n===1&&(n=Qt.NONE),n},e.prototype.blit=function(t,r,n){var i=this,o=i.current,a=i.renderer,s=i.gl,f=i.CONTEXT_UID;if(a.context.webGLVersion===2&&!!o){var c=o.glFramebuffers[f];if(!!c){if(!t){if(!c.msaaBuffer)return;var h=o.colorTextures[0];if(!h)return;c.blitFramebuffer||(c.blitFramebuffer=new Cg(o.width,o.height),c.blitFramebuffer.addColorTexture(0,h)),t=c.blitFramebuffer,t.colorTextures[0]!==h&&(t.colorTextures[0]=h,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}r||(r=$9,r.width=o.width,r.height=o.height),n||(n=r);var p=r.width===n.width&&r.height===n.height;this.bind(t),s.bindFramebuffer(s.READ_FRAMEBUFFER,c.framebuffer),s.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,s.COLOR_BUFFER_BIT,p?s.NEAREST:s.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,r){var n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!!n){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(t){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)},e.prototype.forceStencil=function(){var t=this.current;if(!!t){var r=t.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){t.stencil=!0;var n=t.width,i=t.height,o=this.gl,a=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,o.DEPTH24_STENCIL8,n,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,i),r.stencil=a,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,a)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new at},e.prototype.destroy=function(){this.renderer=null},e}(),M_={5126:4,5123:2,5121:1},HI=function(){function e(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Te.PREFER_ENV===Xi.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(o,a){return i.vertexAttribDivisorANGLE(o,a)},t.drawElementsInstanced=function(o,a,s,f,c){return i.drawElementsInstancedANGLE(o,a,s,f,c)},t.drawArraysInstanced=function(o,a,s,f){return i.drawArraysInstancedANGLE(o,a,s,f)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},e.prototype.bind=function(t,r){r=r||this.renderer.shader.shader;var n=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var a=i[r.program.id]||this.initGeometryVao(t,r,o);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(t,r.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,r=this.renderer.buffer,n=0;n<t.buffers.length;n++){var i=t.buffers[n];r.update(i)}},e.prototype.checkCompatibility=function(t,r){var n=t.attributes,i=r.attributeData;for(var o in i)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},e.prototype.getSignature=function(t,r){var n=t.attributes,i=r.attributeData,o=["g",t.id];for(var a in n)i[a]&&o.push(a,i[a].location);return o.join("-")},e.prototype.initGeometryVao=function(t,r,n){n===void 0&&(n=!0);var i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,s=r.program;s.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,s);var f=this.getSignature(t,s),c=t.glVertexArrayObjects[this.CONTEXT_UID],h=c[f];if(h)return c[s.id]=h,h;var p=t.buffers,v=t.attributes,_={},y={};for(var E in p)_[E]=0,y[E]=0;for(var E in v)!v[E].size&&s.attributeData[E]?v[E].size=s.attributeData[E].size:v[E].size||console.warn("PIXI Geometry attribute '"+E+"' size cannot be determined (likely the bound shader does not have the attribute)"),_[v[E].buffer]+=v[E].size*M_[v[E].type];for(var E in v){var g=v[E],x=g.size;g.stride===void 0&&(_[g.buffer]===x*M_[g.type]?g.stride=0:g.stride=_[g.buffer]),g.start===void 0&&(g.start=y[g.buffer],y[g.buffer]+=x*M_[g.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(var w=0;w<p.length;w++){var I=p[w];a.bind(I),n&&I._glBuffers[o].refCount++}return this.activateVao(t,s),this._activeVao=h,c[s.id]=h,c[f]=h,h},e.prototype.disposeGeometry=function(t,r){var n;if(!!this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=t.buffers,s=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(t.disposeRunner.remove(this),!!i){if(s)for(var f=0;f<a.length;f++){var c=a[f]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(a[f],r))}if(!r){for(var h in i)if(h[0]==="g"){var p=i[h];this._activeVao===p&&this.unbind(),o.deleteVertexArray(p)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t)},e.prototype.activateVao=function(t,r){var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.buffers,s=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var f=null;for(var c in s){var h=s[c],p=a[h.buffer],v=p._glBuffers[i];if(r.attributeData[c]){f!==v&&(o.bind(p),f=v);var _=r.attributeData[c].location;if(n.enableVertexAttribArray(_),n.vertexAttribPointer(_,h.size,h.type||n.FLOAT,h.normalized,h.stride,h.start),h.instance)if(this.hasInstance)n.vertexAttribDivisor(_,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(t,r,n,i){var o=this.gl,a=this._activeGeometry;if(a.indexBuffer){var s=a.indexBuffer.data.BYTES_PER_ELEMENT,f=s===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;s===2||s===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(t,r||a.indexBuffer.data.length,f,(n||0)*s,i||1):o.drawElements(t,r||a.indexBuffer.data.length,f,(n||0)*s):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(t,n,r||a.getSize(),i||1):o.drawArrays(t,n,r||a.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),X9=function(){function e(t){t===void 0&&(t=null),this.type=Tr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Te.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Tr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function sT(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function uT(e,t){var r=e.getShaderSource(t).split(`
`).map(function(c,h){return h+": "+c}),n=e.getShaderInfoLog(t),i=n.split(`
`),o={},a=i.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return c&&!o[c]?(o[c]=!0,!0):!1}),s=[""];a.forEach(function(c){r[c-1]="%c"+r[c-1]+"%c",s.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var f=r.join(`
`);s[0]=f,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,s),console.groupEnd()}function V9(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||uT(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||uT(e,n),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function D_(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function $I(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return D_(2*t);case"bvec3":return D_(3*t);case"bvec4":return D_(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var XI={},Yu=XI;function j9(){if(Yu===XI||Yu&&Yu.isContextLost()){var e=document.createElement("canvas"),t=void 0;Te.PREFER_ENV>=Xi.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Yu=t}return Yu}var Hc;function z9(){if(!Hc){Hc=ui.MEDIUM;var e=j9();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Hc=t.precision?ui.HIGH:ui.MEDIUM}}return Hc}function lT(e,t,r){if(e.substring(0,9)!=="precision"){var n=t;return t===ui.HIGH&&r!==ui.HIGH&&(n=ui.MEDIUM),"precision "+n+` float;
`+e}else if(r!==ui.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var W9={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function VI(e){return W9[e]}var $c=null,fT={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function jI(e,t){if(!$c){var r=Object.keys(fT);$c={};for(var n=0;n<r.length;++n){var i=r[n];$c[e[i]]=fT[i]}}return $c[t]}var Xs=[{test:function(e){return e.type==="float"&&e.size===1},code:function(e){return`
            if(uv["`+e+'"] !== ud["'+e+`"].value)
            {
                ud["`+e+'"].value = uv["'+e+`"]
                gl.uniform1f(ud["`+e+'"].location, uv["'+e+`"])
            }
            `}},{test:function(e){return(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray},code:function(e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+e+`"], t);

            if(ud["`+e+`"].value !== t)
            {
                ud["`+e+`"].value = t;
                gl.uniform1i(ud["`+e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(e,t){return e.type==="mat3"&&e.size===1&&t.a!==void 0},code:function(e){return`
            gl.uniformMatrix3fv(ud["`+e+'"].location, false, uv["'+e+`"].toArray(true));
            `},codeUbo:function(e){return`
                var `+e+"_matrix = uv."+e+`.toArray(true);

                data[offset] = `+e+`_matrix[0];
                data[offset+1] = `+e+`_matrix[1];
                data[offset+2] = `+e+`_matrix[2];
        
                data[offset + 4] = `+e+`_matrix[3];
                data[offset + 5] = `+e+`_matrix[4];
                data[offset + 6] = `+e+`_matrix[5];
        
                data[offset + 8] = `+e+`_matrix[6];
                data[offset + 9] = `+e+`_matrix[7];
                data[offset + 10] = `+e+`_matrix[8];
            `}},{test:function(e,t){return e.type==="vec2"&&e.size===1&&t.x!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+e+`"].location, v.x, v.y);
                }`},codeUbo:function(e){return`
                v = uv.`+e+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(e){return e.type==="vec2"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+e+`"].location, v[0], v[1]);
                }
            `}},{test:function(e,t){return e.type==="vec4"&&e.size===1&&t.width!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+e+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(e){return`
                    v = uv.`+e+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(e){return e.type==="vec4"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],Y9={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},q9={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function K9(e,t){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in e.uniforms){var o=t[i];if(!o){!((r=e.uniforms[i])===null||r===void 0)&&r.group&&(e.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=e.uniforms[i],s=!1,f=0;f<Xs.length;f++)if(Xs[f].test(o,a)){n.push(Xs[f].code(i,a)),s=!0;break}if(!s){var c=o.size===1?Y9:q9,h=c[o.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+h+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var Z9=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function J9(e){for(var t="",r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+="if(test == "+r+".0){}");return t}function Q9(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var n=Z9.replace(/%forloop%/gi,J9(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}var qu;function eH(){if(typeof qu=="boolean")return qu;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");qu=e({a:"b"},"a","b")===!0}catch{qu=!1}return qu}var tH=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,rH=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,nH=0,Xc={},df=function(){function e(t,r,n){n===void 0&&(n="pixi-shader"),this.id=nH++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Xc[n]?(Xc[n]++,n+="-"+Xc[n]):Xc[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=lT(this.vertexSrc,Te.PRECISION_VERTEX,ui.HIGH),this.fragmentSrc=lT(this.fragmentSrc,Te.PRECISION_FRAGMENT,z9())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return rH},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return tH},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=t+r,o=kw[i];return o||(kw[i]=o=new e(t,r,n)),o},e}(),Co=function(){function e(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof xa?this.uniformGroup=r:this.uniformGroup=new xa(r):this.uniformGroup=new xa({})}return e.prototype.checkUniformExists=function(t,r){if(r.uniforms[t])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=df.from(t,r);return new e(i,n)},e}(),G_=0,H_=1,$_=2,X_=3,V_=4,j_=5,ka=function(){function e(){this.data=0,this.blendMode=Ie.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<G_)},set:function(t){!!(this.data&1<<G_)!==t&&(this.data^=1<<G_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<H_)},set:function(t){!!(this.data&1<<H_)!==t&&(this.data^=1<<H_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<$_)},set:function(t){!!(this.data&1<<$_)!==t&&(this.data^=1<<$_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<X_)},set:function(t){!!(this.data&1<<X_)!==t&&(this.data^=1<<X_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<j_)},set:function(t){!!(this.data&1<<j_)!==t&&(this.data^=1<<j_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<V_)},set:function(t){!!(this.data&1<<V_)!==t&&(this.data^=1<<V_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==Ie.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),iH=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,oH=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Ho=function(e){bt(t,e);function t(r,n,i){var o=this,a=df.from(r||t.defaultVertexSrc,n||t.defaultFragmentSrc);return o=e.call(this,a,i)||this,o.padding=0,o.resolution=Te.FILTER_RESOLUTION,o.multisample=Te.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new ka,o}return t.prototype.apply=function(r,n,i,o,a){r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return iH},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return oH},enumerable:!1,configurable:!0}),t}(Co),aH=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,sH=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,cT=new Zt,Cy=function(){function e(t,r){this._texture=t,this.mapCoord=new Zt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r=="undefined"?.5:r,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(t,r){r===void 0&&(r=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];r[i]=o*n.a+a*n.c+n.tx,r[i+1]=o*n.b+a*n.d+n.ty}return r},e.prototype.update=function(t){var r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,o=r.trim;o&&(cT.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(cT));var a=r.baseTexture,s=this.uClampFrame,f=this.clampMargin/a.resolution,c=this.clampOffset;return s[0]=(r._frame.x+f+c)/a.width,s[1]=(r._frame.y+f+c)/a.height,s[2]=(r._frame.x+r._frame.width-f+c)/a.width,s[3]=(r._frame.y+r._frame.height-f+c)/a.height,this.uClampOffset[0]=c/a.realWidth,this.uClampOffset[1]=c/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0},e}(),uH=function(e){bt(t,e);function t(r,n,i){var o=this,a=null;return typeof r!="string"&&n===void 0&&i===void 0&&(a=r,r=void 0,n=void 0,i=void 0),o=e.call(this,r||aH,n||sH,i)||this,o.maskSprite=a,o.maskMatrix=new Zt,o}return Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(r,n,i,o){var a=this._maskSprite,s=a._texture;!s.valid||(s.uvMatrix||(s.uvMatrix=new Cy(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,a).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,r.applyFilter(this,n,i,o))},t}(Ho),zI=function(){function e(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new X9;i.pooled=!0,i.maskObject=r,n=i}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(o),n.autoDetect&&this.detect(n),n._target=t,n.type!==Tr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Tr.SCISSOR:this.renderer.scissor.push(n);break;case Tr.STENCIL:this.renderer.stencil.push(n);break;case Tr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===Tr.SPRITE&&this.maskStack.push(n)},e.prototype.pop=function(t){var r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case Tr.SCISSOR:this.renderer.scissor.pop();break;case Tr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Tr.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Tr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},e.prototype.detect=function(t){var r=t.maskObject;r.isSprite?t.type=Tr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Tr.SCISSOR:t.type=Tr.STENCIL},e.prototype.pushSpriteMask=function(t){var r,n,i=t.maskObject,o=t._target,a=t._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new uH]));var s=this.renderer,f=s.renderTexture,c,h;if(f.current){var p=f.current;c=t.resolution||p.resolution,h=(r=t.multisample)!==null&&r!==void 0?r:p.multisample}else c=t.resolution||s.resolution,h=(n=t.multisample)!==null&&n!==void 0?n:s.multisample;a[0].resolution=c,a[0].multisample=h,a[0].maskSprite=i;var v=o.filterArea;o.filterArea=i.getBounds(!0),s.filter.push(o,a),o.filterArea=v,t._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.destroy=function(){this.renderer=null},e}(),WI=function(){function e(t){this.renderer=t,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),hT=new Zt,YI=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},t.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,o=this.renderer,a=o.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,a.current?a.current.resolution:o.resolution,a.sourceFrame,a.destinationFrame,o.projection.transform),i.renderable=!1,n&&s.fit(n),r._scissorRectLocal=s}},t.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,o=r.c,a=r.d;return(Math.abs(i)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(a)>1e-4)},t.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||t.isMatrixRotated(n.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(r,n,i,o,a){t.isMatrixRotated(a)||(a=a?hT.copyFrom(a):hT.identity(),a.translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,r),r.fit(o),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},t.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},t.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},t}(WI),qI=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},t.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,o=r._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},t.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t}(WI),KI=function(){function e(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Zt,this.transform=null}return e.prototype.update=function(t,r,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,r,n,i){var o=this.projectionMatrix,a=i?-1:1;o.identity(),o.a=1/r.width*2,o.d=a*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-a-r.y*o.d},e.prototype.setTransform=function(t){},e.prototype.destroy=function(){this.renderer=null},e}(),ra=new at,Ku=new at,ZI=function(){function e(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new at,this.destinationFrame=new at,this.viewportFrame=new at}return e.prototype.bind=function(t,r,n){t===void 0&&(t=null);var i=this.renderer;this.current=t;var o,a,s;t?(o=t.baseTexture,s=o.resolution,r||(ra.width=t.frame.width,ra.height=t.frame.height,r=ra),n||(Ku.x=t.frame.x,Ku.y=t.frame.y,Ku.width=r.width,Ku.height=r.height,n=Ku),a=o.framebuffer):(s=i.resolution,r||(ra.width=i.screen.width,ra.height=i.screen.height,r=ra),n||(n=ra,n.width=r.width,n.height=r.height));var f=this.viewportFrame;f.x=n.x*s,f.y=n.y*s,f.width=n.width*s,f.height=n.height*s,t||(f.y=i.view.height-(f.y+f.height)),f.ceil(),this.renderer.framebuffer.bind(a,f),this.renderer.projection.update(n,r,s,!a),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(t,r){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=n.width!==i.width||n.height!==i.height;if(o){var a=this.viewportFrame,s=a.x,f=a.y,c=a.width,h=a.height;s=Math.round(s),f=Math.round(f),c=Math.round(c),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(s,f,c,h)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],r),o&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function lH(e,t,r,n,i){r.buffer.update(i)}var fH={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},JI={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function cH(e){for(var t=e.map(function(f){return{data:f,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,o=0;o<t.length;o++){var a=t[o];if(r=JI[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){var s=n%r%16;n+=s,i+=s}n+r>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function hH(e,t){var r=[];for(var n in e)t[n]&&r.push(t[n]);return r.sort(function(i,o){return i.index-o.index}),r}function dH(e,t){if(!e.autoManage)return{size:0,syncFunc:lH};for(var r=hH(e.uniforms,t),n=cH(r),i=n.uboElements,o=n.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],s=0;s<i.length;s++){for(var f=i[s],c=e.uniforms[f.data.name],h=f.data.name,p=!1,v=0;v<Xs.length;v++){var _=Xs[v];if(_.codeUbo&&_.test(f.data,c)){a.push("offset = "+f.offset/4+";",Xs[v].codeUbo(f.data.name,c)),p=!0;break}}if(!p)if(f.data.size>1){var y=VI(f.data.type),E=Math.max(JI[f.data.type]/16,1),g=y/E,x=(4-g%4)%4;a.push(`
                cv = ud.`+h+`.value;
                v = uv.`+h+`;
                offset = `+f.offset/4+`;

                t = 0;

                for(var i=0; i < `+f.data.size*E+`; i++)
                {
                    for(var j = 0; j < `+g+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+x+`;
                }

                `)}else{var w=fH[f.data.type];a.push(`
                cv = ud.`+h+`.value;
                v = uv.`+h+`;
                offset = `+f.offset/4+`;
                `+w+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var pH=function(){function e(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function vH(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i);if(o.name.indexOf("gl_")!==0){var a=jI(t,o.type),s={type:a,name:o.name,size:VI(a),location:t.getAttribLocation(e,o.name)};r[o.name]=s}}return r}function _H(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),s=!!o.name.match(/\[.*?\]$/),f=jI(t,o.type);r[a]={name:a,index:i,type:f,size:o.size,isArray:s,value:$I(f,o.size)}}return r}function mH(e,t){var r=sT(e,e.VERTEX_SHADER,t.vertexSrc),n=sT(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,n),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||V9(e,i,r,n),t.attributeData=vH(i,e),t.uniformData=_H(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(h,p){return h>p?1:-1});for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);var s={};for(var a in t.uniformData){var f=t.uniformData[a];s[a]={location:e.getUniformLocation(i,a),value:$I(f.type,f.size)}}var c=new pH(i,s);return c}var gH=0,Vc={textureCount:0,uboCount:0},QI=function(){function e(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=gH++}return e.prototype.systemCheck=function(){if(!eH())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,r){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Vc.textureCount=0,Vc.uboCount=0,this.syncUniformGroup(t.uniformGroup,Vc)),i},e.prototype.setUniforms=function(t){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,r){var n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))},e.prototype.syncUniforms=function(t,r,n){var i=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);i(r.uniformData,t.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(t){var r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=K9(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(t,r){var n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;var i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,r);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,Vc,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[r])},e.prototype.createSyncBufferGroup=function(t,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(t,this.shader.program.uniformData,"ubo"),s=this._uboCache[a];if(s||(s=this._uboCache[a]=dH(t,this.shader.program.uniformData)),t.autoManage){var f=new Float32Array(s.size/4);t.buffer.update(f)}return r.uniformGroups[t.id]=s.syncFunc,r.uniformGroups[t.id]},e.prototype.getSignature=function(t,r,n){var i=t.uniforms,o=[n+"-"];for(var a in i)o.push(a),r[a]&&o.push(r[a].type);return o.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(t){var r=this.gl,n=t.program,i=mH(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function yH(e,t){return t===void 0&&(t=[]),t[Ie.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.ADD]=[e.ONE,e.ONE],t[Ie.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.NONE]=[0,0],t[Ie.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[Ie.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Ie.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[Ie.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[Ie.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Ie.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[Ie.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[Ie.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[Ie.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[Ie.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Ie.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var xH=0,EH=1,bH=2,wH=3,TH=4,SH=5,eR=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ie.NONE,this._blendEq=!1,this.map=[],this.map[xH]=this.setBlend,this.map[EH]=this.setOffset,this.map[bH]=this.setCullFace,this.map[wH]=this.setDepthTest,this.map[TH]=this.setFrontFace,this.map[SH]=this.setDepthMask,this.checks=[],this.defaultState=new ka,this.defaultState.blend=!0}return e.prototype.contextChange=function(t){this.gl=t,this.blendModes=yH(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var r=this.stateId^t.data,n=0;r;)r&1&&this.map[n].call(this,!!(t.data&1<<n)),r=r>>1,n++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(t.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var r=this.blendModes[t],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,r){this.gl.polygonOffset(t,r)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,r){var n=this.checks.indexOf(t);r&&n===-1?this.checks.push(t):!r&&n!==-1&&this.checks.splice(n,1)},e.checkBlendMode=function(t,r){t.setBlendMode(r.blendMode)},e.checkPolygonOffset=function(t,r){t.setPolygonOffset(1,r.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),tR=function(){function e(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Te.GC_MAX_IDLE,this.checkCountMax=Te.GC_MAX_CHECK_COUNT,this.mode=Te.GC_MODE}return e.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==yg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,r=t.managedTextures,n=!1,i=0;i<r.length;i++){var o=r[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),r[i]=null,n=!0)}if(n){for(var a=0,i=0;i<r.length;i++)r[i]!==null&&(r[a++]=r[i]);r.length=a}},e.prototype.unload=function(t){var r=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e.prototype.destroy=function(){this.renderer=null},e}();function CH(e){var t,r,n,i,o,a,s,f,c,h,p,v,_,y,E,g,x,w,I,P,N,R,M;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?M=(t={},t[Ce.UNSIGNED_BYTE]=(r={},r[se.RGBA]=e.RGBA8,r[se.RGB]=e.RGB8,r[se.RG]=e.RG8,r[se.RED]=e.R8,r[se.RGBA_INTEGER]=e.RGBA8UI,r[se.RGB_INTEGER]=e.RGB8UI,r[se.RG_INTEGER]=e.RG8UI,r[se.RED_INTEGER]=e.R8UI,r[se.ALPHA]=e.ALPHA,r[se.LUMINANCE]=e.LUMINANCE,r[se.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,r),t[Ce.BYTE]=(n={},n[se.RGBA]=e.RGBA8_SNORM,n[se.RGB]=e.RGB8_SNORM,n[se.RG]=e.RG8_SNORM,n[se.RED]=e.R8_SNORM,n[se.RGBA_INTEGER]=e.RGBA8I,n[se.RGB_INTEGER]=e.RGB8I,n[se.RG_INTEGER]=e.RG8I,n[se.RED_INTEGER]=e.R8I,n),t[Ce.UNSIGNED_SHORT]=(i={},i[se.RGBA_INTEGER]=e.RGBA16UI,i[se.RGB_INTEGER]=e.RGB16UI,i[se.RG_INTEGER]=e.RG16UI,i[se.RED_INTEGER]=e.R16UI,i[se.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[Ce.SHORT]=(o={},o[se.RGBA_INTEGER]=e.RGBA16I,o[se.RGB_INTEGER]=e.RGB16I,o[se.RG_INTEGER]=e.RG16I,o[se.RED_INTEGER]=e.R16I,o),t[Ce.UNSIGNED_INT]=(a={},a[se.RGBA_INTEGER]=e.RGBA32UI,a[se.RGB_INTEGER]=e.RGB32UI,a[se.RG_INTEGER]=e.RG32UI,a[se.RED_INTEGER]=e.R32UI,a[se.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[Ce.INT]=(s={},s[se.RGBA_INTEGER]=e.RGBA32I,s[se.RGB_INTEGER]=e.RGB32I,s[se.RG_INTEGER]=e.RG32I,s[se.RED_INTEGER]=e.R32I,s),t[Ce.FLOAT]=(f={},f[se.RGBA]=e.RGBA32F,f[se.RGB]=e.RGB32F,f[se.RG]=e.RG32F,f[se.RED]=e.R32F,f[se.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,f),t[Ce.HALF_FLOAT]=(c={},c[se.RGBA]=e.RGBA16F,c[se.RGB]=e.RGB16F,c[se.RG]=e.RG16F,c[se.RED]=e.R16F,c),t[Ce.UNSIGNED_SHORT_5_6_5]=(h={},h[se.RGB]=e.RGB565,h),t[Ce.UNSIGNED_SHORT_4_4_4_4]=(p={},p[se.RGBA]=e.RGBA4,p),t[Ce.UNSIGNED_SHORT_5_5_5_1]=(v={},v[se.RGBA]=e.RGB5_A1,v),t[Ce.UNSIGNED_INT_2_10_10_10_REV]=(_={},_[se.RGBA]=e.RGB10_A2,_[se.RGBA_INTEGER]=e.RGB10_A2UI,_),t[Ce.UNSIGNED_INT_10F_11F_11F_REV]=(y={},y[se.RGB]=e.R11F_G11F_B10F,y),t[Ce.UNSIGNED_INT_5_9_9_9_REV]=(E={},E[se.RGB]=e.RGB9_E5,E),t[Ce.UNSIGNED_INT_24_8]=(g={},g[se.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,g),t[Ce.FLOAT_32_UNSIGNED_INT_24_8_REV]=(x={},x[se.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,x),t):M=(w={},w[Ce.UNSIGNED_BYTE]=(I={},I[se.RGBA]=e.RGBA,I[se.RGB]=e.RGB,I[se.ALPHA]=e.ALPHA,I[se.LUMINANCE]=e.LUMINANCE,I[se.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,I),w[Ce.UNSIGNED_SHORT_5_6_5]=(P={},P[se.RGB]=e.RGB,P),w[Ce.UNSIGNED_SHORT_4_4_4_4]=(N={},N[se.RGBA]=e.RGBA,N),w[Ce.UNSIGNED_SHORT_5_5_5_1]=(R={},R[se.RGBA]=e.RGBA,R),w),M}var z_=function(){function e(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ce.UNSIGNED_BYTE,this.internalFormat=se.RGBA,this.samplerType=0}return e}(),rR=function(){function e(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new tt,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=CH(t);var r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new z_(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new z_(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(t,r){r===void 0&&(r=0);var n=this.gl;if(t=t==null?void 0:t.castToBaseTexture(),t&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<i.length;o++)i[o]===t&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(t.target,this.emptyTextures[t.target].texture),i[o]=null)},e.prototype.ensureSamplerType=function(t){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,o=r.CONTEXT_UID;if(!!i)for(var a=t-1;a>=0;--a){var s=n[a];if(s){var f=s._glTextures[o];f.samplerType!==Qh.FLOAT&&this.renderer.texture.unbind(s)}}},e.prototype.initTexture=function(t){var r=new z_(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r},e.prototype.initTextureType=function(t,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[t.type])===null||n===void 0?void 0:n[t.format])!==null&&i!==void 0?i:t.format,this.webGLVersion===2&&t.type===Ce.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type},e.prototype.updateTexture=function(t){var r=t._glTextures[this.CONTEXT_UID];if(!!r){var n=this.renderer;if(this.initTextureType(t,r),t.resource&&t.resource.upload(n,t,r))r.samplerType!==Qh.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,o=t.realHeight,a=n.gl;(r.width!==i||r.height!==o||r.dirtyId<0)&&(r.width=i,r.height=o,a.texImage2D(t.target,0,r.internalFormat,i,o,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,r){var n=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(t);i!==-1&&$s(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var r=t._glTextures[this.CONTEXT_UID];!r||((t.mipmap===Vi.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=Hi.CLAMP:r.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,r){var n=this.gl;if(r.mipmap&&t.mipmap!==Vi.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Di.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===Di.LINEAR){var o=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Di.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===Di.LINEAR?n.LINEAR:n.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),nR={__proto__:null,FilterSystem:BI,BatchSystem:MI,ContextSystem:DI,FramebufferSystem:GI,GeometrySystem:HI,MaskSystem:zI,ScissorSystem:YI,StencilSystem:qI,ProjectionSystem:KI,RenderTextureSystem:ZI,ShaderSystem:QI,StateSystem:eR,TextureGCSystem:tR,TextureSystem:rR},W_=new Zt,IH=function(e){bt(t,e);function t(r,n){r===void 0&&(r=Yl.UNKNOWN);var i=e.call(this)||this;return n=Object.assign({},Te.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new at(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||Te.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Ia("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={}),typeof n=="number"&&(Ia("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:o});var a=n.region,s=R9(n,["region"]);o=a||r.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var f=Ra.create(Sg({width:o.width,height:o.height},s));return W_.tx=-o.x,W_.ty=-o.y,this.render(r,{renderTexture:f,clear:!1,transform:W_,skipUpdateTransform:!!r.parent}),f},t.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Yl.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=yI(r),Js(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),t}(cf),RH=function(){function e(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return e}(),NH=function(){function e(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i]||this.createGLBuffer(t);n.bindBuffer(t.type,o.buffer)},e.prototype.bindBufferBase=function(t,r){var n=this,i=n.gl,o=n.CONTEXT_UID;if(this.boundBufferBases[r]!==t){var a=t._glBuffers[o]||this.createGLBuffer(t);this.boundBufferBases[r]=t,i.bindBufferBase(i.UNIFORM_BUFFER,r,a.buffer)}},e.prototype.bindBufferRange=function(t,r,n){var i=this,o=i.gl,a=i.CONTEXT_UID;n=n||0;var s=t._glBuffers[a]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,r||0,s.buffer,n*256,256)},e.prototype.update=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,n.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)n.bufferSubData(t.type,0,t.data);else{var a=t.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,n.bufferData(t.type,t.data,a)}},e.prototype.dispose=function(t,r){if(!!this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],t)},e.prototype.createGLBuffer=function(t){var r=this,n=r.CONTEXT_UID,i=r.gl;return t._glBuffers[n]=new RH(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[n]},e}(),$o=function(e){bt(t,e);function t(r){var n=e.call(this,Yl.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Cr("destroy"),contextChange:new Cr("contextChange"),reset:new Cr("reset"),update:new Cr("update"),postrender:new Cr("postrender"),prerender:new Cr("prerender"),resize:new Cr("resize")},n.runners.contextChange.add(n),n.globalUniforms=new xa({projectionMatrix:new Zt},!0),n.addSystem(zI,"mask").addSystem(DI,"context").addSystem(eR,"state").addSystem(QI,"shader").addSystem(rR,"texture").addSystem(NH,"buffer").addSystem(HI,"geometry").addSystem(GI,"framebuffer").addSystem(YI,"scissor").addSystem(qI,"stencil").addSystem(KI,"projection").addSystem(tR,"textureGC").addSystem(BI,"filter").addSystem(ZI,"renderTexture").addSystem(MI,"batch"),n.initPlugins(t.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,h5(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return t.create=function(r){if(d5())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Qt.HIGH?this.multisample=Qt.HIGH:n>=Qt.MEDIUM?this.multisample=Qt.MEDIUM:n>=Qt.LOW?this.multisample=Qt.LOW:this.multisample=Qt.NONE},t.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var o in this.runners)this.runners[o].add(i);return this},t.prototype.render=function(r,n){var i,o,a,s;if(n&&(n instanceof Ra?(Ia("6.0.0","Renderer#render arguments changed, use options instead."),i=n,o=arguments[2],a=arguments[3],s=arguments[4]):(i=n.renderTexture,o=n.clear,a=n.transform,s=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=r),!s){var f=r.enableTempParent();r.updateTransform(),r.disableTempParent(f)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={});var a=e.prototype.generateTexture.call(this,r,n,i,o);return this.framebuffer.blit(),a},t.prototype.resize=function(r,n){e.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Ia("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(r,n){t.__plugins=t.__plugins||{},t.__plugins[r]=n},t}(IH);function AH(e){return $o.create(e)}var PH=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,OH=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,LH=PH,iR=OH,Ig=function(){function e(){this.texArray=null,this.blend=0,this.type=zn.TRIANGLES,this.start=0,this.size=0,this.data=null}return e}(),Rg=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},e}(),Ng=function(){function e(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(t){return this[t+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},e}(),kH=function(e){bt(t,e);function t(r){var n=e.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=ka.for2d(),n.size=Te.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return t.prototype.contextChange=function(){var r=this.renderer.gl;Te.PREFER_ENV===Xi.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Te.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Q9(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var r=t._drawCallPool,n=t._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new Ig);for(;n.length<o;)n.push(new Rg);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){!r._texture.valid||(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,o=t._textureArrayPool,a=this.renderer.batch,s=this._tempBoundTextures,f=this.renderer.textureGC.count,c=++tt._globalBatch,h=0,p=o[0],v=0;a.copyBoundTextures(s,i);for(var _=0;_<this._bufferSize;++_){var y=n[_];n[_]=null,y._batchEnabled!==c&&(p.count>=i&&(a.boundArray(p,s,c,i),this.buildDrawCalls(p,v,_),v=_,p=o[++h],++c),y._batchEnabled=c,y.touched=f,p.elements[p.count++]=y)}p.count>0&&(a.boundArray(p,s,c,i),this.buildDrawCalls(p,v,this._bufferSize),++h,++c);for(var _=0;_<s.length;_++)s[_]=null;tt._globalBatch=c},t.prototype.buildDrawCalls=function(r,n,i){var o=this,a=o._bufferedElements,s=o._attributeBuffer,f=o._indexBuffer,c=o.vertexSize,h=t._drawCallPool,p=this._dcIndex,v=this._aIndex,_=this._iIndex,y=h[p];y.start=this._iIndex,y.texArray=r;for(var E=n;E<i;++E){var g=a[E],x=g._texture.baseTexture,w=EI[x.alphaMode?1:0][g.blendMode];a[E]=null,n<E&&y.blend!==w&&(y.size=_-y.start,n=E,y=h[++p],y.texArray=r,y.start=_),this.packInterleavedGeometry(g,s,f,v,_),v+=g.vertexData.length/2*c,_+=g.indices.length,y.blend=w}n<i&&(y.size=_-y.start,++p),this._dcIndex=p,this._aIndex=v,this._iIndex=_},t.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},t.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,o=r._indexBuffer;Te.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,o=n.state,a=t._drawCallPool,s=null,f=0;f<r;f++){var c=a[f],h=c.texArray,p=c.type,v=c.size,_=c.start,y=c.blend;s!==h&&(s=h,this.bindAndClearTexArray(h)),this.state.blendMode=y,o.set(this.state),i.drawElements(p,v,i.UNSIGNED_SHORT,_*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Te.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var n=ed(Math.ceil(r/8)),i=Ow(n),o=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new Ng(o*this.vertexSize*4)),a},t.prototype.getIndexBuffer=function(r){var n=ed(Math.ceil(r/12)),i=Ow(n),o=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(o)),a},t.prototype.packInterleavedGeometry=function(r,n,i,o,a){for(var s=n.uint32View,f=n.float32View,c=o/this.vertexSize,h=r.uvs,p=r.indices,v=r.vertexData,_=r._texture.baseTexture._batchLocation,y=Math.min(r.worldAlpha,1),E=y<1&&r._texture.baseTexture.alphaMode?xy(r._tintRGB,y):r._tintRGB+(y*255<<24),g=0;g<v.length;g+=2)f[o++]=v[g],f[o++]=v[g+1],f[o++]=h[g],f[o++]=h[g+1],s[o++]=E,f[o++]=_;for(var g=0;g<p.length;g++)i[a++]=c+p[g]},t._drawCallPool=[],t._textureArrayPool=[],t}(Hd),FH=function(){function e(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(t){if(!this.programCache[t]){for(var r=new Int32Array(t),n=0;n<t;n++)r[n]=n;this.defaultGroupCache[t]=xa.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new df(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Zt,default:this.defaultGroupCache[t]};return new Co(this.programCache[t],o)},e.prototype.generateSampleSrc=function(t){var r="";r+=`
`,r+=`
`;for(var n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},e}(),oR=function(e){bt(t,e);function t(r){r===void 0&&(r=!1);var n=e.call(this)||this;return n._buffer=new rr(null,r,!1),n._indexBuffer=new rr(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,Ce.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,Ce.FLOAT).addAttribute("aColor",n._buffer,4,!0,Ce.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,Ce.FLOAT).addIndex(n._indexBuffer),n}return t}(hf),dT=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,pT=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,UH=function(){function e(){}return e.create=function(t){var r=Object.assign({vertex:dT,fragment:pT,geometryClass:oR,vertexSize:6},t),n=r.vertex,i=r.fragment,o=r.vertexSize,a=r.geometryClass;return function(s){bt(f,s);function f(c){var h=s.call(this,c)||this;return h.shaderGenerator=new FH(n,i),h.geometryClass=a,h.vertexSize=o,h}return f}(kH)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return dT},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return pT},enumerable:!1,configurable:!0}),e}(),BH=UH.create(),MH={},DH=function(e){Object.defineProperty(MH,e,{get:function(){return Ia("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),LI[e]}})};for(var Iy in LI)DH(Iy);var GH={},HH=function(e){Object.defineProperty(GH,e,{get:function(){return Ia("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),nR[e]}})};for(var Iy in nR)HH(Iy);/*!
 * @pixi/app - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $d=function(){function e(t){var r=this;this.stage=new An,t=Object.assign({forceCanvas:!1},t),this.renderer=AH(t),e._plugins.forEach(function(n){n.init.call(r,t)})}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var n=this,i=e._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}(),$H=function(){function e(){}return e.init=function(t){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!r._resizeTo||(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(!!r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var o=r._resizeTo,a=o.clientWidth,s=o.clientHeight;n=a,i=s}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();$d.registerPlugin($H);/*!
 * @pixi/extract - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vT=new at,_T=4,XH=function(){function e(t){this.renderer=t}return e.prototype.image=function(t,r,n){var i=new Image;return i.src=this.base64(t,r,n),i},e.prototype.base64=function(t,r,n){return this.canvas(t).toDataURL(r,n)},e.prototype.canvas=function(t){var r=this.renderer,n,i,o=!1,a,s=!1;t&&(t instanceof Ra?a=t:(a=this.renderer.generateTexture(t),s=!0)),a?(n=a.baseTexture.resolution,i=a.frame,o=!1,r.renderTexture.bind(a)):(n=this.renderer.resolution,o=!0,i=vT,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var f=Math.floor(i.width*n+1e-4),c=Math.floor(i.height*n+1e-4),h=new Fw(f,c,1),p=new Uint8Array(_T*f*c),v=r.gl;v.readPixels(i.x*n,i.y*n,f,c,v.RGBA,v.UNSIGNED_BYTE,p);var _=h.context.getImageData(0,0,f,c);if(e.arrayPostDivide(p,_.data),h.context.putImageData(_,0,0),o){var y=new Fw(h.width,h.height,1);y.context.scale(1,-1),y.context.drawImage(h.canvas,0,-c),h.destroy(),h=y}return s&&a.destroy(!0),h.canvas},e.prototype.pixels=function(t){var r=this.renderer,n,i,o,a=!1;t&&(t instanceof Ra?o=t:(o=this.renderer.generateTexture(t),a=!0)),o?(n=o.baseTexture.resolution,i=o.frame,r.renderTexture.bind(o)):(n=r.resolution,i=vT,i.width=r.width,i.height=r.height,r.renderTexture.bind(null));var s=i.width*n,f=i.height*n,c=new Uint8Array(_T*s*f),h=r.gl;return h.readPixels(i.x*n,i.y*n,s,f,h.RGBA,h.UNSIGNED_BYTE,c),a&&o.destroy(!0),e.arrayPostDivide(c,c),c},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(t,r){for(var n=0;n<t.length;n+=4){var i=r[n+3]=t[n+3];i!==0?(r[n]=Math.round(Math.min(t[n]*255/i,255)),r[n+1]=Math.round(Math.min(t[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(t[n+2]*255/i,255))):(r[n]=t[n],r[n+1]=t[n+1],r[n+2]=t[n+2])}},e}();/*!
 * @pixi/loaders - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var jc=function(){function e(t,r,n){r===void 0&&(r=!1),this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},e}();function mT(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Ui=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(t){t===void 0&&(t=!1);var r=this._head;if(t)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},e.prototype.has=function(t){if(!(t instanceof jc))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},e.prototype.dispatch=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},e.prototype.add=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return mT(this,new jc(t,!1,r))},e.prototype.once=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return mT(this,new jc(t,!0,r))},e.prototype.detach=function(t){if(!(t instanceof jc))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)},e.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},e}();function aR(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(a,s,f){s&&(i[r.q.name][s]=f)}),i}var VH=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),zc=null,jH=0,gT=200,zH=204,WH=1223,YH=2;function yT(){}function xT(e,t,r){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=r)}function Y_(e){return e.toString().replace("object ","")}var jt=function(){function e(t,r,n){if(this._dequeue=yT,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof t!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=yT,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Ui,this.onProgress=new Ui,this.onComplete=new Ui,this.onAfterMiddleware=new Ui}return e.setExtensionLoadType=function(t,r){xT(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){xT(e._xhrTypeMap,t,r)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(r)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:VH&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e.prototype._hasFlag=function(t){return(this._flags&t)!==0},e.prototype._setFlag=function(t,r){this._flags=r?this._flags|t:this._flags&~t},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof globalThis.Image!="undefined"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof globalThis.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e.prototype._createSource=function(t,r,n){n||(n=t+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},e.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var t=this.xhr;this.abort(Y_(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(Y_(t)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(Y_(t)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",n=typeof t.status=="undefined"?gT:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType=="undefined")&&(r=t.responseText),n===jH&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?n=gT:n===WH&&(n=zH);var i=n/100|0;if(i===YH)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(s){this.abort("Error trying to parse loaded json: "+s);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var a=document.createElement("div");a.innerHTML=r,this.data=a}this.type=e.TYPE.XML}catch(s){this.abort("Error trying to parse loaded xml: "+s);return}else this.data=t.response||r;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},e.prototype._determineCrossOrigin=function(t,r){if(t.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,zc||(zc=document.createElement("a")),zc.href=t;var n=aR(zc.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,o=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||o!==r.protocol?"anonymous":""},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(t){t===void 0&&(t=this.url);var r="";if(this.isDataUrl){var n=t.indexOf("/");r=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?"),o=t.indexOf("#"),a=Math.min(i>-1?i:t.length,o>-1?o:t.length);t=t.substring(0,a),r=t.substring(t.lastIndexOf(".")+1)}return r.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();(function(e){(function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(jt||(jt={}));function na(){}function qH(e){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(e===null)throw new Error("Callback was already called.");var o=e;e=null,o.apply(this,n)}}var KH=function(){function e(t,r){this.data=t,this.callback=r}return e}(),q_=function(){function e(t,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=na,this.unsaturated=na,this.empty=na,this.drain=na,this.error=na,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var s=new KH(i,typeof a=="function"?a:na);o?n._tasks.unshift(s):n._tasks.push(s),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,qH(n._next(i)))}},this._worker=t,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return e.prototype._next=function(t){var r=this;return function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++)i[o]=n[o];r.workers-=1,t.callback.apply(t,i),i[0]!=null&&r.error(i[0],t.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},e.prototype.push=function(t,r){this._insert(t,!1,r)},e.prototype.kill=function(){this.workers=0,this.drain=na,this.started=!1,this._tasks=[]},e.prototype.unshift=function(t,r){this._insert(t,!0,r)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},e.eachSeries=function(t,r,n,i){var o=0,a=t.length;function s(f){if(f||o===a){n&&n(f);return}i?setTimeout(function(){r(t[o++],s)},1):r(t[o++],s)}s()},e.queue=function(t,r){return new e(t,r)},e}(),K_=100,ZH=/(#[\w-]+)?$/,di=function(){function e(t,r){var n=this;t===void 0&&(t=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,c){return n._loadResource(f,c)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,c){return n._loadResource(f,c)},this._queue=q_.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Ui,this.onError=new Ui,this.onLoad=new Ui,this.onStart=new Ui,this.onComplete=new Ui;for(var i=0;i<e._plugins.length;++i){var o=e._plugins[i],a=o.pre,s=o.use;a&&this.pre(a),s&&this.use(s)}this._protected=!1}return e.prototype._add=function(t,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(r=this._prepareUrl(r),this.resources[t]=new jt(t,r,n),typeof i=="function"&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=n.parentResource,a=[],s=0;s<o.children.length;++s)o.children[s].isComplete||a.push(o.children[s]);var f=o.progressChunk*(a.length+1),c=f/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=c;for(var s=0;s<a.length;++s)a[s].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},e.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},e.prototype.use=function(t){return this._afterMiddleware.push(t),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var r=this.resources[t];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},e.prototype.load=function(t){if(typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=K_/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(t){var r=aR(t,{strictMode:!0}),n;if(r.protocol||!r.path||t.indexOf("//")===0?n=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?n=this.baseUrl+"/"+t:n=this.baseUrl+t,this.defaultQueryString){var i=ZH.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},e.prototype._loadResource=function(t,r){var n=this;t._dequeue=r,q_.eachSeries(this._beforeMiddleware,function(i,o){i.call(n,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=K_,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(t){var r=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),q_.eachSeries(this._afterMiddleware,function(n,i){n.call(r,t,i)},function(){t.onAfterMiddleware.dispatch(t),r.progress=Math.min(K_,r.progress+t.progressChunk),r.onProgress.dispatch(r,t),t.error?r.onError.dispatch(t.error,r,t):r.onLoad.dispatch(r,t),r._resourcesParsing.splice(r._resourcesParsing.indexOf(t),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}();di.prototype.add=function(t,r,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if(typeof t=="object"&&(n=t,i=r||n.callback||n.onComplete,r=n.url,t=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=t),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(t,r,n,i)};var JH=function(){function e(){}return e.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?di.shared:new di},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),QH=function(){function e(){}return e.add=function(){jt.setExtensionLoadType("svg",jt.LOAD_TYPE.XHR),jt.setExtensionXhrType("svg",jt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){if(t.data&&(t.type===jt.TYPE.IMAGE||t.extension==="svg")){var n=t.data,i=t.url,o=t.name,a=t.metadata;Re.fromLoader(n,i,o,a).then(function(s){t.texture=s,r()}).catch(r)}else r()},e}(),e7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t7(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<e.length?n[o]=e.charCodeAt(r++)&255:n[o]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=r-(e.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var o=0;o<i.length;++o)t+=e7.charAt(i[o])}return t}var ET=self.URL||self.webkitURL;function r7(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===jt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof e.data=="string"){var r=e.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){e.data=new Image,e.data.src="data:"+r+";base64,"+t7(e.xhr.responseText),e.type=jt.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var n=ET.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=n,e.type=jt.TYPE.IMAGE,e.data.onload=function(){ET.revokeObjectURL(n),e.data.onload=null,t()};return}}t()}di.registerPlugin({use:r7});di.registerPlugin(QH);/*!
 * @pixi/compressed-textures - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mt,Ve;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(Ve||(Ve={}));var id=(mt={},mt[Ve.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,mt[Ve.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,mt[Ve.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,mt[Ve.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,mt[Ve.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,mt[Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,mt[Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,mt[Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,mt[Ve.COMPRESSED_R11_EAC]=.5,mt[Ve.COMPRESSED_SIGNED_R11_EAC]=.5,mt[Ve.COMPRESSED_RG11_EAC]=1,mt[Ve.COMPRESSED_SIGNED_RG11_EAC]=1,mt[Ve.COMPRESSED_RGB8_ETC2]=.5,mt[Ve.COMPRESSED_RGBA8_ETC2_EAC]=1,mt[Ve.COMPRESSED_SRGB8_ETC2]=.5,mt[Ve.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,mt[Ve.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,mt[Ve.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,mt[Ve.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,mt[Ve.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,mt[Ve.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,mt[Ve.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,mt[Ve.COMPRESSED_RGB_ETC1_WEBGL]=.5,mt[Ve.COMPRESSED_RGB_ATC_WEBGL]=.5,mt[Ve.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,mt[Ve.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,mt);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ag=function(e,t){return Ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ag(e,t)};function sR(e,t){Ag(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function n7(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(c){try{f(n.next(c))}catch(h){o(h)}}function s(c){try{f(n.throw(c))}catch(h){o(h)}}function f(c){c.done?i(c.value):new r(function(h){h(c.value)}).then(a,s)}f((n=n.apply(e,t||[])).next())})}function i7(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(h){return f([c,h])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(h){c=[6,h],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var o7=function(e){sR(t,e);function t(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,o,a;return typeof r=="string"?(o=r,a=new Uint8Array):(o=null,a=r),i=e.call(this,a,n)||this,i.origin=o,i.buffer=a?new Ng(a):null,i.origin&&n.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return t.prototype.onBlobLoaded=function(r){},t.prototype.load=function(){return n7(this,void 0,Promise,function(){var r,n,i;return i7(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return r=o.sent(),[4,r.blob()];case 2:return n=o.sent(),[4,n.arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new Ng(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},t}(cu),Pg=function(e){sR(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=t._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||t._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return t.prototype.upload=function(r,n,i){var o=r.gl,a=r.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var s=0,f=this.levels;s<f;s++){var c=this._levelBuffers[s],h=c.levelID,p=c.levelWidth,v=c.levelHeight,_=c.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,h,this.format,p,v,0,_)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(r,n,i,o,a,s,f){for(var c=new Array(i),h=r.byteOffset,p=s,v=f,_=p+o-1&~(o-1),y=v+a-1&~(a-1),E=_*y*id[n],g=0;g<i;g++)c[g]={levelID:g,levelWidth:i>1?p:_,levelHeight:i>1?v:y,levelBuffer:new Uint8Array(r.buffer,h,E)},h+=E,p=p>>1||1,v=v>>1||1,_=p+o-1&~(o-1),y=v+a-1&~(a-1),E=_*y*id[n];return c},t}(o7),a7=function(){function e(){}return e.use=function(t,r){var n=t.data,i=this;if(t.type===jt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var o=n.textures,a=void 0,s=void 0,f=0,c=o.length;f<c;f++){var h=o[f],p=h.src,v=h.format;if(v||(s=p),e.textureFormats[v]){a=p;break}}if(a=a||s,!a){r(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));return}if(a===t.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var _={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},y=bs.resolve(t.url.replace(i.baseUrl,""),a),E=n.cacheID;i.add(E,y,_,function(g){if(g.error){r(g.error);return}var x=g.texture,w=x===void 0?null:x,I=g.textures,P=I===void 0?{}:I;Object.assign(t,{texture:w,textures:P}),r()})}else r()},e.add=function(){var t=document.createElement("canvas"),r=t.getContext("webgl");if(!r){console.warn("WebGL not available for compressed textures. Silently failing.");return}var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};e.textureExtensions=n,e.textureFormats={};for(var i in n){var o=n[i];!o||Object.assign(e.textureFormats,Object.getPrototypeOf(o))}},e}();function uR(e,t,r){var n={textures:{},texture:null};if(!t)return n;var i=t.map(function(o){return new Re(new tt(o,Object.assign({mipmap:Vi.OFF,alphaMode:Yn.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(o,a){var s=o.baseTexture,f=e+"-"+(a+1);tt.addToCache(s,f),Re.addToCache(o,f),a===0&&(tt.addToCache(s,e),Re.addToCache(o,e),n.texture=o),n.textures[f]=o}),n}var Zu,Gn;jt.setExtensionXhrType("dds",jt.XHR_RESPONSE_TYPE.BUFFER);var Z_=4,Wc=124,s7=32,bT=20,u7=542327876,Yc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},l7={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},qc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},$n;(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})($n||($n={}));var Og;(function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(Og||(Og={}));var f7=1,c7=2,h7=4,d7=64,p7=512,v7=131072,_7=827611204,m7=861165636,g7=894720068,y7=808540228,x7=4,E7=(Zu={},Zu[_7]=Ve.COMPRESSED_RGBA_S3TC_DXT1_EXT,Zu[m7]=Ve.COMPRESSED_RGBA_S3TC_DXT3_EXT,Zu[g7]=Ve.COMPRESSED_RGBA_S3TC_DXT5_EXT,Zu),b7=(Gn={},Gn[$n.DXGI_FORMAT_BC1_TYPELESS]=Ve.COMPRESSED_RGBA_S3TC_DXT1_EXT,Gn[$n.DXGI_FORMAT_BC1_UNORM]=Ve.COMPRESSED_RGBA_S3TC_DXT1_EXT,Gn[$n.DXGI_FORMAT_BC2_TYPELESS]=Ve.COMPRESSED_RGBA_S3TC_DXT3_EXT,Gn[$n.DXGI_FORMAT_BC2_UNORM]=Ve.COMPRESSED_RGBA_S3TC_DXT3_EXT,Gn[$n.DXGI_FORMAT_BC3_TYPELESS]=Ve.COMPRESSED_RGBA_S3TC_DXT5_EXT,Gn[$n.DXGI_FORMAT_BC3_UNORM]=Ve.COMPRESSED_RGBA_S3TC_DXT5_EXT,Gn[$n.DXGI_FORMAT_BC1_UNORM_SRGB]=Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Gn[$n.DXGI_FORMAT_BC2_UNORM_SRGB]=Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Gn[$n.DXGI_FORMAT_BC3_UNORM_SRGB]=Ve.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Gn),w7=function(){function e(){}return e.use=function(t,r){if(t.extension==="dds"&&t.data)try{Object.assign(t,uR(t.name||t.url,e.parse(t.data),t.metadata))}catch(n){r(n);return}r()},e.parse=function(t){var r=new Uint32Array(t),n=r[0];if(n!==u7)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(t,0,Wc/Uint32Array.BYTES_PER_ELEMENT),o=i[Yc.HEIGHT],a=i[Yc.WIDTH],s=i[Yc.MIPMAP_COUNT],f=new Uint32Array(t,Yc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,s7/Uint32Array.BYTES_PER_ELEMENT),c=f[f7];if(c&h7){var h=f[l7.FOURCC];if(h!==y7){var p=E7[h],v=Z_+Wc,_=new Uint8Array(t,v),y=new Pg(_,{format:p,width:a,height:o,levels:s});return[y]}var E=Z_+Wc,g=new Uint32Array(r.buffer,E,bT/Uint32Array.BYTES_PER_ELEMENT),x=g[qc.DXGI_FORMAT],w=g[qc.RESOURCE_DIMENSION],I=g[qc.MISC_FLAG],P=g[qc.ARRAY_SIZE],N=b7[x];if(N===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+x);if(I===x7)throw new Error("DDSLoader does not support cubemap textures");if(w===Og.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var R=new Array,M=Z_+Wc+bT;if(P===1)R.push(new Uint8Array(t,M));else{for(var X=id[N],D=0,W=a,de=o,ue=0;ue<s;ue++){var pe=Math.max(1,W+3&-4),We=Math.max(1,de+3&-4),le=pe*We*X;D+=le,W=W>>>1,de=de>>>1}for(var fe=M,ue=0;ue<P;ue++)R.push(new Uint8Array(t,fe,D)),fe+=D}return R.map(function(Ee){return new Pg(Ee,{format:N,width:a,height:o,levels:s})})}throw c&d7?new Error("DDSLoader does not support uncompressed texture data."):c&p7?new Error("DDSLoader does not supported YUV uncompressed texture data."):c&v7?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):c&c7?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}(),so,Pi,Ju;jt.setExtensionXhrType("ktx",jt.XHR_RESPONSE_TYPE.BUFFER);var wT=[171,75,84,88,32,49,49,187,13,10,26,10],T7=67305985,Hn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},S7=64,TT=(so={},so[Ce.UNSIGNED_BYTE]=1,so[Ce.UNSIGNED_SHORT]=2,so[Ce.INT]=4,so[Ce.UNSIGNED_INT]=4,so[Ce.FLOAT]=4,so[Ce.HALF_FLOAT]=8,so),C7=(Pi={},Pi[se.RGBA]=4,Pi[se.RGB]=3,Pi[se.RG]=2,Pi[se.RED]=1,Pi[se.LUMINANCE]=1,Pi[se.LUMINANCE_ALPHA]=2,Pi[se.ALPHA]=1,Pi),I7=(Ju={},Ju[Ce.UNSIGNED_SHORT_4_4_4_4]=2,Ju[Ce.UNSIGNED_SHORT_5_5_5_1]=2,Ju[Ce.UNSIGNED_SHORT_5_6_5]=2,Ju),R7=function(){function e(){}return e.use=function(t,r){if(t.extension==="ktx"&&t.data)try{var n=t.name||t.url,i=e.parse(n,t.data),o=i.compressed,a=i.uncompressed;if(o)Object.assign(t,uR(n,o,t.metadata));else if(a){var s={};a.forEach(function(f,c){var h=new Re(new tt(f.resource,{mipmap:Vi.OFF,alphaMode:Yn.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),p=n+"-"+(c+1);tt.addToCache(h.baseTexture,p),Re.addToCache(h,p),c===0&&(s[n]=h,tt.addToCache(h.baseTexture,n),Re.addToCache(h,n)),s[p]=h}),Object.assign(t,{textures:s})}}catch(f){r(f);return}r()},e.parse=function(t,r){var n=new DataView(r);if(!e.validate(t,n))return null;var i=n.getUint32(Hn.ENDIANNESS,!0)===T7,o=n.getUint32(Hn.GL_TYPE,i),a=n.getUint32(Hn.GL_FORMAT,i),s=n.getUint32(Hn.GL_INTERNAL_FORMAT,i),f=n.getUint32(Hn.PIXEL_WIDTH,i),c=n.getUint32(Hn.PIXEL_HEIGHT,i)||1,h=n.getUint32(Hn.PIXEL_DEPTH,i)||1,p=n.getUint32(Hn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,v=n.getUint32(Hn.NUMBER_OF_FACES,i),_=n.getUint32(Hn.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(Hn.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||h!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");var E=4,g=4,x=f+3&-4,w=c+3&-4,I=new Array(p),P=f*c;o===0&&(P=x*w);var N;if(o!==0?TT[o]?N=TT[o]*C7[a]:N=I7[o]:N=id[s],N===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var R=P*N,M=R,X=f,D=c,W=x,de=w,ue=S7+y,pe=0;pe<_;pe++){for(var We=n.getUint32(ue,i),le=ue+4,fe=0;fe<p;fe++){var Ee=I[fe];Ee||(Ee=I[fe]=new Array(_)),Ee[pe]={levelID:pe,levelWidth:_>1||o!==0?X:W,levelHeight:_>1||o!==0?D:de,levelBuffer:new Uint8Array(r,le,M)},le+=M}ue+=We+4,ue=ue%4!==0?ue+4-ue%4:ue,X=X>>1||1,D=D>>1||1,W=X+E-1&~(E-1),de=D+g-1&~(g-1),M=W*de*N}return o!==0?{uncompressed:I.map(function(Fe){var dt=Fe[0].levelBuffer,Z=!1;return o===Ce.FLOAT?dt=new Float32Array(Fe[0].levelBuffer.buffer,Fe[0].levelBuffer.byteOffset,Fe[0].levelBuffer.byteLength/4):o===Ce.UNSIGNED_INT?(Z=!0,dt=new Uint32Array(Fe[0].levelBuffer.buffer,Fe[0].levelBuffer.byteOffset,Fe[0].levelBuffer.byteLength/4)):o===Ce.INT&&(Z=!0,dt=new Int32Array(Fe[0].levelBuffer.buffer,Fe[0].levelBuffer.byteOffset,Fe[0].levelBuffer.byteLength/4)),{resource:new cu(dt,{width:Fe[0].levelWidth,height:Fe[0].levelHeight}),type:o,format:Z?e.convertFormatToInteger(a):a}})}:{compressed:I.map(function(Fe){return new Pg(null,{format:s,width:f,height:c,levels:_,levelBuffers:Fe})})}},e.validate=function(t,r){for(var n=0;n<wT.length;n++)if(r.getUint8(n)!==wT[n])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(t){switch(t){case se.RGBA:return se.RGBA_INTEGER;case se.RGB:return se.RGB_INTEGER;case se.RG:return se.RG_INTEGER;case se.RED:return se.RED_INTEGER;default:return t}},e}();/*!
 * @pixi/particle-container - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Lg=function(e,t){return Lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Lg(e,t)};function lR(e,t){Lg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}(function(e){lR(t,e);function t(r,n,i,o){r===void 0&&(r=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var a=e.call(this)||this,s=16384;return i>s&&(i=s),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=Ie.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return t.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Js(r,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},t.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t})(An);var ST=function(){function e(t,r,n){this.geometry=new hf,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var o=t[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||Ce.FLOAT,offset:o.offset},r[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var t=this.geometry,r=0;this.indexBuffer=new rr(n9(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new rr(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new rr(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===Ce.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===Ce.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},e.prototype.uploadDynamic=function(t,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,r,n,o.type===Ce.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(t,r,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,r,n,o.type===Ce.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),N7=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,A7=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,P7=function(e){lR(t,e);function t(r){var n=e.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Zt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ce.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=Co.from(A7,N7,{}),n.state=ka.for2d(),n}return t.prototype.render=function(r){var n=r.children,i=r._maxSize,o=r._batchSize,a=this.renderer,s=n.length;if(s!==0){s>i&&!r.autoResize&&(s=i);var f=r._buffers;f||(f=r._buffers=this.generateBuffers(r));var c=n[0]._texture.baseTexture;this.state.blendMode=bI(r.blendMode,c.alphaMode),a.state.set(this.state);var h=a.gl,p=r.worldTransform.copyTo(this.tempMatrix);p.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=r9(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,c.alphaMode),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var v=!1,_=0,y=0;_<s;_+=o,y+=1){var E=s-_;E>o&&(E=o),y>=f.length&&f.push(this._generateOneMoreBuffer(r));var g=f[y];g.uploadDynamic(n,_,E);var x=r._bufferUpdateIDs[y]||0;v=v||g._updateID<x,v&&(g._updateID=r._updateID,g.uploadStatic(n,_,E)),a.geometry.bind(g.geometry),h.drawElements(h.TRIANGLES,E*6,h.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,o=r._batchSize,a=r._properties,s=0;s<i;s+=o)n.push(new ST(this.properties,a,o));return n},t.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new ST(this.properties,i,n)},t.prototype.uploadVertices=function(r,n,i,o,a,s){for(var f=0,c=0,h=0,p=0,v=0;v<i;++v){var _=r[n+v],y=_._texture,E=_.scale.x,g=_.scale.y,x=y.trim,w=y.orig;x?(c=x.x-_.anchor.x*w.width,f=c+x.width,p=x.y-_.anchor.y*w.height,h=p+x.height):(f=w.width*(1-_.anchor.x),c=w.width*-_.anchor.x,h=w.height*(1-_.anchor.y),p=w.height*-_.anchor.y),o[s]=c*E,o[s+1]=p*g,o[s+a]=f*E,o[s+a+1]=p*g,o[s+a*2]=f*E,o[s+a*2+1]=h*g,o[s+a*3]=c*E,o[s+a*3+1]=h*g,s+=a*4}},t.prototype.uploadPosition=function(r,n,i,o,a,s){for(var f=0;f<i;f++){var c=r[n+f].position;o[s]=c.x,o[s+1]=c.y,o[s+a]=c.x,o[s+a+1]=c.y,o[s+a*2]=c.x,o[s+a*2+1]=c.y,o[s+a*3]=c.x,o[s+a*3+1]=c.y,s+=a*4}},t.prototype.uploadRotation=function(r,n,i,o,a,s){for(var f=0;f<i;f++){var c=r[n+f].rotation;o[s]=c,o[s+a]=c,o[s+a*2]=c,o[s+a*3]=c,s+=a*4}},t.prototype.uploadUvs=function(r,n,i,o,a,s){for(var f=0;f<i;++f){var c=r[n+f]._texture._uvs;c?(o[s]=c.x0,o[s+1]=c.y0,o[s+a]=c.x1,o[s+a+1]=c.y1,o[s+a*2]=c.x2,o[s+a*2+1]=c.y2,o[s+a*3]=c.x3,o[s+a*3+1]=c.y3,s+=a*4):(o[s]=0,o[s+1]=0,o[s+a]=0,o[s+a+1]=0,o[s+a*2]=0,o[s+a*2+1]=0,o[s+a*3]=0,o[s+a*3+1]=0,s+=a*4)}},t.prototype.uploadTint=function(r,n,i,o,a,s){for(var f=0;f<i;++f){var c=r[n+f],h=c._texture.baseTexture.alphaMode>0,p=c.alpha,v=p<1&&h?xy(c._tintRGB,p):c._tintRGB+(p*255<<24);o[s]=v,o[s+a]=v,o[s+a*2]=v,o[s+a*3]=v,s+=a*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(Hd);/*!
 * @pixi/graphics - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _o;(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(_o||(_o={}));var mo;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(mo||(mo={}));var Kl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(t===void 0&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},fR=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Re.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Re.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kg=function(e,t){return kg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},kg(e,t)};function Ry(e,t){kg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function CT(e,t){var r,n;t===void 0&&(t=!1);var i=e.length;if(!(i<6)){for(var o=0,a=0,s=e[i-2],f=e[i-1];a<i;a+=2){var c=e[a],h=e[a+1];o+=(c-s)*(h+f),s=c,f=h}if(!t&&o>0||t&&o<=0)for(var p=i/2,a=p+p%2;a<i;a+=2){var v=i-a-2,_=i-a-1,y=a,E=a+1;r=[e[y],e[v]],e[v]=r[0],e[y]=r[1],n=[e[E],e[_]],e[_]=n[0],e[E]=n[1]}}}var cR={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,n=e.holes,i=t.points,o=t.indices;if(r.length>=6){CT(r,!1);for(var a=[],s=0;s<n.length;s++){var f=n[s];CT(f.points,!0),a.push(r.length/2),r=r.concat(f.points)}var c=gI(r,a,2);if(!c)return;for(var h=i.length/2,s=0;s<c.length;s+=3)o.push(c[s]+h),o.push(c[s+1]+h),o.push(c[s+2]+h);for(var s=0;s<r.length;s++)i.push(r[s])}}},od={build:function(e){var t=e.points,r,n,i,o,a,s;if(e.type===Vt.CIRC){var f=e.shape;r=f.x,n=f.y,a=s=f.radius,i=o=0}else if(e.type===Vt.ELIP){var c=e.shape;r=c.x,n=c.y,a=c.width,s=c.height,i=o=0}else{var h=e.shape,p=h.width/2,v=h.height/2;r=h.x+p,n=h.y+v,a=s=Math.max(0,Math.min(h.radius,Math.min(p,v))),i=p-a,o=v-s}var _=Math.ceil(2.3*Math.sqrt(a+s)),y=_*8+(i?4:0)+(o?4:0);if(t.length=y,y!==0){if(_===0){t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+o,t[2]=t[4]=r-i,t[5]=t[7]=n-o;return}var E=0,g=_*4+(i?2:0)+2,x=g,w=y;{var I=i+a,P=o,N=r+I,R=r-I,M=n+P;if(t[E++]=N,t[E++]=M,t[--g]=M,t[--g]=R,o){var X=n-P;t[x++]=R,t[x++]=X,t[--w]=X,t[--w]=N}}for(var D=1;D<_;D++){var W=Math.PI/2*(D/_),I=i+Math.cos(W)*a,P=o+Math.sin(W)*s,N=r+I,R=r-I,M=n+P,X=n-P;t[E++]=N,t[E++]=M,t[--g]=M,t[--g]=R,t[x++]=R,t[x++]=X,t[--w]=X,t[--w]=N}{var I=i,P=o+s,N=r+I,R=r-I,M=n+P,X=n-P;t[E++]=N,t[E++]=M,t[--w]=X,t[--w]=N,i&&(t[E++]=R,t[E++]=M,t[--w]=X,t[--w]=R)}}},triangulate:function(e,t){var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=o,s,f;if(e.type!==Vt.RREC){var c=e.shape;s=c.x,f=c.y}else{var h=e.shape;s=h.x+h.width/2,f=h.y+h.height/2}var p=e.matrix;n.push(e.matrix?p.a*s+p.c*f+p.tx:s,e.matrix?p.b*s+p.d*f+p.ty:f),o++,n.push(r[0],r[1]);for(var v=2;v<r.length;v+=2)n.push(r[v],r[v+1]),i.push(o++,a,o);i.push(a+1,a,o)}},O7={build:function(e){var t=e.shape,r=t.x,n=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(e,t){var r=e.points,n=t.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function ls(e,t,r){var n=t-e;return e+n*r}function Kc(e,t,r,n,i,o,a){a===void 0&&(a=[]);for(var s=20,f=a,c=0,h=0,p=0,v=0,_=0,y=0,E=0,g=0;E<=s;++E)g=E/s,c=ls(e,r,g),h=ls(t,n,g),p=ls(r,i,g),v=ls(n,o,g),_=ls(c,p,g),y=ls(h,v,g),!(E===0&&f[f.length-2]===_&&f[f.length-1]===y)&&f.push(_,y);return f}var L7={build:function(e){if(ad.nextRoundedRectBehavior){od.build(e);return}var t=e.shape,r=e.points,n=t.x,i=t.y,o=t.width,a=t.height,s=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));r.length=0,s?(Kc(n,i+s,n,i,n+s,i,r),Kc(n+o-s,i,n+o,i,n+o,i+s,r),Kc(n+o,i+a-s,n+o,i+a,n+o-s,i+a,r),Kc(n+s,i+a,n,i+a,n,i+a-s,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(e,t){if(ad.nextRoundedRectBehavior){od.triangulate(e,t);return}for(var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=gI(r,null,2),s=0,f=a.length;s<f;s+=3)i.push(a[s]+o),i.push(a[s+1]+o),i.push(a[s+2]+o);for(var s=0,f=r.length;s<f;s++)n.push(r[s],r[++s])}};function IT(e,t,r,n,i,o,a,s){var f=e-r*i,c=t-n*i,h=e+r*o,p=t+n*o,v,_;a?(v=n,_=-r):(v=-n,_=r);var y=f+v,E=c+_,g=h+v,x=p+_;return s.push(y,E),s.push(g,x),2}function fs(e,t,r,n,i,o,a,s){var f=r-e,c=n-t,h=Math.atan2(f,c),p=Math.atan2(i-e,o-t);s&&h<p?h+=Math.PI*2:!s&&h>p&&(p+=Math.PI*2);var v=h,_=p-h,y=Math.abs(_),E=Math.sqrt(f*f+c*c),g=(15*y*Math.sqrt(E)/Math.PI>>0)+1,x=_/g;if(v+=x,s){a.push(e,t),a.push(r,n);for(var w=1,I=v;w<g;w++,I+=x)a.push(e,t),a.push(e+Math.sin(I)*E,t+Math.cos(I)*E);a.push(e,t),a.push(i,o)}else{a.push(r,n),a.push(e,t);for(var w=1,I=v;w<g;w++,I+=x)a.push(e+Math.sin(I)*E,t+Math.cos(I)*E),a.push(e,t);a.push(i,o),a.push(e,t)}return g*2}function k7(e,t){var r=e.shape,n=e.points||r.points.slice(),i=t.closePointEps;if(n.length!==0){var o=e.lineStyle,a=new It(n[0],n[1]),s=new It(n[n.length-2],n[n.length-1]),f=r.type!==Vt.POLY||r.closeStroke,c=Math.abs(a.x-s.x)<i&&Math.abs(a.y-s.y)<i;if(f){n=n.slice(),c&&(n.pop(),n.pop(),s.set(n[n.length-2],n[n.length-1]));var h=(a.x+s.x)*.5,p=(s.y+a.y)*.5;n.unshift(h,p),n.push(h,p)}var v=t.points,_=n.length/2,y=n.length,E=v.length/2,g=o.width/2,x=g*g,w=o.miterLimit*o.miterLimit,I=n[0],P=n[1],N=n[2],R=n[3],M=0,X=0,D=-(P-R),W=I-N,de=0,ue=0,pe=Math.sqrt(D*D+W*W);D/=pe,W/=pe,D*=g,W*=g;var We=o.alignment,le=(1-We)*2,fe=We*2;f||(o.cap===mo.ROUND?y+=fs(I-D*(le-fe)*.5,P-W*(le-fe)*.5,I-D*le,P-W*le,I+D*fe,P+W*fe,v,!0)+2:o.cap===mo.SQUARE&&(y+=IT(I,P,D,W,le,fe,!0,v))),v.push(I-D*le,P-W*le),v.push(I+D*fe,P+W*fe);for(var Ee=1;Ee<_-1;++Ee){I=n[(Ee-1)*2],P=n[(Ee-1)*2+1],N=n[Ee*2],R=n[Ee*2+1],M=n[(Ee+1)*2],X=n[(Ee+1)*2+1],D=-(P-R),W=I-N,pe=Math.sqrt(D*D+W*W),D/=pe,W/=pe,D*=g,W*=g,de=-(R-X),ue=N-M,pe=Math.sqrt(de*de+ue*ue),de/=pe,ue/=pe,de*=g,ue*=g;var Fe=N-I,dt=P-R,Z=N-M,V=X-R,ne=dt*Z-V*Fe,ce=ne<0;if(Math.abs(ne)<.1){v.push(N-D*le,R-W*le),v.push(N+D*fe,R+W*fe);continue}var Se=(-D+I)*(-W+R)-(-D+N)*(-W+P),ke=(-de+M)*(-ue+R)-(-de+N)*(-ue+X),Me=(Fe*ke-Z*Se)/ne,st=(V*Se-dt*ke)/ne,ut=(Me-N)*(Me-N)+(st-R)*(st-R),Ye=N+(Me-N)*le,wt=R+(st-R)*le,Ke=N-(Me-N)*fe,lt=R-(st-R)*fe,Ge=Math.min(Fe*Fe+dt*dt,Z*Z+V*V),ct=ce?le:fe,rt=Ge+ct*ct*x,ze=ut<=rt;ze?o.join===_o.BEVEL||ut/x>w?(ce?(v.push(Ye,wt),v.push(N+D*fe,R+W*fe),v.push(Ye,wt),v.push(N+de*fe,R+ue*fe)):(v.push(N-D*le,R-W*le),v.push(Ke,lt),v.push(N-de*le,R-ue*le),v.push(Ke,lt)),y+=2):o.join===_o.ROUND?ce?(v.push(Ye,wt),v.push(N+D*fe,R+W*fe),y+=fs(N,R,N+D*fe,R+W*fe,N+de*fe,R+ue*fe,v,!0)+4,v.push(Ye,wt),v.push(N+de*fe,R+ue*fe)):(v.push(N-D*le,R-W*le),v.push(Ke,lt),y+=fs(N,R,N-D*le,R-W*le,N-de*le,R-ue*le,v,!1)+4,v.push(N-de*le,R-ue*le),v.push(Ke,lt)):(v.push(Ye,wt),v.push(Ke,lt)):(v.push(N-D*le,R-W*le),v.push(N+D*fe,R+W*fe),o.join===_o.BEVEL||ut/x>w||(o.join===_o.ROUND?ce?y+=fs(N,R,N+D*fe,R+W*fe,N+de*fe,R+ue*fe,v,!0)+2:y+=fs(N,R,N-D*le,R-W*le,N-de*le,R-ue*le,v,!1)+2:(ce?(v.push(Ke,lt),v.push(Ke,lt)):(v.push(Ye,wt),v.push(Ye,wt)),y+=2)),v.push(N-de*le,R-ue*le),v.push(N+de*fe,R+ue*fe),y+=2)}I=n[(_-2)*2],P=n[(_-2)*2+1],N=n[(_-1)*2],R=n[(_-1)*2+1],D=-(P-R),W=I-N,pe=Math.sqrt(D*D+W*W),D/=pe,W/=pe,D*=g,W*=g,v.push(N-D*le,R-W*le),v.push(N+D*fe,R+W*fe),f||(o.cap===mo.ROUND?y+=fs(N-D*(le-fe)*.5,R-W*(le-fe)*.5,N-D*le,R-W*le,N+D*fe,R+W*fe,v,!1)+2:o.cap===mo.SQUARE&&(y+=IT(N,R,D,W,le,fe,!1,v)));for(var Lt=t.indices,Mr=Kl.epsilon*Kl.epsilon,Ee=E;Ee<y+E-2;++Ee)I=v[Ee*2],P=v[Ee*2+1],N=v[(Ee+1)*2],R=v[(Ee+1)*2+1],M=v[(Ee+2)*2],X=v[(Ee+2)*2+1],!(Math.abs(I*(R-X)+N*(X-P)+M*(P-R))<Mr)&&Lt.push(Ee,Ee+1,Ee+2)}}function F7(e,t){var r=0,n=e.shape,i=e.points||n.points,o=n.type!==Vt.POLY||n.closeStroke;if(i.length!==0){var a=t.points,s=t.indices,f=i.length/2,c=a.length/2,h=c;for(a.push(i[0],i[1]),r=1;r<f;r++)a.push(i[r*2],i[r*2+1]),s.push(h,h+1),h++;o&&s.push(h,c)}}function RT(e,t){e.lineStyle.native?F7(e,t):k7(e,t)}var NT=function(){function e(){}return e.curveTo=function(t,r,n,i,o,a){var s=a[a.length-2],f=a[a.length-1],c=f-r,h=s-t,p=i-r,v=n-t,_=Math.abs(c*v-h*p);if(_<1e-8||o===0)return(a[a.length-2]!==t||a[a.length-1]!==r)&&a.push(t,r),null;var y=c*c+h*h,E=p*p+v*v,g=c*p+h*v,x=o*Math.sqrt(y)/_,w=o*Math.sqrt(E)/_,I=x*g/y,P=w*g/E,N=x*v+w*h,R=x*p+w*c,M=h*(w+I),X=c*(w+I),D=v*(x+P),W=p*(x+P),de=Math.atan2(X-R,M-N),ue=Math.atan2(W-R,D-N);return{cx:N+t,cy:R+r,radius:o,startAngle:de,endAngle:ue,anticlockwise:h*p>v*c}},e.arc=function(t,r,n,i,o,a,s,f,c){for(var h=s-a,p=Kl._segmentsCount(Math.abs(h)*o,Math.ceil(Math.abs(h)/rd)*40),v=h/(p*2),_=v*2,y=Math.cos(v),E=Math.sin(v),g=p-1,x=g%1/g,w=0;w<=g;++w){var I=w+x*w,P=v+a+_*I,N=Math.cos(P),R=-Math.sin(P);c.push((y*N+E*R)*o+n,(y*-R+E*N)*o+i)}},e}(),U7=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a,s,f){for(var c=10,h=0,p=0,v=0,_=0,y=0,E=0,g=0,x=0,w=0,I=0,P=0,N=t,R=r,M=1;M<=c;++M)p=M/c,v=p*p,_=v*p,y=1-p,E=y*y,g=E*y,x=g*t+3*E*p*n+3*y*v*o+_*s,w=g*r+3*E*p*i+3*y*v*a+_*f,I=N-x,P=R-w,N=x,R=w,h+=Math.sqrt(I*I+P*P);return h},e.curveTo=function(t,r,n,i,o,a,s){var f=s[s.length-2],c=s[s.length-1];s.length-=2;var h=Kl._segmentsCount(e.curveLength(f,c,t,r,n,i,o,a)),p=0,v=0,_=0,y=0,E=0;s.push(f,c);for(var g=1,x=0;g<=h;++g)x=g/h,p=1-x,v=p*p,_=v*p,y=x*x,E=y*x,s.push(_*f+3*v*x*t+3*p*y*n+E*o,_*c+3*v*x*r+3*p*y*i+E*a)},e}(),B7=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a){var s=t-2*n+o,f=r-2*i+a,c=2*n-2*t,h=2*i-2*r,p=4*(s*s+f*f),v=4*(s*c+f*h),_=c*c+h*h,y=2*Math.sqrt(p+v+_),E=Math.sqrt(p),g=2*p*E,x=2*Math.sqrt(_),w=v/E;return(g*y+E*v*(y-x)+(4*_*p-v*v)*Math.log((2*E+w+y)/(w+x)))/(4*g)},e.curveTo=function(t,r,n,i,o){for(var a=o[o.length-2],s=o[o.length-1],f=Kl._segmentsCount(e.curveLength(a,s,t,r,n,i)),c=0,h=0,p=1;p<=f;++p){var v=p/f;c=a+(t-a)*v,h=s+(r-s)*v,o.push(c+(t+(n-t)*v-c)*v,h+(r+(i-r)*v-h)*v)}},e}(),M7=function(){function e(){this.reset()}return e.prototype.begin=function(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n},e.prototype.end=function(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),ia,J_=(ia={},ia[Vt.POLY]=cR,ia[Vt.CIRC]=od,ia[Vt.ELIP]=od,ia[Vt.RECT]=O7,ia[Vt.RREC]=L7,ia),AT=[],Zc=[],PT=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),cs=new It,D7=new ql,G7=function(e){Ry(t,e);function t(){var r=e.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new ql,r.boundsDirty=-1,r}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),Zc.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),AT.push(n)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(r,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null);var a=new PT(r,n,i,o);return this.graphicsData.push(a),this.dirty++,this},t.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new PT(r,null,null,n),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var o=n[i];if(!!o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(r,cs):cs.copyFrom(r),o.shape.contains(cs.x,cs.y))){var a=!1;if(o.holes)for(var s=0;s<o.holes.length;s++){var f=o.holes[s];if(f.shape.contains(cs.x,cs.y)){a=!0;break}}if(!a)return!0}}return!1},t.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,o=null,a=null;this.batches.length>0&&(o=this.batches[this.batches.length-1],a=o.style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var f=i[s],c=f.fillStyle,h=f.lineStyle,p=J_[f.type];p.build(f),f.matrix&&this.transformPoints(f.points,f.matrix),(c.visible||h.visible)&&this.processHoles(f.holes);for(var v=0;v<2;v++){var _=v===0?c:h;if(!!_.visible){var y=_.texture.baseTexture,E=this.indices.length,g=this.points.length/2;y.wrapMode=Hi.REPEAT,v===0?this.processFill(f):this.processLine(f);var x=this.points.length/2-g;x!==0&&(o&&!this._compareStyles(a,_)&&(o.end(E,g),o=null),o||(o=AT.pop()||new M7,o.begin(_,E,g),this.batches.push(o),a=_),this.addUvs(this.points,n,_.texture,g,x,_.matrix))}}}var w=this.indices.length,I=this.points.length/2;if(o&&o.end(w,I),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var P=I>65535&&r;this.indicesUint16=P?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],o=i.fillStyle,a=i.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var o=r[n],a=0;a<o.size;a++){var s=o.start+a;this.indicesUint16[s]=this.indicesUint16[s]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var r=++tt._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Zc.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,a=Zc.pop();a||(a=new Ig,a.texArray=new Rg),a.texArray.count=0,a.start=0,a.size=0,a.type=zn.TRIANGLES;var s=0,f=null,c=0,h=!1,p=zn.TRIANGLES,v=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var _=this.batches[n],y=8,E=_.style,g=E.texture.baseTexture;h!==!!E.native&&(h=!!E.native,p=h?zn.LINES:zn.TRIANGLES,f=null,s=y,r++),f!==g&&(f=g,g._batchEnabled!==r&&(s===y&&(r++,s=0,a.size>0&&(a=Zc.pop(),a||(a=new Ig,a.texArray=new Rg),this.drawCalls.push(a)),a.start=v,a.size=0,a.texArray.count=0,a.type=p),g.touched=1,g._batchEnabled=r,g._batchLocation=s,g.wrapMode=Hi.REPEAT,a.texArray.elements[a.texArray.count++]=g,s++)),a.size+=_.size,v+=_.size,c=g._batchLocation,this.addColors(i,E.color,E.alpha,_.attribSize,_.attribStart),this.addTextureIds(o,c,_.attribSize,_.attribStart)}tt._globalBatch=r,this.packAttributes()},t.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,o=this.textureIds,a=new ArrayBuffer(r.length*3*4),s=new Float32Array(a),f=new Uint32Array(a),c=0,h=0;h<r.length/2;h++)s[c++]=r[h*2],s[c++]=r[h*2+1],s[c++]=n[h*2],s[c++]=n[h*2+1],f[c++]=i[h],s[c++]=o[h];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(r){if(r.holes.length)cR.triangulate(r,this);else{var n=J_[r.type];n.triangulate(r,this)}},t.prototype.processLine=function(r){RT(r,this);for(var n=0;n<r.holes.length;n++)RT(r.holes[n],this)},t.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],o=J_[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var r=this._bounds,n=D7,i=Zt.IDENTITY;this._bounds.clear(),n.clear();for(var o=0;o<this.graphicsData.length;o++){var a=this.graphicsData[o],s=a.shape,f=a.type,c=a.lineStyle,h=a.matrix||Zt.IDENTITY,p=0;if(c&&c.visible&&(p=c.width*Math.max(0,c.alignment)),i!==h&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=h),f===Vt.RECT||f===Vt.RREC){var v=s;n.addFramePad(v.x,v.y,v.x+v.width,v.y+v.height,p,p)}else if(f===Vt.CIRC){var _=s;n.addFramePad(_.x,_.y,_.x,_.y,_.radius+p,_.radius+p)}else if(f===Vt.ELIP){var y=s;n.addFramePad(y.x,y.y,y.x,y.y,y.width+p,y.height+p)}else{var E=s;r.addVerticesMatrix(i,E.points,0,E.points.length,p,p)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var o=r[i*2],a=r[i*2+1];r[i*2]=n.a*o+n.c*a+n.tx,r[i*2+1]=n.b*o+n.d*a+n.ty}},t.prototype.addColors=function(r,n,i,o,a){a===void 0&&(a=0);var s=(n>>16)+(n&65280)+((n&255)<<16),f=xy(s,i);r.length=Math.max(r.length,a+o);for(var c=0;c<o;c++)r[a+c]=f},t.prototype.addTextureIds=function(r,n,i,o){o===void 0&&(o=0),r.length=Math.max(r.length,o+i);for(var a=0;a<i;a++)r[o+a]=n},t.prototype.addUvs=function(r,n,i,o,a,s){s===void 0&&(s=null);for(var f=0,c=n.length,h=i.frame;f<a;){var p=r[(o+f)*2],v=r[(o+f)*2+1];if(s){var _=s.a*p+s.c*v+s.tx;v=s.b*p+s.d*v+s.ty,p=_}f++,n.push(p/h.width,v/h.height)}var y=i.baseTexture;(h.width<y.width||h.height<y.height)&&this.adjustUvs(n,i,c,a)},t.prototype.adjustUvs=function(r,n,i,o){for(var a=n.baseTexture,s=1e-6,f=i+o*2,c=n.frame,h=c.width/a.width,p=c.height/a.height,v=c.x/c.width,_=c.y/c.height,y=Math.floor(r[i]+s),E=Math.floor(r[i+1]+s),g=i+2;g<f;g+=2)y=Math.min(y,Math.floor(r[g]+s)),E=Math.min(E,Math.floor(r[g+1]+s));v-=y,_-=E;for(var g=i;g<f;g+=2)r[g]=(r[g]+v)*h,r[g+1]=(r[g+1]+_)*p},t.BATCHABLE_SIZE=100,t}(oR),H7=function(e){Ry(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=mo.BUTT,r.join=_o.MITER,r.miterLimit=10,r}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(fR),$7=new Float32Array(3),Q_={},ad=function(e){Ry(t,e);function t(r){r===void 0&&(r=null);var n=e.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new fR,n._lineStyle=new H7,n._matrix=null,n._holeMode=!1,n.state=ka.for2d(),n._geometry=r||new G7,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=Ie.NORMAL,n}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(r,n,i,o,a){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=.5),a===void 0&&(a=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:o,native:a}),this.lineTextureStyle(r)},t.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:Re.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:mo.BUTT,join:_o.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new gh,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new gh,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},t.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],a=i[i.length-1];return(o!==r||a!==n)&&i.push(r,n),this},t.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},t.prototype.quadraticCurveTo=function(r,n,i,o){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),B7.curveTo(r,n,i,o,a),this},t.prototype.bezierCurveTo=function(r,n,i,o,a,s){return this._initCurve(),U7.curveTo(r,n,i,o,a,s,this.currentPath.points),this},t.prototype.arcTo=function(r,n,i,o,a){this._initCurve(r,n);var s=this.currentPath.points,f=NT.curveTo(r,n,i,o,a,s);if(f){var c=f.cx,h=f.cy,p=f.radius,v=f.startAngle,_=f.endAngle,y=f.anticlockwise;this.arc(c,h,p,v,_,y)}return this},t.prototype.arc=function(r,n,i,o,a,s){if(s===void 0&&(s=!1),o===a)return this;!s&&a<=o?a+=rd:s&&o<=a&&(o+=rd);var f=a-o;if(f===0)return this;var c=r+Math.cos(o)*i,h=n+Math.sin(o)*i,p=this._geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var _=Math.abs(v[v.length-2]-c),y=Math.abs(v[v.length-1]-h);_<p&&y<p||v.push(c,h)}else this.moveTo(c,h),v=this.currentPath.points;return NT.arc(c,h,r,n,i,o,a,s,v),this},t.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Re.WHITE,color:r,alpha:n})},t.prototype.beginTextureFill=function(r){r=Object.assign({texture:Re.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(r,n,i,o){return this.drawShape(new at(r,n,i,o))},t.prototype.drawRoundedRect=function(r,n,i,o,a){return this.drawShape(new c9(r,n,i,o,a))},t.prototype.drawCircle=function(r,n,i){return this.drawShape(new l9(r,n,i))},t.prototype.drawEllipse=function(r,n,i,o){return this.drawShape(new f9(r,n,i,o))},t.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var o,a=!0,s=n[0];s.points?(a=s.closeStroke,o=s.points):Array.isArray(n[0])?o=n[0]:o=n;var f=new gh(o);return f.closeStroke=a,this.drawShape(f),this},t.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Vt.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},t.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},t.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var o=0;o<i;o++){var a=r.batches[o],s=a.style.color,f=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),c=new Float32Array(r.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),h=new Uint16Array(r.indicesUint16.buffer,a.start*2,a.size),p={vertexData:f,blendMode:n,indices:h,uvs:c,_batchRGB:Js(s),_tintRGB:s,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=p}},t.prototype._renderBatched=function(r){if(!!this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var o=this.batches[n];o.worldAlpha=this.worldAlpha*o.alpha,r.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,o=this.tint,a=this.worldAlpha,s=n.uniforms,f=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(o>>16&255)/255*a,s.tint[1]=(o>>8&255)/255*a,s.tint[2]=(o&255)/255*a,s.tint[3]=a,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var c=0,h=f.length;c<h;c++)this._renderDrawCallDirect(r,i.drawCalls[c])},t.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,o=n.type,a=n.size,s=n.start,f=i.count,c=0;c<f;c++)r.texture.bind(i.elements[c],c);r.geometry.draw(o,a,s)},t.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Q_[i]){for(var o=r.plugins.batch.MAX_TEXTURES,a=new Int32Array(o),s=0;s<o;s++)a[s]=s;var f={tint:new Float32Array([1,1,1,1]),translationMatrix:new Zt,default:xa.from({uSamplers:a},!0)},c=r.plugins[i]._shader.program;Q_[i]=new Co(c,f)}n=Q_[i]}return n},t.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(!!r.graphicsData.length){var n=r.bounds,i=n.minX,o=n.minY,a=n.maxX,s=n.maxY;this._bounds.addFrame(this.transform,i,o,a,s)}},t.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Js(this.tint,$7),n=0;n<this.batches.length;n++){var i=this.batches[n],o=i._batchRGB,a=r[0]*o[0]*255,s=r[1]*o[1]*255,f=r[2]*o[2]*255,c=(a<<16)+(s<<8)+(f|0);i._tintRGB=(c>>16)+(c&65280)+((c&255)<<16)}}},t.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,f=n.tx,c=n.ty,h=this._geometry.points,p=this.vertexData,v=0,_=0;_<h.length;_+=2){var y=h[_],E=h[_+1];p[v++]=i*y+a*E+f,p[v++]=s*E+o*y+c}}},t.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(r){return this._matrix=r,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,r)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new It,t}(An);/*!
 * @pixi/sprite - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Fg=function(e,t){return Fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Fg(e,t)};function X7(e,t){Fg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Qu=new It,V7=new Uint16Array([0,1,2,0,2,3]),Fa=function(e){X7(t,e);function t(r){var n=e.call(this)||this;return n._anchor=new Ts(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Ie.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Re.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=V7,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Te.ROUND_PIXELS,n}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ws(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ws(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,s=n.d,f=n.tx,c=n.ty,h=this.vertexData,p=r.trim,v=r.orig,_=this._anchor,y=0,E=0,g=0,x=0;if(p?(E=p.x-_._x*v.width,y=E+p.width,x=p.y-_._y*v.height,g=x+p.height):(E=-_._x*v.width,y=E+v.width,x=-_._y*v.height,g=x+v.height),h[0]=i*E+a*x+f,h[1]=s*x+o*E+c,h[2]=i*y+a*x+f,h[3]=s*x+o*y+c,h[4]=i*y+a*g+f,h[5]=s*g+o*y+c,h[6]=i*E+a*g+f,h[7]=s*g+o*E+c,this._roundPixels)for(var w=Te.RESOLUTION,I=0;I<h.length;++I)h[I]=Math.round((h[I]*w|0)/w)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,o=this._anchor,a=this.transform.worldTransform,s=a.a,f=a.b,c=a.c,h=a.d,p=a.tx,v=a.ty,_=-o._x*i.width,y=_+i.width,E=-o._y*i.height,g=E+i.height;n[0]=s*_+c*E+p,n[1]=h*E+f*_+v,n[2]=s*y+c*E+p,n[3]=h*E+f*y+v,n[4]=s*y+c*g+p,n[5]=h*g+f*y+v,n[6]=s*_+c*g+p,n[7]=h*g+f*_+v},t.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new ql),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new at),r=this._localBoundsRect),this._localBounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Qu);var n=this._texture.orig.width,i=this._texture.orig.height,o=-n*this.anchor.x,a=0;return Qu.x>=o&&Qu.x<o+n&&(a=-i*this.anchor.y,Qu.y>=a&&Qu.y<a+i)},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(r,n){var i=r instanceof Re?r:Re.from(r,n);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=ws(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=ws(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Re.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(An);/*!
 * @pixi/text - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ug=function(e,t){return Ug=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ug(e,t)};function j7(e,t){Ug(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Zl;(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Zl||(Zl={}));var em={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Zl.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},z7=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],eu=function(){function e(t){this.styleID=0,this.reset(),rm(this,t,t)}return e.prototype.clone=function(){var t={};return rm(t,this,em),new e(t)},e.prototype.reset=function(){rm(this,em,em)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var r=tm(t);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var r=tm(t);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){W7(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var r=tm(t);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&z7.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+r.join(",")},e}();function OT(e){return typeof e=="number"?yI(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function tm(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=OT(e[t]);return e}else return OT(e)}function W7(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function rm(e,t,r){for(var n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}var On=function(){function e(t,r,n,i,o,a,s,f,c){this.text=t,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=s,this.maxLineWidth=f,this.fontProperties=c}return e.measureText=function(t,r,n,i){i===void 0&&(i=e._canvas),n=n==null?r.wordWrap:n;var o=r.toFontString(),a=e.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var s=i.getContext("2d");s.font=o;for(var f=n?e.wordWrap(t,r,i):t,c=f.split(/(?:\r\n|\r|\n)/),h=new Array(c.length),p=0,v=0;v<c.length;v++){var _=s.measureText(c[v]).width+(c[v].length-1)*r.letterSpacing;h[v]=_,p=Math.max(p,_)}var y=p+r.strokeThickness;r.dropShadow&&(y+=r.dropShadowDistance);var E=r.lineHeight||a.fontSize+r.strokeThickness,g=Math.max(E,a.fontSize+r.strokeThickness)+(c.length-1)*(E+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new e(t,r,y,g,c,h,E+r.leading,p,a)},e.wordWrap=function(t,r,n){n===void 0&&(n=e._canvas);for(var i=n.getContext("2d"),o=0,a="",s="",f=Object.create(null),c=r.letterSpacing,h=r.whiteSpace,p=e.collapseSpaces(h),v=e.collapseNewlines(h),_=!p,y=r.wordWrapWidth+c,E=e.tokenize(t),g=0;g<E.length;g++){var x=E[g];if(e.isNewline(x)){if(!v){s+=e.addLine(a),_=!p,a="",o=0;continue}x=" "}if(p){var w=e.isBreakingSpace(x),I=e.isBreakingSpace(a[a.length-1]);if(w&&I)continue}var P=e.getFromCache(x,c,f,i);if(P>y)if(a!==""&&(s+=e.addLine(a),a="",o=0),e.canBreakWords(x,r.breakWords))for(var N=e.wordWrapSplit(x),R=0;R<N.length;R++){for(var M=N[R],X=1;N[R+X];){var D=N[R+X],W=M[M.length-1];if(!e.canBreakChars(W,D,x,R,r.breakWords))M+=D;else break;X++}R+=M.length-1;var de=e.getFromCache(M,c,f,i);de+o>y&&(s+=e.addLine(a),_=!1,a="",o=0),a+=M,o+=de}else{a.length>0&&(s+=e.addLine(a),a="",o=0);var ue=g===E.length-1;s+=e.addLine(x,!ue),_=!1,a="",o=0}else P+o>y&&(_=!1,s+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(x)||_)&&(a+=x,o+=P)}return s+=e.addLine(a,!1),s},e.addLine=function(t,r){return r===void 0&&(r=!0),t=e.trimRight(t),t=r?t+`
`:t,t},e.getFromCache=function(t,r,n,i){var o=n[t];if(typeof o!="number"){var a=t.length*r;o=i.measureText(t).width+a,n[t]=o}return o},e.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},e.collapseNewlines=function(t){return t==="normal"},e.trimRight=function(t){if(typeof t!="string")return"";for(var r=t.length-1;r>=0;r--){var n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return typeof t!="string"?!1:e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,r){return typeof t!="string"?!1:e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],n="";if(typeof t!="string")return r;for(var i=0;i<t.length;i++){var o=t[i],a=t[i+1];if(e.isBreakingSpace(o,a)||e.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r},e.canBreakWords=function(t,r){return r},e.canBreakChars=function(t,r,n,i,o){return!0},e.wordWrapSplit=function(t){return t.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),s=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),f=Math.ceil(e.HEIGHT_MULTIPLIER*s);s=s*e.BASELINE_MULTIPLIER|0,n.width=a,n.height=f,i.fillStyle="#f00",i.fillRect(0,0,a,f),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,s);var c=i.getImageData(0,0,a,f).data,h=c.length,p=a*4,v=0,_=0,y=!1;for(v=0;v<s;++v){for(var E=0;E<p;E+=4)if(c[_+E]!==255){y=!0;break}if(!y)_+=p;else break}for(r.ascent=s-v,_=h-p,y=!1,v=f;v>s;--v){for(var E=0;E<p;E+=4)if(c[_+E]!==255){y=!0;break}if(!y)_-=p;else break}return r.descent=v-s,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){t===void 0&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),sd=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch{return document.createElement("canvas")}}();sd.width=sd.height=10;On._canvas=sd;On._context=sd.getContext("2d");On._fonts={};On.METRICS_STRING="|\xC9q\xC5";On.BASELINE_SYMBOL="M";On.BASELINE_MULTIPLIER=1.4;On.HEIGHT_MULTIPLIER=2;On._newlines=[10,13];On._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var Y7={texture:!0,children:!1,baseTexture:!0},hR=function(e){j7(t,e);function t(r,n,i){var o=this,a=!1;i||(i=document.createElement("canvas"),a=!0),i.width=3,i.height=3;var s=Re.from(i);return s.orig=new at,s.trim=new at,o=e.call(this,s)||this,o._ownCanvas=a,o.canvas=i,o.context=o.canvas.getContext("2d"),o._resolution=Te.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=r,o.style=n,o.localStyleID=-1,o}return t.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,o=On.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,s=o.height,f=o.lines,c=o.lineHeight,h=o.lineWidths,p=o.maxLineWidth,v=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var _,y,E=n.dropShadow?2:1,g=0;g<E;++g){var x=n.dropShadow&&g===0,w=x?Math.ceil(Math.max(1,s)+n.padding*2):0,I=w*this._resolution;if(x){i.fillStyle="black",i.strokeStyle="black";var P=n.dropShadowColor,N=Js(typeof P=="number"?P:xI(P)),R=n.dropShadowBlur*this._resolution,M=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+N[0]*255+","+N[1]*255+","+N[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=R,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*M,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*M+I}else i.fillStyle=this._generateFillStyle(n,f,o),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var X=(c-v.fontSize)/2;(!t.nextLineHeightBehavior||c-v.fontSize<0)&&(X=0);for(var D=0;D<f.length;D++)_=n.strokeThickness/2,y=n.strokeThickness/2+D*c+v.ascent+X,n.align==="right"?_+=p-h[D]:n.align==="center"&&(_+=(p-h[D])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(f[D],_+n.padding,y+n.padding-w,!0),n.fill&&this.drawLetterSpacing(f[D],_+n.padding,y+n.padding-w)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(r,n,i,o){o===void 0&&(o=!1);var a=this._style,s=a.letterSpacing,f=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(s===0||f){f&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),o?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var c=n,h=Array.from?Array.from(r):r.split(""),p=this.context.measureText(r).width,v=0,_=0;_<h.length;++_){var y=h[_];o?this.context.strokeText(y,c,i):this.context.fillText(y,c,i);for(var E="",g=_+1;g<h.length;++g)E+=h[g];v=this.context.measureText(E).width,c+=p-v+s,p=v}},t.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=o9(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,o=this._style,a=o.trim?0:o.padding,s=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(r){return this.updateText(!0),e.prototype.getLocalBounds.call(this,r)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(r,n,i){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,s=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,c=this.canvas.width/this._resolution-s-f*2,h=this.canvas.height/this._resolution-s-f*2,p=o.slice(),v=r.fillGradientStops.slice();if(!v.length)for(var _=p.length+1,y=1;y<_;++y)v.push(y/_);if(p.unshift(o[0]),v.unshift(0),p.push(o[o.length-1]),v.push(1),r.fillGradientType===Zl.LINEAR_VERTICAL){a=this.context.createLinearGradient(c/2,f,c/2,h+f);for(var E=i.fontProperties.fontSize+r.strokeThickness,y=0;y<n.length;y++){var g=i.lineHeight*(y-1)+E,x=i.lineHeight*y,w=x;y>0&&g>x&&(w=(x+g)/2);var I=x+E,P=i.lineHeight*(y+1),N=I;y+1<n.length&&P<I&&(N=(I+P)/2);for(var R=(N-w)/h,M=0;M<p.length;M++){var X=0;typeof v[M]=="number"?X=v[M]:X=M/p.length;var D=Math.min(1,Math.max(0,w/h+X*R));D=Number(D.toFixed(5)),a.addColorStop(D,p[M])}}}else{a=this.context.createLinearGradient(f,h/2,c+f,h/2);for(var W=p.length+1,de=1,y=0;y<p.length;y++){var ue=void 0;typeof v[y]=="number"?ue=v[y]:ue=de/W,a.addColorStop(ue,p[y]),de++}}return a},t.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},Y7,r),e.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=ws(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=ws(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof eu?this._style=r:this._style=new eu(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(Fa);/*!
 * @pixi/prepare - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Bg=function(e,t){return Bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Bg(e,t)};function q7(e,t){Bg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var K7=function(){function e(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function Z7(e,t){var r=!1;if(e&&e._textures&&e._textures.length){for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof Re){var i=e._textures[n].baseTexture;t.indexOf(i)===-1&&(t.push(i),r=!0)}}return r}function J7(e,t){if(e.baseTexture instanceof tt){var r=e.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function Q7(e,t){if(e._texture&&e._texture instanceof Re){var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function e$(e,t){return t instanceof hR?(t.updateText(!0),!0):!1}function t$(e,t){if(t instanceof eu){var r=t.toFontString();return On.measureFont(r),!0}return!1}function r$(e,t){if(e instanceof hR){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function n$(e,t){return e instanceof eu?(t.indexOf(e)===-1&&t.push(e),!0):!1}var i$=function(){function e(t){var r=this;this.limiter=new K7(Te.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!r.queue||r.prepareItems()},this.registerFindHook(r$),this.registerFindHook(n$),this.registerFindHook(Z7),this.registerFindHook(J7),this.registerFindHook(Q7),this.registerUploadHook(e$),this.registerUploadHook(t$)}return e.prototype.upload=function(t,r){typeof t=="function"&&(r=t,t=null),t&&this.add(t),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,gr.system.addOnce(this.tick,this,ji.UTILITY))):r&&r()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],r=!1;if(t&&!t._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)gr.system.addOnce(this.tick,this,ji.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var n=0,i=o.length;n<i;n++)o[n]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](t,this.queue);r++);if(t instanceof An)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},e.prototype.destroy=function(){this.ticking&&gr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function dR(e,t){return t instanceof tt?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function o$(e,t){if(!(t instanceof ad))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&dR(e,o.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function a$(e,t){return e instanceof ad?(t.push(e),!0):!1}var s$=function(e){q7(t,e);function t(r){var n=e.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(a$),n.registerUploadHook(dR),n.registerUploadHook(o$),n}return t}(i$);/*!
 * @pixi/spritesheet - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var u$=function(){function e(t,r,n){n===void 0&&(n=null),this._texture=t instanceof Re?t:null,this.baseTexture=t instanceof tt?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(t){t===void 0&&(t=null);var r=this.data.meta.scale,n=td(t,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE;r-t<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var s=null,f=null,c=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,h=new at(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);o.rotated?s=new at(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):s=new at(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(f=new at(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Re(this.baseTexture,s,h,f,o.rotated?2:0,o.anchor),Re.addToCache(this.textures[i],i)}r++}},e.prototype._processAnimations=function(){var t=this.data.animations||{};for(var r in t){this.animations[r]=[];for(var n=0;n<t[r].length;n++){var i=t[r][n];this.animations[r].push(this.textures[i])}}},e.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(t){var r;t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),l$=function(){function e(){}return e.use=function(t,r){var n,i,o=this,a=t.name+"_image";if(!t.data||t.type!==jt.TYPE.JSON||!t.data.frames||o.resources[a]){r();return}var s=(i=(n=t.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(s))for(var f=function(y){if(typeof y!="string")return"continue";var E=y.replace(".json",""),g=bs.resolve(t.url.replace(o.baseUrl,""),y);if(o.resources[E]||Object.values(o.resources).some(function(w){return bs.format(bs.parse(w.url))===g}))return"continue";var x={crossOrigin:t.crossOrigin,loadType:jt.LOAD_TYPE.XHR,xhrType:jt.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};o.add(E,g,x)},c=0,h=s;c<h.length;c++){var p=h[c];f(p)}var v={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},_=e.getResourcePath(t,o.baseUrl);o.add(a,_,v,function(E){if(E.error){r(E.error);return}var g=new u$(E.texture,t.data,t.url);g.parse(function(){t.spritesheet=g,t.textures=g.textures,r()})})},e.getResourcePath=function(t,r){return t.isDataUrl?t.data.meta.image:bs.resolve(t.url.replace(r,""),t.data.meta.image)},e}();/*!
 * @pixi/sprite-tiling - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Mg=function(e,t){return Mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Mg(e,t)};function pR(e,t){Mg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var el=new It;(function(e){pR(t,e);function t(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var o=e.call(this,r)||this;return o.tileTransform=new CI,o._width=n,o._height=i,o.uvMatrix=o.texture.uvMatrix||new Cy(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,o)},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new at),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,el);var n=this._width,i=this._height,o=-n*this.anchor._x;if(el.x>=o&&el.x<o+n){var a=-i*this.anchor._y;if(el.y>=a&&el.y<a+i)return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},t.from=function(r,n){var i=r instanceof Re?r:Re.from(r,n);return new t(i,n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),t})(Fa);var f$=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,LT=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,c$=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,h$=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,d$=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,Jc=new Zt,p$=function(e){pR(t,e);function t(r){var n=e.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new UI,n.state=ka.for2d(),n}return t.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=Co.from(LT,f$,n),this.shader=r.context.webGLVersion>1?Co.from(h$,d$,n):Co.from(LT,c$,n)},t.prototype.render=function(r){var n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y);var a=r.uvRespectAnchor?r.anchor.x:0,s=r.uvRespectAnchor?r.anchor.y:0;o=i.uvs,o[0]=o[6]=-a,o[1]=o[3]=-s,o[2]=o[4]=1-a,o[5]=o[7]=1-s,i.invalidate();var f=r._texture,c=f.baseTexture,h=r.tileTransform.localTransform,p=r.uvMatrix,v=c.isPowerOfTwo&&f.frame.width===c.width&&f.frame.height===c.height;v&&(c._glTextures[n.CONTEXT_UID]?v=c.wrapMode!==Hi.CLAMP:c.wrapMode===Hi.CLAMP&&(c.wrapMode=Hi.REPEAT));var _=v?this.simpleShader:this.shader,y=f.width,E=f.height,g=r._width,x=r._height;Jc.set(h.a*y/g,h.b*y/x,h.c*E/g,h.d*E/x,h.tx/g,h.ty/x),Jc.invert(),v?Jc.prepend(p.mapCoord):(_.uniforms.uMapCoord=p.mapCoord.toArray(!0),_.uniforms.uClampFrame=p.uClampFrame,_.uniforms.uClampOffset=p.uClampOffset),_.uniforms.uTransform=Jc.toArray(!0),_.uniforms.uColor=wI(r.tint,r.worldAlpha,_.uniforms.uColor,c.alphaMode),_.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),_.uniforms.uSampler=f,n.shader.bind(_),n.geometry.bind(i),this.state.blendMode=bI(r.blendMode,c.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(Hd);/*!
 * @pixi/mesh - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Dg=function(e,t){return Dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Dg(e,t)};function Ny(e,t){Dg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var v$=function(){function e(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},e}(),nm=new It,kT=new gh,Jl=function(e){Ny(t,e);function t(r,n,i,o){o===void 0&&(o=zn.TRIANGLES);var a=e.call(this)||this;return a.geometry=r,a.shader=n,a.state=i||ka.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=Te.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===zn.TRIANGLES&&n.length<t.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},t.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[o]),r.plugins[o].render(this)},t.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,o=n._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,s=a.a,f=a.b,c=a.c,h=a.d,p=a.tx,v=a.ty,_=this.vertexData,y=0;y<_.length/2;y++){var E=i[y*2],g=i[y*2+1];_[y*2]=s*E+c*g+p,_[y*2+1]=f*E+h*g+v}if(this._roundPixels)for(var x=Te.RESOLUTION,y=0;y<_.length;++y)_[y]=Math.round((_[y]*x|0)/x);this.vertexDirty=o}},t.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new v$(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,nm);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=kT.points,o=this.geometry.getIndex().data,a=o.length,s=this.drawMode===4?3:1,f=0;f+2<a;f+=s){var c=o[f]*2,h=o[f+1]*2,p=o[f+2]*2;if(i[0]=n[c],i[1]=n[c+1],i[2]=n[h],i[3]=n[h+1],i[4]=n[p],i[5]=n[p+1],kT.contains(nm.x,nm.y))return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(An),_$=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,m$=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Ql=function(e){Ny(t,e);function t(r,n){var i=this,o={uSampler:r,alpha:1,uTextureMatrix:Zt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(o,n.uniforms),i=e.call(this,n.program||df.from(m$,_$),o)||this,i._colorDirty=!1,i.uvMatrix=new Cy(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;wI(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Co),Xd=function(e){Ny(t,e);function t(r,n,i){var o=e.call(this)||this,a=new rr(r),s=new rr(n,!0),f=new rr(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,Ce.FLOAT).addAttribute("aTextureCoord",s,2,!1,Ce.FLOAT).addIndex(f),o._updateId=-1,o}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(hf);/*!
 * @pixi/text-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gg=function(e,t){return Gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Gg(e,t)};function g$(e,t){Gg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var ud=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),y$=function(){function e(){}return e.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},e.parse=function(t){var r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var o=r[i].match(/^[a-z]+/gm)[0],a=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var f in a){var c=a[f].split("="),h=c[0],p=c[1].replace(/"/gm,""),v=parseFloat(p),_=isNaN(v)?p:v;s[h]=_}n[o].push(s)}var y=new ud;return n.info.forEach(function(E){return y.info.push({face:E.face,size:parseInt(E.size,10)})}),n.common.forEach(function(E){return y.common.push({lineHeight:parseInt(E.lineHeight,10)})}),n.page.forEach(function(E){return y.page.push({id:parseInt(E.id,10),file:E.file})}),n.char.forEach(function(E){return y.char.push({id:parseInt(E.id,10),page:parseInt(E.page,10),x:parseInt(E.x,10),y:parseInt(E.y,10),width:parseInt(E.width,10),height:parseInt(E.height,10),xoffset:parseInt(E.xoffset,10),yoffset:parseInt(E.yoffset,10),xadvance:parseInt(E.xadvance,10)})}),n.kerning.forEach(function(E){return y.kerning.push({first:parseInt(E.first,10),second:parseInt(E.second,10),amount:parseInt(E.amount,10)})}),n.distanceField.forEach(function(E){return y.distanceField.push({distanceRange:parseInt(E.distanceRange,10),fieldType:E.fieldType})}),y},e}(),Hg=function(){function e(){}return e.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(t){for(var r=new ud,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),f=t.getElementsByTagName("distanceField"),c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(var c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(var c=0;c<o.length;c++)r.page.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});for(var c=0;c<a.length;c++){var h=a[c];r.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(var c=0;c<s.length;c++)r.kerning.push({first:parseInt(s[c].getAttribute("first"),10),second:parseInt(s[c].getAttribute("second"),10),amount:parseInt(s[c].getAttribute("amount"),10)});for(var c=0;c<f.length;c++)r.distanceField.push({fieldType:f[c].getAttribute("fieldType"),distanceRange:parseInt(f[c].getAttribute("distanceRange"),10)});return r},e}(),x$=function(){function e(){}return e.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Hg.test(r)}return!1},e.parse=function(t){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Hg.parse(r)},e}(),im=[y$,Hg,x$];function vR(e){for(var t=0;t<im.length;t++)if(im[t].test(e))return im[t];return null}function E$(e,t,r,n,i,o){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var s,f=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,h=e.width/n-f-c*2,p=e.height/n-f-c*2,v=a.slice(),_=r.fillGradientStops.slice();if(!_.length)for(var y=v.length+1,E=1;E<y;++E)_.push(E/y);if(v.unshift(a[0]),_.unshift(0),v.push(a[a.length-1]),_.push(1),r.fillGradientType===Zl.LINEAR_VERTICAL){s=t.createLinearGradient(h/2,c,h/2,p+c);for(var g=0,x=o.fontProperties.fontSize+r.strokeThickness,w=x/p,E=0;E<i.length;E++)for(var I=o.lineHeight*E,P=0;P<v.length;P++){var N=0;typeof _[P]=="number"?N=_[P]:N=P/v.length;var R=I/p+N*w,M=Math.max(g,R);M=Math.min(M,1),s.addColorStop(M,v[P]),g=M}}else{s=t.createLinearGradient(c,p/2,h+c,p/2);for(var X=v.length+1,D=1,E=0;E<v.length;E++){var W=void 0;typeof _[E]=="number"?W=_[E]:W=D/X,s.addColorStop(W,v[E]),D++}}return s}function b$(e,t,r,n,i,o,a){var s=r.text,f=r.fontProperties;t.translate(n,i),t.scale(o,o);var c=a.strokeThickness/2,h=-(a.strokeThickness/2);if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=E$(e,t,a,o,[s],r),t.strokeStyle=a.stroke,a.dropShadow){var p=a.dropShadowColor,v=Js(typeof p=="number"?p:xI(p)),_=a.dropShadowBlur*o,y=a.dropShadowDistance*o;t.shadowColor="rgba("+v[0]*255+","+v[1]*255+","+v[2]*255+","+a.dropShadowAlpha+")",t.shadowBlur=_,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*y,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*y}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(s,c,h+r.lineHeight-f.descent),a.fill&&t.fillText(s,c,h+r.lineHeight-f.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function _R(e){return Array.from?Array.from(e):e.split("")}function w$(e){typeof e=="string"&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var s=o,f=a;s<=f;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,_R(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function yh(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var ps=function(){function e(t,r,n){var i,o,a=t.info[0],s=t.common[0],f=t.page[0],c=t.distanceField[0],h=td(f.file),p={};this._ownsTextures=n,this.font=a.face,this.size=a.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=p;for(var v=0;v<t.page.length;v++){var _=t.page[v],y=_.id,E=_.file;p[y]=r instanceof Array?r[v]:r[E],(c==null?void 0:c.fieldType)&&c.fieldType!=="none"&&(p[y].baseTexture.alphaMode=Yn.NO_PREMULTIPLIED_ALPHA)}for(var v=0;v<t.char.length;v++){var g=t.char[v],y=g.id,x=g.page,w=t.char[v],I=w.x,P=w.y,N=w.width,R=w.height,M=w.xoffset,X=w.yoffset,D=w.xadvance;I/=h,P/=h,N/=h,R/=h,M/=h,X/=h,D/=h;var W=new at(I+p[x].frame.x/h,P+p[x].frame.y/h,N,R);this.chars[y]={xOffset:M,yOffset:X,xAdvance:D,kerning:{},texture:new Re(p[x].baseTexture,W),page:x}}for(var v=0;v<t.kerning.length;v++){var de=t.kerning[v],ue=de.first,pe=de.second,We=de.amount;ue/=h,pe/=h,We/=h,this.chars[pe]&&(this.chars[pe].kerning[ue]=We)}this.distanceFieldRange=c==null?void 0:c.distanceRange,this.distanceFieldType=(o=(i=c==null?void 0:c.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"none"}return e.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,n){var i;if(t instanceof ud)i=t;else{var o=vR(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}r instanceof Re&&(r=[r]);var a=new e(i,r,n);return e.available[a.font]=a,a},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,n),o=i.chars,a=i.padding,s=i.resolution,f=i.textureWidth,c=i.textureHeight,h=w$(o),p=r instanceof eu?r:new eu(r),v=f,_=new ud;_.info[0]={face:p.fontFamily,size:p.fontSize},_.common[0]={lineHeight:p.fontSize};for(var y=0,E=0,g,x,w,I=0,P=[],N=0;N<h.length;N++){g||(g=document.createElement("canvas"),g.width=f,g.height=c,x=g.getContext("2d"),w=new tt(g,{resolution:s}),P.push(new Re(w)),_.page.push({id:P.length-1,file:""}));var R=On.measureText(h[N],p,!1,g),M=R.width,X=Math.ceil(R.height),D=Math.ceil((p.fontStyle==="italic"?2:1)*M);if(E>=c-X*s){if(E===0)throw new Error("[BitmapFont] textureHeight "+c+"px is "+("too small for "+p.fontSize+"px fonts"));--N,g=null,x=null,w=null,E=0,y=0,I=0;continue}if(I=Math.max(X+R.fontProperties.descent,I),D*s+y>=v){--N,E+=I*s,E=Math.ceil(E),y=0,I=0;continue}b$(g,x,R,y,E,s,p);var W=yh(R.text);_.char.push({id:W,page:P.length-1,x:y/s,y:E/s,width:D,height:X,xoffset:0,yoffset:0,xadvance:Math.ceil(M-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),y+=(D+2*a)*s,y=Math.ceil(y)}for(var N=0,de=h.length;N<de;N++)for(var ue=h[N],pe=0;pe<de;pe++){var We=h[pe],le=x.measureText(ue).width,fe=x.measureText(We).width,Ee=x.measureText(ue+We).width,Fe=Ee-(le+fe);Fe&&_.kerning.push({first:yh(ue),second:yh(We),amount:Fe})}var dt=new e(_,P,!0);return e.available[t]!==void 0&&e.uninstall(t),e.available[t]=dt,dt},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),T$=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,S$=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,C$=[],I$=[],FT=[];(function(e){g$(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,n),a=o.align,s=o.tint,f=o.maxWidth,c=o.letterSpacing,h=o.fontName,p=o.fontSize;if(!ps.available[h])throw new Error('Missing BitmapFont "'+h+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=s,i._fontName=h,i._fontSize=p||ps.available[h].size,i._text=r,i._maxWidth=f,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new Ts(function(){i.dirty=!0},i,0,0),i._roundPixels=Te.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var r,n=ps.available[this._fontName],i=this._fontSize/n.size,o=new It,a=[],s=[],f=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",h=_R(c),p=this._maxWidth*n.size/this._fontSize,v=n.distanceFieldType==="none"?C$:I$,_=null,y=0,E=0,g=0,x=-1,w=0,I=0,P=0,N=0,R=0;R<h.length;R++){var M=h[R],X=yh(M);if(/(?:\s)/.test(M)&&(x=R,w=y,N++),M==="\r"||M===`
`){s.push(y),f.push(-1),E=Math.max(E,y),++g,++I,o.x=0,o.y+=n.lineHeight,_=null,N=0;continue}var D=n.chars[X];if(!!D){_&&D.kerning[_]&&(o.x+=D.kerning[_]);var W=FT.pop()||{texture:Re.EMPTY,line:0,charCode:0,prevSpaces:0,position:new It};W.texture=D.texture,W.line=g,W.charCode=X,W.position.x=o.x+D.xOffset+this._letterSpacing/2,W.position.y=o.y+D.yOffset,W.prevSpaces=N,a.push(W),y=W.position.x+Math.max(D.xAdvance,D.texture.orig.width),o.x+=D.xAdvance+this._letterSpacing,P=Math.max(P,D.yOffset+D.texture.height),_=X,x!==-1&&p>0&&o.x>p&&(++I,$s(a,1+x-I,1+R-x),R=x,x=-1,s.push(w),f.push(a.length>0?a[a.length-1].prevSpaces:0),E=Math.max(E,w),g++,o.x=0,o.y+=n.lineHeight,_=null,N=0)}}var de=h[h.length-1];de!=="\r"&&de!==`
`&&(/(?:\s)/.test(de)&&(y=w),s.push(y),E=Math.max(E,y),f.push(-1));for(var ue=[],R=0;R<=g;R++){var pe=0;this._align==="right"?pe=E-s[R]:this._align==="center"?pe=(E-s[R])/2:this._align==="justify"&&(pe=f[R]<0?0:(E-s[R])/f[R]),ue.push(pe)}for(var We=a.length,le={},fe=[],Ee=this._activePagesMeshData,R=0;R<Ee.length;R++)v.push(Ee[R]);for(var R=0;R<We;R++){var Fe=a[R].texture,dt=Fe.baseTexture.uid;if(!le[dt]){var Z=v.pop();if(!Z){var V=new Xd,ne=void 0,ce=void 0;n.distanceFieldType==="none"?(ne=new Ql(Re.EMPTY),ce=Ie.NORMAL):(ne=new Ql(Re.EMPTY,{program:df.from(S$,T$),uniforms:{uFWidth:0}}),ce=Ie.NORMAL_NPM);var Se=new Jl(V,ne);Se.blendMode=ce,Z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Se,vertices:null,uvs:null,indices:null}}Z.index=0,Z.indexCount=0,Z.vertexCount=0,Z.uvsCount=0,Z.total=0;var ke=this._textureCache;ke[dt]=ke[dt]||new Re(Fe.baseTexture),Z.mesh.texture=ke[dt],Z.mesh.tint=this._tint,fe.push(Z),le[dt]=Z}le[dt].total++}for(var R=0;R<Ee.length;R++)fe.indexOf(Ee[R])===-1&&this.removeChild(Ee[R].mesh);for(var R=0;R<fe.length;R++)fe[R].mesh.parent!==this&&this.addChild(fe[R].mesh);this._activePagesMeshData=fe;for(var R in le){var Z=le[R],Me=Z.total;if(!(((r=Z.indices)===null||r===void 0?void 0:r.length)>6*Me)||Z.vertices.length<Jl.BATCHABLE_SIZE*2)Z.vertices=new Float32Array(4*2*Me),Z.uvs=new Float32Array(4*2*Me),Z.indices=new Uint16Array(6*Me);else for(var st=Z.total,ut=Z.vertices,Ye=st*4*2;Ye<ut.length;Ye++)ut[Ye]=0;Z.mesh.size=6*Me}for(var R=0;R<We;R++){var M=a[R],wt=M.position.x+ue[M.line]*(this._align==="justify"?M.prevSpaces:1);this._roundPixels&&(wt=Math.round(wt));var Ke=wt*i,lt=M.position.y*i,Fe=M.texture,Ge=le[Fe.baseTexture.uid],ct=Fe.frame,rt=Fe._uvs,ze=Ge.index++;Ge.indices[ze*6+0]=0+ze*4,Ge.indices[ze*6+1]=1+ze*4,Ge.indices[ze*6+2]=2+ze*4,Ge.indices[ze*6+3]=0+ze*4,Ge.indices[ze*6+4]=2+ze*4,Ge.indices[ze*6+5]=3+ze*4,Ge.vertices[ze*8+0]=Ke,Ge.vertices[ze*8+1]=lt,Ge.vertices[ze*8+2]=Ke+ct.width*i,Ge.vertices[ze*8+3]=lt,Ge.vertices[ze*8+4]=Ke+ct.width*i,Ge.vertices[ze*8+5]=lt+ct.height*i,Ge.vertices[ze*8+6]=Ke,Ge.vertices[ze*8+7]=lt+ct.height*i,Ge.uvs[ze*8+0]=rt.x0,Ge.uvs[ze*8+1]=rt.y0,Ge.uvs[ze*8+2]=rt.x1,Ge.uvs[ze*8+3]=rt.y1,Ge.uvs[ze*8+4]=rt.x2,Ge.uvs[ze*8+5]=rt.y2,Ge.uvs[ze*8+6]=rt.x3,Ge.uvs[ze*8+7]=rt.y3}this._textWidth=E*i,this._textHeight=(o.y+n.lineHeight)*i;for(var R in le){var Z=le[R];if(this.anchor.x!==0||this.anchor.y!==0)for(var Lt=0,Mr=this._textWidth*this.anchor.x,qn=this._textHeight*this.anchor.y,pn=0;pn<Z.total;pn++)Z.vertices[Lt++]-=Mr,Z.vertices[Lt++]-=qn,Z.vertices[Lt++]-=Mr,Z.vertices[Lt++]-=qn,Z.vertices[Lt++]-=Mr,Z.vertices[Lt++]-=qn,Z.vertices[Lt++]-=Mr,Z.vertices[Lt++]-=qn;this._maxLineHeight=P*i;var or=Z.mesh.geometry.getBuffer("aVertexPosition"),kn=Z.mesh.geometry.getBuffer("aTextureCoord"),Kn=Z.mesh.geometry.getIndex();or.data=Z.vertices,kn.data=Z.uvs,Kn.data=Z.indices,or.update(),kn.update(),Kn.update()}for(var R=0;R<a.length;R++)FT.push(a[R])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(r){var n=ps.available[this._fontName],i=n.distanceFieldRange,o=n.distanceFieldType,a=n.size;if(o!=="none")for(var s=this.worldTransform,f=s.a,c=s.b,h=s.c,p=s.d,v=Math.sqrt(f*f+c*c),_=Math.sqrt(h*h+p*p),y=(Math.abs(v)+Math.abs(_))/2,E=this._fontSize/a,g=0,x=this._activePagesMeshData;g<x.length;g++){var w=x[g];w.mesh.shader.uniforms.uFWidth=y*i*E*r.resolution}e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!ps.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var o=n[i];o.destroy(),delete n[i]}this._textureCache=null,e.prototype.destroy.call(this,r)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t})(An);var R$=function(){function e(){}return e.add=function(){jt.setExtensionXhrType("fnt",jt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=vR(t.data);if(!n){r();return}for(var i=e.getBaseUrl(this,t),o=n.parse(t.data),a={},s=function(E){a[E.metadata.pageFile]=E.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=ps.install(o,a,!0),r())},f=0;f<o.page.length;++f){var c=o.page[f].file,h=i+c,p=!1;for(var v in this.resources){var _=this.resources[v];if(_.url===h){_.metadata.pageFile=c,_.texture?s(_):_.onAfterMiddleware.add(s),p=!0;break}}if(!p){var y={crossOrigin:t.crossOrigin,loadType:jt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(h,y,s)}}},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),t.baseUrl&&n&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(t.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},e.dirname=function(t){var r=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===t?".":r===""?"/":r},e}();/*!
 * @pixi/filter-alpha - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $g=function(e,t){return $g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},$g(e,t)};function N$(e,t){$g(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var A$=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(e){N$(t,e);function t(r){r===void 0&&(r=1);var n=e.call(this,LH,A$,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t})(Ho);/*!
 * @pixi/filter-blur - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Xg=function(e,t){return Xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Xg(e,t)};function mR(e,t){Xg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var P$=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function O$(e,t){var r=Math.ceil(e/2),n=P$,i="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var s=o.replace("%index%",a.toString());s=s.replace("%sampleIndex%",a-(r-1)+".0"),i+=s,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}var L$={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},k$=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function F$(e){for(var t=L$[e],r=t.length,n=k$,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,s=0;s<e;s++){var f=o.replace("%index%",s.toString());a=s,s>=r&&(a=e-s-1),f=f.replace("%value%",t[a].toString()),i+=f,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var UT;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(UT||(UT={}));var BT;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(BT||(BT={}));var MT;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(MT||(MT={}));var DT;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(DT||(DT={}));var GT;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(GT||(GT={}));var HT;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(HT||(HT={}));var $T;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})($T||($T={}));var XT;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(XT||(XT={}));var VT;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(VT||(VT={}));var jT;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(jT||(jT={}));var zT;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(zT||(zT={}));var WT;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(WT||(WT={}));var YT;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(YT||(YT={}));var ef;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(ef||(ef={}));var qT;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(qT||(qT={}));var KT;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(KT||(KT={}));var ZT;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(ZT||(ZT={}));var JT;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(JT||(JT={}));var QT;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(QT||(QT={}));var eS=function(e){mR(t,e);function t(r,n,i,o,a){n===void 0&&(n=8),i===void 0&&(i=4),o===void 0&&(o=Te.FILTER_RESOLUTION),a===void 0&&(a=5);var s=this,f=O$(a,r),c=F$(a);return s=e.call(this,f,c)||this,s.horizontal=r,s.resolution=o,s._quality=0,s.quality=i,s.blur=n,s}return t.prototype.apply=function(r,n,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,o);else{var a=r.getFilterTexture(),s=r.renderer,f=n,c=a;this.state.blend=!1,r.applyFilter(this,f,c,ef.CLEAR);for(var h=1;h<this.passes-1;h++){r.bindAndClear(f,ef.BLIT),this.uniforms.uSampler=c;var p=c;c=f,f=p,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,c,i,o),r.returnFilterTexture(a)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),t}(Ho);(function(e){mR(t,e);function t(r,n,i,o){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Te.FILTER_RESOLUTION),o===void 0&&(o=5);var a=e.call(this)||this;return a.blurXFilter=new eS(!0,r,n,i,o),a.blurYFilter=new eS(!1,r,n,i,o),a.resolution=i,a.quality=n,a.blur=r,a.repeatEdgePixels=!1,a}return t.prototype.apply=function(r,n,i,o){var a=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(a&&s){var f=r.getFilterTexture();this.blurXFilter.apply(r,n,f,ef.CLEAR),this.blurYFilter.apply(r,f,i,o),r.returnFilterTexture(f)}else s?this.blurYFilter.apply(r,n,i,o):this.blurXFilter.apply(r,n,i,o)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),t})(Ho);/*!
 * @pixi/filter-color-matrix - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Vg=function(e,t){return Vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Vg(e,t)};function U$(e,t){Vg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var B$=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,tS=function(e){U$(t,e);function t(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=e.call(this,iR,B$,n)||this,r.alpha=1,r}return t.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},t.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},t.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.tint=function(r,n){var i=r>>16&255,o=r>>8&255,a=r&255,s=[i/255,0,0,0,0,0,o/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(s,n)},t.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),o=Math.sin(r),a=Math.sqrt,s=1/3,f=a(s),c=i+(1-i)*s,h=s*(1-i)-f*o,p=s*(1-i)+f*o,v=s*(1-i)+f*o,_=i+s*(1-i),y=s*(1-i)-f*o,E=s*(1-i)-f*o,g=s*(1-i)+f*o,x=i+s*(1-i),w=[c,h,p,0,0,v,_,y,0,0,E,g,x,0,0,0,0,0,1,0];this._loadMatrix(w,n)},t.prototype.contrast=function(r,n){var i=(r||0)+1,o=-.5*(i-1),a=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,o=(i-1)*-.5,a=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.colorTone=function(r,n,i,o,a){r=r||.2,n=n||.15,i=i||16770432,o=o||3375104;var s=(i>>16&255)/255,f=(i>>8&255)/255,c=(i&255)/255,h=(o>>16&255)/255,p=(o>>8&255)/255,v=(o&255)/255,_=[.3,.59,.11,0,0,s,f,c,r,0,h,p,v,n,0,s-h,f-p,c-v,0,0];this._loadMatrix(_,a)},t.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t}(Ho);tS.prototype.grayscale=tS.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jg=function(e,t){return jg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},jg(e,t)};function M$(e,t){jg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var D$=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,G$=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(e){M$(t,e);function t(r,n){var i=this,o=new Zt;return r.renderable=!1,i=e.call(this,G$,D$,{mapSampler:r._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=o,n==null&&(n=20),i.scale=new It(n,n),i}return t.prototype.apply=function(r,n,i,o){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,s=Math.sqrt(a.a*a.a+a.b*a.b),f=Math.sqrt(a.c*a.c+a.d*a.d);s!==0&&f!==0&&(this.uniforms.rotation[0]=a.a/s,this.uniforms.rotation[1]=a.b/s,this.uniforms.rotation[2]=a.c/f,this.uniforms.rotation[3]=a.d/f),r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),t})(Ho);/*!
 * @pixi/filter-fxaa - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var zg=function(e,t){return zg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},zg(e,t)};function H$(e,t){zg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var $$=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,X$=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(e){H$(t,e);function t(){return e.call(this,$$,X$)||this}return t})(Ho);/*!
 * @pixi/filter-noise - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Wg=function(e,t){return Wg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Wg(e,t)};function V$(e,t){Wg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var j$=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(e){V$(t,e);function t(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=e.call(this,iR,j$,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),t})(Ho);/*!
 * @pixi/mixin-cache-as-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rS;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(rS||(rS={}));var nS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(nS||(nS={}));var iS;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(iS||(iS={}));var oS;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(oS||(oS={}));var aS;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(aS||(aS={}));var sS;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(sS||(sS={}));var uS;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(uS||(uS={}));var lS;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(lS||(lS={}));var fS;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(fS||(fS={}));var cS;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(cS||(cS={}));var hS;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(hS||(hS={}));var dS;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(dS||(dS={}));var pS;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(pS||(pS={}));var vS;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(vS||(vS={}));var _S;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(_S||(_S={}));var mS;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(mS||(mS={}));var gS;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(gS||(gS={}));var Yg;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Yg||(Yg={}));var yS;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(yS||(yS={}));var gR=new Zt;Jt.prototype._cacheAsBitmap=!1;Jt.prototype._cacheData=null;Jt.prototype._cacheAsBitmapResolution=null;Jt.prototype._cacheAsBitmapMultisample=Yg.NONE;var z$=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(Jt.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(this._cacheData||(this._cacheData=new z$),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});Jt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Jt.prototype._initCachedDisplayObject=function(t){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(Te.RESOLUTION);var a=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),f=t.renderTexture.destinationFrame.clone(),c=t.projection.transform,h=Ra.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:t.multisample}),p="cacheAsBitmap_"+Ca();this._cacheData.textureCacheId=p,tt.addToCache(h.baseTexture,p),Re.addToCache(h,p);var v=this.transform.localTransform.copyTo(gR).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:h,clear:!0,transform:v,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=c,t.renderTexture.bind(a,s,f),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var _=new Fa(h);_.transform.worldTransform=this.transform.worldTransform,_.anchor.x=-(i.x/i.width),_.anchor.y=-(i.y/i.height),_.alpha=n,_._bounds=this._bounds,this._cacheData.sprite=_,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=_.containsPoint.bind(_)}};Jt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Jt.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=t.context,o=t._projTransform;r.ceil(Te.RESOLUTION);var a=Ra.create({width:r.width,height:r.height}),s="cacheAsBitmap_"+Ca();this._cacheData.textureCacheId=s,tt.addToCache(a.baseTexture,s),Re.addToCache(a,s);var f=gR;this.transform.localTransform.copyTo(f),f.invert(),f.tx-=r.x,f.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:f,skipUpdateTransform:!1}),t.context=i,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var c=new Fa(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=n,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}};Jt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Jt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Jt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,tt.removeFromCache(this._cacheData.textureCacheId),Re.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Jt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Jt.prototype.name=null;An.prototype.getChildByName=function(t,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===t)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n];if(!!o.getChildByName){var a=this.children[n].getChildByName(t,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Jt.prototype.getGlobalPosition=function(t,r){return t===void 0&&(t=new It),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,t,r):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/mesh-extras - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var qg=function(e,t){return qg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qg(e,t)};function hu(e,t){qg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var W$=function(e){hu(t,e);function t(r,n,i,o){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),o===void 0&&(o=10);var a=e.call(this)||this;return a.segWidth=i,a.segHeight=o,a.width=r,a.height=n,a.build(),a}return t.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],o=[],a=this.segWidth-1,s=this.segHeight-1,f=this.width/a,c=this.height/s,h=0;h<r;h++){var p=h%this.segWidth,v=h/this.segWidth|0;n.push(p*f,v*c),i.push(p/a,v/s)}for(var _=a*s,h=0;h<_;h++){var y=h%a,E=h/a|0,g=E*this.segWidth+y,x=E*this.segWidth+y+1,w=(E+1)*this.segWidth+y,I=(E+1)*this.segWidth+y+1;o.push(g,x,w,x,I,w)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(Xd),Y$=function(e){hu(t,e);function t(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var o=e.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return o.points=n,o._width=r,o.textureScale=i,o.build(),o}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var r=this.points;if(!!r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),o.data=new Uint16Array((r.length-1)*6));var a=i.data,s=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var f=0,c=r[0],h=this._width*this.textureScale,p=r.length,v=0;v<p;v++){var _=v*4;if(this.textureScale>0){var y=c.x-r[v].x,E=c.y-r[v].y,g=Math.sqrt(y*y+E*E);c=r[v],f+=g/h}else f=v/(p-1);a[_]=f,a[_+1]=0,a[_+2]=f,a[_+3]=1}for(var x=0,v=0;v<p-1;v++){var _=v*2;s[x++]=_,s[x++]=_+1,s[x++]=_+2,s[x++]=_+2,s[x++]=_+1,s[x++]=_+3}i.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,o=0,a=0,s=this.buffers[0].data,f=r.length,c=0;c<f;c++){var h=r[c],p=c*4;c<r.length-1?i=r[c+1]:i=h,a=-(i.x-n.x),o=i.y-n.y;var v=Math.sqrt(o*o+a*a),_=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=v,a/=v,o*=_,a*=_,s[p]=h.x+o,s[p+1]=h.y+a,s[p+2]=h.x-o,s[p+3]=h.y-a,n=h}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(Xd);(function(e){hu(t,e);function t(r,n,i){i===void 0&&(i=0);var o=this,a=new Y$(r.height,n,i),s=new Ql(r);return i>0&&(r.baseTexture.wrapMode=Hi.REPEAT),o=e.call(this,a,s)||this,o.autoUpdate=!0,o}return t.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,r)},t})(Jl);var q$=function(e){hu(t,e);function t(r,n,i){var o=this,a=new W$(r.width,r.height,n,i),s=new Ql(Re.WHITE);return o=e.call(this,a,s)||this,o.texture=r,o.autoResize=!0,o}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,o=n.height;this.autoResize&&(r.width!==i||r.height!==o)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,r)},t.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,r)},t}(Jl);(function(e){hu(t,e);function t(r,n,i,o,a){r===void 0&&(r=Re.EMPTY);var s=this,f=new Xd(n,i,o);f.getBuffer("aVertexPosition").static=!1;var c=new Ql(r);return s=e.call(this,f,c,null,a)||this,s.autoUpdate=!0,s}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,r)},t})(Jl);var Qc=10;(function(e){hu(t,e);function t(r,n,i,o,a){n===void 0&&(n=Qc),i===void 0&&(i=Qc),o===void 0&&(o=Qc),a===void 0&&(a=Qc);var s=e.call(this,Re.WHITE,4,4)||this;return s._origWidth=r.orig.width,s._origHeight=r.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=o,s._topHeight=i,s._bottomHeight=a,s.texture=r,s}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},t.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},t.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,a=Math.min(n,o);return a},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,o=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=o*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t})(q$);/*!
 * @pixi/sprite-animated - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Kg=function(e,t){return Kg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Kg(e,t)};function K$(e,t){Kg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}(function(e){K$(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r[0]instanceof Re?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(gr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(gr.shared.add(this.update,this,ji.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(r){if(!!this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=n/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(r){this.stop(),e.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Re.from(r[i]));return new t(n)},t.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Re.from(r[i]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Re)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(gr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(gr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t})(Fa);/*!
 * pixi.js - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */$o.registerPlugin("accessibility",E9);$o.registerPlugin("extract",XH);$o.registerPlugin("interaction",I9);$o.registerPlugin("particle",P7);$o.registerPlugin("prepare",s$);$o.registerPlugin("batch",BH);$o.registerPlugin("tilingSprite",p$);di.registerPlugin(R$);di.registerPlugin(a7);di.registerPlugin(w7);di.registerPlugin(R7);di.registerPlugin(l$);$d.registerPlugin(b9);$d.registerPlugin(JH);const Z$=(e,t)=>{const n=me.currentPixi,i=new An;n.stage.addChild(i);const o=Re.from("./game/tex/raindrop.png");i.x=n.screen.width/2,i.y=n.screen.height/2,i.pivot.x=i.width/2,i.pivot.y=i.height/2,i.scale.x=1,i.scale.y=1;const a=[];return n.ticker.add(s=>{for(let h=0;h<t;h++){const p=new Fa(o);let v=Math.random();v<=.5&&(v=.5),p.scale.x=.3*v,p.scale.y=.3*v,p.anchor.set(.5),p.x=Math.random()*1600-.5*1600,p.y=0-.5*900,p.dropSpeed=Math.random()*2,p.acc=Math.random(),p.alpha=Math.random(),p.alpha>=.5&&(p.alpha=.5),p.alpha<=.2&&(p.alpha=.2),i.addChild(p),a.push(p)}for(const h of a)h.dropSpeed=h.acc*.01+h.dropSpeed,h.y+=s*e*h.dropSpeed*1.1+3;a.length>=2500&&(a.unshift(),i.removeChild(i.children[0]))}),i},J$=e=>{const r=me.currentPixi,n=new An;r.stage.addChild(n);const i=Re.from("./game/tex/snowFlake_min.png");n.x=r.screen.width/2,n.y=r.screen.height/2,n.pivot.x=n.width/2,n.pivot.y=n.height/2,n.scale.x=1,n.scale.y=1;const o=[];return r.ticker.add(a=>{const c=new Fa(i);let h=Math.random();h<=.5&&(h=.5),c.scale.x=.09*h,c.scale.y=.09*h,c.anchor.set(.5),c.x=Math.random()*1600-.5*1600,c.y=0-.5*900,c.dropSpeed=Math.random()*2,c.acc=Math.random(),n.addChild(c),o.push(c);let p=0;for(const v of o){p++;const _=Math.random();v.dropSpeed=v.acc*.01+v.dropSpeed,v.y+=a*e*v.dropSpeed*.3+.7,p%2===0?(v.x+=a*_*.5,v.rotation+=a*_*.03):(v.x-=a*_*.5,v.rotation-=a*_*.03)}o.length>=500&&(o.unshift(),n.removeChild(n.children[0]))}),n},Q$=e=>{const t="PixiPerform"+e.content;me.performList.forEach(n=>{if(n.performName===t)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});let r;switch(e.content){case"rain":r=Z$(6,10);break;case"snow":r=J$(3);break}return{performName:t,duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{et.warn("\u73B0\u5728\u6B63\u5728\u5378\u8F7Dpixi\u6F14\u51FA"),r.destroy({texture:!0,baseTexture:!0})},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},eX=e=>{let t=e.content;return(e.content==="none"||e.content==="")&&(t=""),xe.dispatch(Ar({key:"miniAvatar",value:t})),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},tX=e=>(me.performList.forEach(t=>{if(t.performName.match(/PixiPerform/)){et.warn("pixi \u88AB\u811A\u672C\u91CD\u65B0\u521D\u59CB\u5316",t.performName);for(let i=0;i<me.performList.length;i++){const o=me.performList[i];o.performName===t.performName&&(o.stopFunction(),clearTimeout(o.stopTimeout),me.performList.splice(i,1),i--)}const r=xe.getState().stage,n=Sa.cloneDeep(r);for(let i=0;i<n.PerformList.length;i++)n.PerformList[i].script.command===ie.pixi&&(n.PerformList.splice(i,1),i--);xe.dispatch(fu(n))}}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),rX=e=>{const t=kd();return Ys.render(B("div",{className:$l.videoContainer,children:B("video",{className:$l.fullScreen_video,id:"playVideoElement",src:e.content,autoPlay:!0})}),document.getElementById("videoContainer")),setTimeout(()=>{let r=document.getElementById("playVideoElement");if(r!==null){r.currentTime=0;const n={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{r.oncanplay=()=>{};const i=xe.getState().userData,o=i.optionData.volumeMain,a=o*.01*i.optionData.vocalVolume*.01,s=o*.01*i.optionData.bgmVolume*.01,f=document.getElementById("currentBgm");f&&(f.volume=s.toString());const c=document.getElementById("currentVocal");f&&(c.volume=a.toString()),Ys.render(B("div",{}),document.getElementById("videoContainer"))},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0,goNextWhenOver:!0};me.performList.push(n),r.oncanplay=()=>{const a=document.getElementById("currentBgm");a&&(a.volume=0 .toString());const s=document.getElementById("currentVocal");a&&(s.volume=0 .toString()),r.play()},r.onended=()=>{for(const i of me.performList)i.performName===t&&(i.isOver=!0,i.stopFunction(),Fd(i.performName),qr())}}},1),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},yR=e=>{const t=Le.currentSentenceId;let r=t;Le.currentScene.sentenceList.forEach((n,i)=>{n.command===ie.label&&n.content===e&&i>=t&&(r=i)}),Le.currentSentenceId=r,setTimeout(qr,1)},nX=e=>(yR(e.content),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),iX=e=>({performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),oX="_Choose_Main_1g699_2",aX="_Choose_item_1g699_14";var xS={Choose_Main:oX,Choose_item:aX};const sX=e=>{const n=e.content.split("|").map(i=>i.split(":")).map((i,o)=>B("div",{className:xS.Choose_item,onClick:()=>{i[1].match(/\./)?uI(i[1],i[0]):yR(i[1]),Fd("choose")},children:i[0]},i[0]+o));return Ys.render(B("div",{className:xS.Choose_Main,children:n}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isOver:!1,isHoldOn:!1,stopFunction:()=>{Ys.render(B("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},uX=e=>{gy(!0);const t=xe.dispatch,r=vr("start.txt",Pt.scene);return mi(r).then(n=>{Le.currentScene=gi(n,"start.txt",r)}),t(qt({component:"showTitle",visibility:!0})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},lX=e=>{const r=xe.getState().stage.effects,n=Sa.cloneDeep(r);let i=!1;return n.forEach(o=>{o.target==="MainStage_bg_MainContainer"&&(et.warn("\u5DF2\u5B58\u5728\u6548\u679C\uFF0C\u6B63\u5728\u4FEE\u6539"),i=!0,o.filter=e.content)}),i||n.push({target:"MainStage_bg_MainContainer",transform:"",filter:e.content}),xe.dispatch(Ar({key:"effects",value:n})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},fX=e=>{const t=e.content;return setTimeout(()=>{const r=document.getElementById("MainStage_bg_MainContainer");r&&(r.style.animation="none",setTimeout(()=>{r.style.animation=t},1))},50),{performName:"bgAni",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},cX=e=>{const t=e.content;return e.args.forEach(r=>{if(r.key==="left"&&r.value){const n=document.getElementById("figLeftContainer");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation=t},1))}if(r.key==="center"&&r.value){const n=document.getElementById("figCenterContainer");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation=t},1))}if(r.key==="right"&&r.value){const n=document.getElementById("figRightContainer");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation=t},1))}}),{performName:"figAni",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},hX=e=>{const r=xe.getState().stage.effects,n=Sa.cloneDeep(r);let i=!1;return n.forEach(o=>{o.target==="MainStage_bg_MainContainer"&&(i=!0,o.transform=e.content)}),i||n.push({target:"MainStage_bg_MainContainer",transform:e.content,filter:""}),xe.dispatch(Ar({key:"effects",value:n})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};var Ay={},ld={document:{}},xR=Object.prototype.hasOwnProperty,ER=function(e){return Vd(e)?e.toLowerCase():e},bl=Array.isArray,dX=function(e){return Vd(e)?e.replace(/[A-Z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)|32)}):e};"I".toLowerCase()!=="i"&&(ER=dX);var pX,Py=Object.prototype.toString,bR=Object.getPrototypeOf,om=IR("ng");ld.angular||(ld.angular={});function vX(e){if(e==null||ky(e))return!1;if(bl(e)||Vd(e)||pX)return!0;var t="length"in Object(e)&&e.length;return Ly(t)&&(t>=0&&(t-1 in e||e instanceof Array)||typeof e.item=="function")}function Bt(e,t,r){var n,i;if(e)if(SR(e))for(n in e)n!=="prototype"&&n!=="length"&&n!=="name"&&e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else if(bl(e)||vX(e)){var o=typeof e!="object";for(n=0,i=e.length;n<i;n++)(o||n in e)&&t.call(r,e[n],n,e)}else if(e.forEach&&e.forEach!==Bt)e.forEach(t,r,e);else if(TR(e))for(n in e)t.call(r,e[n],n,e);else if(typeof e.hasOwnProperty=="function")for(n in e)e.hasOwnProperty(n)&&t.call(r,e[n],n,e);else for(n in e)xR.call(e,n)&&t.call(r,e[n],n,e);return e}function _X(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function Oy(){}Oy.$inject=[];function mX(e){return typeof e=="undefined"}function Ss(e){return typeof e!="undefined"}function wR(e){return e!==null&&typeof e=="object"}function TR(e){return e!==null&&typeof e=="object"&&!bR(e)}function Vd(e){return typeof e=="string"}function Ly(e){return typeof e=="number"}function SR(e){return typeof e=="function"}function ky(e){return e&&e.window===e}function CR(e){return e&&e.$evalAsync&&e.$watch}var gX=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function yX(e){return e&&Ly(e.length)&&gX.test(Py.call(e))}function xX(e){return Py.call(e)==="[object ArrayBuffer]"}function EX(e,t){var r=[],n=[];if(t){if(yX(t)||xX(t))throw om("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw om("cpi","Can't copy! Source and destination are identical.");return bl(t)?t.length=0:Bt(t,function(s,f){f!=="$$hashKey"&&delete t[f]}),r.push(e),n.push(t),i(e,t)}return o(e);function i(s,f){var c=f.$$hashKey,h;if(bl(s))for(var p=0,v=s.length;p<v;p++)f.push(o(s[p]));else if(TR(s))for(h in s)f[h]=o(s[h]);else if(s&&typeof s.hasOwnProperty=="function")for(h in s)s.hasOwnProperty(h)&&(f[h]=o(s[h]));else for(h in s)xR.call(s,h)&&(f[h]=o(s[h]));return _X(f,c),f}function o(s){if(!wR(s))return s;var f=r.indexOf(s);if(f!==-1)return n[f];if(ky(s)||CR(s))throw om("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var c=!1,h=a(s);return h===void 0&&(h=bl(s)?[]:Object.create(bR(s)),c=!0),r.push(s),n.push(h),c?i(s,h):h}function a(s){switch(Py.call(s)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new s.constructor(o(s.buffer),s.byteOffset,s.length);case"[object ArrayBuffer]":if(!s.slice){var f=new ArrayBuffer(s.byteLength);return new Uint8Array(f).set(new Uint8Array(s)),f}return s.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new s.constructor(s.valueOf());case"[object RegExp]":var c=new RegExp(s.source,s.toString().match(/[^\/]*$/)[0]);return c.lastIndex=s.lastIndex,c;case"[object Blob]":return new s.constructor([s],{type:s.type})}if(SR(s.cloneNode))return s.cloneNode(!0)}}function bX(e,t){var r=t;return typeof e=="string"&&e.charAt(0)==="$"&&e.charAt(1)==="$"?r=void 0:ky(t)?r="$WINDOW":t&&ld.document===t?r="$DOCUMENT":CR(t)&&(r="$SCOPE"),r}function wX(e){if(!e.currentScript)return!0;var t=e.currentScript.getAttribute("src"),r=e.createElement("a");r.href=t;var n=r.protocol,i=e.location.protocol;return!((n==="resource:"||n==="chrome-extension:")&&i!==n)}wX(ld.document);function TX(){return Object.create(null)}function SX(e){var t=[];return JSON.stringify(e,function(r,n){if(n=bX(r,n),wR(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function ES(e){return typeof e=="function"?e.toString().replace(/ \{[\s\S]*$/,""):mX(e)?"undefined":typeof e!="string"?SX(e):e}function IR(e,t){return t=t||Error,function(){var r=2,n=arguments,i=n[0],o="["+(e?e+":":"")+i+"] ",a=n[1],s,f;for(o+=a.replace(/\{\d+\}/g,function(c){var h=+c.slice(1,-1),p=h+r;return p<n.length?ES(n[p]):c}),o+=`
http://errors.angularjs.org/"NG_VERSION_FULL"/`+(e?e+"/":"")+i,f=r,s="?";f<n.length;f++,s="&")o+=s+"p"+(f-r)+"="+encodeURIComponent(ES(n[f]));return new t(o)}}var Cs=IR("$parse");({}).constructor.prototype.valueOf;function RR(e){return e+""}var xh=TX();Bt("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){xh[e]=!0});var CX={n:`
`,f:"\f",r:"\r",t:"	",v:"\v","'":"'",'"':'"'},Zg=function(t){this.options=t};Zg.prototype={constructor:Zg,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if(t==='"'||t==="'")this.readString(t);else if(this.isNumber(t)||t==="."&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var r=t+this.peek(),n=r+this.peek(2),i=xh[t],o=xh[r],a=xh[n];if(i||o||a){var s=a?n:o?r:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return"0"<=e&&e<="9"&&typeof e=="string"},isWhitespace:function(e){return e===" "||e==="\r"||e==="	"||e===`
`||e==="\v"||e==="\xA0"},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||e==="_"||e==="$"},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return e.length===1?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var r=e.charCodeAt(0),n=t.charCodeAt(0);return r>=55296&&r<=56319&&n>=56320&&n<=57343?e+t:e},isExpOperator:function(e){return e==="-"||e==="+"||this.isNumber(e)},throwError:function(e,t,r){r=r||this.index;var n=Ss(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,r)+"]":" "+r;throw Cs("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,n,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var r=ER(this.text.charAt(this.index));if(r==="."||this.isNumber(r))e+=r;else{var n=this.peek();if(r==="e"&&this.isExpOperator(n))e+=r;else if(this.isExpOperator(r)&&n&&this.isNumber(n)&&e.charAt(e.length-1)==="e")e+=r;else if(this.isExpOperator(r)&&(!n||!this.isNumber(n))&&e.charAt(e.length-1)==="e")this.throwError("Invalid exponent");else break}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var r="",n=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(n+=o,i){if(o==="u"){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,r+=String.fromCharCode(parseInt(a,16))}else{var s=CX[o];r=r+(s||o)}i=!1}else if(o==="\\")i=!0;else if(o===e){this.index++,this.tokens.push({index:t,text:n,constant:!0,value:r});return}else r+=o;this.index++}this.throwError("Unterminated quote",t)}};var ee=function(t,r){this.lexer=t,this.options=r};ee.Program="Program";ee.ExpressionStatement="ExpressionStatement";ee.AssignmentExpression="AssignmentExpression";ee.ConditionalExpression="ConditionalExpression";ee.LogicalExpression="LogicalExpression";ee.BinaryExpression="BinaryExpression";ee.UnaryExpression="UnaryExpression";ee.CallExpression="CallExpression";ee.MemberExpression="MemberExpression";ee.Identifier="Identifier";ee.Literal="Literal";ee.ArrayExpression="ArrayExpression";ee.Property="Property";ee.ObjectExpression="ObjectExpression";ee.ThisExpression="ThisExpression";ee.LocalsExpression="LocalsExpression";ee.NGValueParameter="NGValueParameter";ee.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return this.tokens.length!==0&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:ee.Program,body:e}},expressionStatement:function(){return{type:ee.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!PR(e))throw Cs("lval","Trying to assign a value to a non l-value");e={type:ee.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e=this.logicalOR(),t,r;return this.expect("?")&&(t=this.expression(),this.consume(":"))?(r=this.expression(),{type:ee.ConditionalExpression,test:e,alternate:t,consequent:r}):e},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:ee.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:ee.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e=this.relational(),t;t=this.expect("==","!=","===","!==");)e={type:ee.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var e=this.additive(),t;t=this.expect("<",">","<=",">=");)e={type:ee.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var e=this.multiplicative(),t;t=this.expect("+","-");)e={type:ee.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var e=this.unary(),t;t=this.expect("*","/","%");)e={type:ee.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:ee.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=EX(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:ee.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)t.text==="("?(e={type:ee.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):t.text==="["?(e={type:ee.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):t.text==="."?e={type:ee.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],r={type:ee.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return r},parseArguments:function(){var e=[];if(this.peekToken().text!==")")do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:ee.Identifier,name:e.text}},constant:function(){return{type:ee.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if(this.peekToken().text!=="]")do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ee.ArrayExpression,elements:e}},object:function(){var e=[],t;if(this.peekToken().text!=="}")do{if(this.peek("}"))break;t={type:ee.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:ee.ObjectExpression,properties:e}},throwError:function(e,t){throw Cs("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(this.tokens.length===0)throw Cs("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(this.tokens.length===0)throw Cs("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,r,n){return this.peekAhead(0,e,t,r,n)},peekAhead:function(e,t,r,n,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===r||a===n||a===i||!t&&!r&&!n&&!i)return o}return!1},expect:function(e,t,r,n){var i=this.peek(e,t,r,n);return i?(this.tokens.shift(),i):!1},selfReferential:{this:{type:ee.ThisExpression},$locals:{type:ee.LocalsExpression}}};function IX(e,t){return typeof e!="undefined"?e:t}function NR(e,t){return typeof e=="undefined"?t:typeof t=="undefined"?e:e+t}function RX(e,t){var r=e(t);if(!r)throw new Error("Filter '"+t+"' is not defined");return!r.$stateful}function ur(e,t){var r,n,i;switch(e.type){case ee.Program:r=!0,Bt(e.body,function(o){ur(o.expression,t),r=r&&o.expression.constant}),e.constant=r;break;case ee.Literal:e.constant=!0,e.toWatch=[];break;case ee.UnaryExpression:ur(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case ee.BinaryExpression:ur(e.left,t),ur(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case ee.LogicalExpression:ur(e.left,t),ur(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case ee.ConditionalExpression:ur(e.test,t),ur(e.alternate,t),ur(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case ee.Identifier:e.constant=!1,e.toWatch=[e];break;case ee.MemberExpression:ur(e.object,t),e.computed&&ur(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case ee.CallExpression:i=e.filter?RX(t,e.callee.name):!1,r=i,n=[],Bt(e.arguments,function(o){ur(o,t),r=r&&o.constant,o.constant||n.push.apply(n,o.toWatch)}),e.constant=r,e.toWatch=i?n:[e];break;case ee.AssignmentExpression:ur(e.left,t),ur(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case ee.ArrayExpression:r=!0,n=[],Bt(e.elements,function(o){ur(o,t),r=r&&o.constant,o.constant||n.push.apply(n,o.toWatch)}),e.constant=r,e.toWatch=n;break;case ee.ObjectExpression:r=!0,n=[],Bt(e.properties,function(o){ur(o.value,t),r=r&&o.value.constant&&!o.computed,o.value.constant||n.push.apply(n,o.value.toWatch)}),e.constant=r,e.toWatch=n;break;case ee.ThisExpression:e.constant=!1,e.toWatch=[];break;case ee.LocalsExpression:e.constant=!1,e.toWatch=[];break}}function AR(e){if(e.length===1){var t=e[0].expression,r=t.toWatch;return r.length!==1||r[0]!==t?r:void 0}}function PR(e){return e.type===ee.Identifier||e.type===ee.MemberExpression}function OR(e){if(e.body.length===1&&PR(e.body[0].expression))return{type:ee.AssignmentExpression,left:e.body[0].expression,right:{type:ee.NGValueParameter},operator:"="}}function LR(e){return e.body.length===0||e.body.length===1&&(e.body[0].expression.type===ee.Literal||e.body[0].expression.type===ee.ArrayExpression||e.body[0].expression.type===ee.ObjectExpression)}function kR(e){return e.constant}function FR(e,t){this.astBuilder=e,this.$filter=t}FR.prototype={compile:function(e){var t=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},ur(r,t.$filter);var n="",i;if(this.stage="assign",i=OR(r)){this.state.computing="assign";var o=this.nextId();this.recurse(i,o),this.return_(o),n="fn.assign="+this.generateFunction("assign","s,v,l")}var a=AR(r.body);t.stage="inputs",Bt(a,function(c,h){var p="fn"+h;t.state[p]={vars:[],body:[],own:{}},t.state.computing=p;var v=t.nextId();t.recurse(c,v),t.return_(v),t.state.inputs.push(p),c.watchId=h}),this.state.computing="fn",this.stage="main",this.recurse(r);var s='"'+this.USE+" "+this.STRICT+`";
`+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",f=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,RR,IX,NR);return this.state=this.stage=void 0,f.ast=r,f.literal=LR(r),f.constant=kR(r),f},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,r=this;return Bt(t,function(n){e.push("var "+n+"="+r.generateFunction(n,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return Bt(this.state.filters,function(r,n){e.push(r+"=$filter("+t.escape(n)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,n,i,o){var a,s,f=this,c,h,p;if(n=n||Oy,!o&&Ss(e.watchId)){t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.unsafeComputedMember("i",e.watchId)),this.lazyRecurse(e,t,r,n,i,!0));return}switch(e.type){case ee.Program:Bt(e.body,function(_,y){f.recurse(_.expression,void 0,void 0,function(E){s=E}),y!==e.body.length-1?f.current().body.push(s,";"):f.return_(s)});break;case ee.Literal:h=this.escape(e.value),this.assign(t,h),n(t||h);break;case ee.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(_){s=_}),h=e.operator+"("+this.ifDefined(s,0)+")",this.assign(t,h),n(h);break;case ee.BinaryExpression:this.recurse(e.left,void 0,void 0,function(_){a=_}),this.recurse(e.right,void 0,void 0,function(_){s=_}),e.operator==="+"?h=this.plus(a,s):e.operator==="-"?h=this.ifDefined(a,0)+e.operator+this.ifDefined(s,0):h="("+a+")"+e.operator+"("+s+")",this.assign(t,h),n(h);break;case ee.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_(e.operator==="&&"?t:f.not(t),f.lazyRecurse(e.right,t)),n(t);break;case ee.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),n(t);break;case ee.Identifier:t=t||this.nextId();var v=f.current().inAssignment;r&&(v?r.context=this.assign(this.nextId(),"s"):r.context=f.stage==="inputs"?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),f.if_(f.stage==="inputs"||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_(f.stage==="inputs"||f.and_("s",f.or_(f.isNull(f.nonComputedMember("s",e.name)),f.hasOwnProperty_("s",e.name))),function(){i&&i!==1&&f.if_(f.isNull(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),n(t);break;case ee.MemberExpression:a=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,a,void 0,function(){var _=null,y=f.current().inAssignment;e.computed?(s=f.nextId(),y||f.state.computing==="assign"?_=f.unsafeComputedMember(a,s):_=f.computedMember(a,s)):(y||f.state.computing==="assign"?_=f.unsafeNonComputedMember(a,e.property.name):_=f.nonComputedMember(a,e.property.name),s=e.property.name),e.computed&&e.property.type===ee.Literal&&f.recurse(e.property,s),f.if_(f.and_(f.notNull(a),f.or_(f.isNull(_),f.hasOwnProperty_(a,s,e.computed))),function(){e.computed?(e.property.type!==ee.Literal&&f.recurse(e.property,s),i&&i!==1&&f.if_(f.not(_),f.lazyAssign(_,"{}")),f.assign(t,_),r&&(r.computed=!0,r.name=s)):(i&&i!==1&&f.if_(f.isNull(_),f.lazyAssign(_,"{}")),f.assign(t,_),r&&(r.computed=!1,r.name=e.property.name))},function(){f.assign(t,"undefined")}),n(t)},!!i);break;case ee.CallExpression:t=t||this.nextId(),e.filter?(s=f.filter(e.callee.name),c=[],Bt(e.arguments,function(_){var y=f.nextId();f.recurse(_,y),c.push(y)}),h=s+".call("+s+","+c.join(",")+")",f.assign(t,h),n(t)):(s=f.nextId(),a={},c=[],f.recurse(e.callee,s,a,function(){f.if_(f.notNull(s),function(){if(Bt(e.arguments,function(y){f.recurse(y,e.constant?void 0:f.nextId(),void 0,function(E){c.push(E)})}),a.name){var _=f.member(a.context,a.name,a.computed);h="("+_+" === null ? null : "+f.unsafeMember(a.context,a.name,a.computed)+".call("+[a.context].concat(c).join(",")+"))"}else h=s+"("+c.join(",")+")";f.assign(t,h)},function(){f.assign(t,"undefined")}),n(t)}));break;case ee.AssignmentExpression:s=this.nextId(),a={},f.current().inAssignment=!0,this.recurse(e.left,void 0,a,function(){f.if_(f.and_(f.notNull(a.context),f.or_(f.hasOwnProperty_(a.context,a.name),f.isNull(f.member(a.context,a.name,a.computed)))),function(){f.recurse(e.right,s),h=f.member(a.context,a.name,a.computed)+e.operator+s,f.assign(t,h),n(t||h)}),f.current().inAssignment=!1,f.recurse(e.right,s),f.current().inAssignment=!0},1),f.current().inAssignment=!1;break;case ee.ArrayExpression:c=[],Bt(e.elements,function(_){f.recurse(_,e.constant?void 0:f.nextId(),void 0,function(y){c.push(y)})}),h="["+c.join(",")+"]",this.assign(t,h),n(t||h);break;case ee.ObjectExpression:c=[],p=!1,Bt(e.properties,function(_){_.computed&&(p=!0)}),p?(t=t||this.nextId(),this.assign(t,"{}"),Bt(e.properties,function(_){_.computed?(a=f.nextId(),f.recurse(_.key,a)):a=_.key.type===ee.Identifier?_.key.name:""+_.key.value,s=f.nextId(),f.recurse(_.value,s),f.assign(f.unsafeMember(t,a,_.computed),s)})):(Bt(e.properties,function(_){f.recurse(_.value,e.constant?void 0:f.nextId(),void 0,function(y){c.push(f.escape(_.key.type===ee.Identifier?_.key.name:""+_.key.value)+":"+y)})}),h="{"+c.join(",")+"}",this.assign(t,h)),n(t||h);break;case ee.ThisExpression:this.assign(t,"s"),n(t||"s");break;case ee.LocalsExpression:this.assign(t,"l"),n(t||"l");break;case ee.NGValueParameter:this.assign(t,"v"),n(t||"v");break}},getHasOwnProperty:function(e,t){var r=e+"."+t,n=this.current().own;return n.hasOwnProperty(r)||(n[r]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),n[r]},assign:function(e,t){if(!!e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,r){if(e===!0)t();else{var n=this.current().body;n.push("if(",e,"){"),t(),n.push("}"),r&&(n.push("else{"),r(),n.push("}"))}},or_:function(e,t){return"("+e+") || ("+t+")"},hasOwnProperty_:function(e,t,r){return r?"(Object.prototype.hasOwnProperty.call("+e+","+t+"))":"(Object.prototype.hasOwnProperty.call("+e+",'"+t+"'))"},and_:function(e,t){return"("+e+") && ("+t+")"},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var r=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,n=/[^$_a-zA-Z0-9]/g,i="";return r.test(t)?i=e+"."+t:(t=t.replace(n,this.stringEscapeFn),i=e+'["'+t+'"]'),i},unsafeComputedMember:function(e,t){return e+"["+t+"]"},unsafeNonComputedMember:function(e,t){return this.nonComputedMember(e,t)},computedMember:function(e,t){return this.state.computing==="assign"?this.unsafeComputedMember(e,t):"("+e+".hasOwnProperty("+t+") ? "+e+"["+t+"] : null)"},unsafeMember:function(e,t,r){return r?this.unsafeComputedMember(e,t):this.unsafeNonComputedMember(e,t)},member:function(e,t,r){return r?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,r,n,i,o){var a=this;return function(){a.recurse(e,t,r,n,i,o)}},lazyAssign:function(e,t){var r=this;return function(){r.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(Vd(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(Ly(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(e===null)return"null";if(typeof e=="undefined")return"undefined";throw Cs("esc","IMPOSSIBLE")},nextId:function(e,t){var r="v"+this.state.nextId++;return e||this.current().vars.push(r+(t?"="+t:"")),r},current:function(){return this.state[this.state.computing]}};function UR(e,t){this.astBuilder=e,this.$filter=t}UR.prototype={compile:function(e){var t=this,r=this.astBuilder.ast(e);ur(r,t.$filter);var n,i;(n=OR(r))&&(i=this.recurse(n));var o=AR(r.body),a;o&&(a=[],Bt(o,function(c,h){var p=t.recurse(c);c.input=p,a.push(p),c.watchId=h}));var s=[];Bt(r.body,function(c){s.push(t.recurse(c.expression))});var f=r.body.length===0?Oy:r.body.length===1?s[0]:function(c,h){var p;return Bt(s,function(v){p=v(c,h)}),p};return i&&(f.assign=function(c,h,p){return i(c,p,h)}),a&&(f.inputs=a),f.ast=r,f.literal=LR(r),f.constant=kR(r),f},recurse:function(e,t,r){var n,i,o=this,a;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case ee.Literal:return this.value(e.value,t);case ee.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case ee.BinaryExpression:return n=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](n,i,t);case ee.LogicalExpression:return n=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](n,i,t);case ee.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case ee.Identifier:return o.identifier(e.name,t,r);case ee.MemberExpression:return n=this.recurse(e.object,!1,!!r),e.computed||(i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(n,i,t,r):this.nonComputedMember(n,i,t,r);case ee.CallExpression:return a=[],Bt(e.arguments,function(s){a.push(o.recurse(s))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(s,f,c,h){for(var p=[],v=0;v<a.length;++v)p.push(a[v](s,f,c,h));var _=i.apply(void 0,p,h);return t?{context:void 0,name:void 0,value:_}:_}:function(s,f,c,h){var p=i(s,f,c,h),v;if(p.value!=null){for(var _=[],y=0;y<a.length;++y)_.push(a[y](s,f,c,h));v=p.value.apply(p.context,_)}return t?{value:v}:v};case ee.AssignmentExpression:return n=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(s,f,c,h){var p=n(s,!1,c,h),v=i(s,f,c,h);return p.context[p.name]=v,t?{value:v}:v};case ee.ArrayExpression:return a=[],Bt(e.elements,function(s){a.push(o.recurse(s))}),function(s,f,c,h){for(var p=[],v=0;v<a.length;++v)p.push(a[v](s,f,c,h));return t?{value:p}:p};case ee.ObjectExpression:return a=[],Bt(e.properties,function(s){s.computed?a.push({key:o.recurse(s.key),computed:!0,value:o.recurse(s.value)}):a.push({key:s.key.type===ee.Identifier?s.key.name:""+s.key.value,computed:!1,value:o.recurse(s.value)})}),function(s,f,c,h){for(var p={},v=0;v<a.length;++v)a[v].computed?p[a[v].key(s,f,c,h)]=a[v].value(s,f,c,h):p[a[v].key]=a[v].value(s,f,c,h);return t?{value:p}:p};case ee.ThisExpression:return function(s){return t?{value:s}:s};case ee.LocalsExpression:return function(s,f){return t?{value:f}:f};case ee.NGValueParameter:return function(s,f,c){return t?{value:c}:c}}},"unary+":function(e,t){return function(r,n,i,o){var a=e(r,n,i,o);return Ss(a)?a=+a:a=0,t?{value:a}:a}},"unary-":function(e,t){return function(r,n,i,o){var a=e(r,n,i,o);return Ss(a)?a=-a:a=-0,t?{value:a}:a}},"unary!":function(e,t){return function(r,n,i,o){var a=!e(r,n,i,o);return t?{value:a}:a}},"binary+":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a),f=t(n,i,o,a),c=NR(s,f);return r?{value:c}:c}},"binary-":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a),f=t(n,i,o,a),c=(Ss(s)?s:0)-(Ss(f)?f:0);return r?{value:c}:c}},"binary*":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)*t(n,i,o,a);return r?{value:s}:s}},"binary/":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)/t(n,i,o,a);return r?{value:s}:s}},"binary%":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)%t(n,i,o,a);return r?{value:s}:s}},"binary===":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)===t(n,i,o,a);return r?{value:s}:s}},"binary!==":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)!==t(n,i,o,a);return r?{value:s}:s}},"binary==":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)==t(n,i,o,a);return r?{value:s}:s}},"binary!=":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)!=t(n,i,o,a);return r?{value:s}:s}},"binary<":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)<t(n,i,o,a);return r?{value:s}:s}},"binary>":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)>t(n,i,o,a);return r?{value:s}:s}},"binary<=":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)<=t(n,i,o,a);return r?{value:s}:s}},"binary>=":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)>=t(n,i,o,a);return r?{value:s}:s}},"binary&&":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)&&t(n,i,o,a);return r?{value:s}:s}},"binary||":function(e,t,r){return function(n,i,o,a){var s=e(n,i,o,a)||t(n,i,o,a);return r?{value:s}:s}},"ternary?:":function(e,t,r,n){return function(i,o,a,s){var f=e(i,o,a,s)?t(i,o,a,s):r(i,o,a,s);return n?{value:f}:f}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,r){return function(n,i,o,a){var s=i&&e in i?i:n;r&&r!==1&&s&&s[e]==null&&(s[e]={});var f=s?s[e]:void 0;return t?{context:s,name:e,value:f}:f}},computedMember:function(e,t,r,n){return function(i,o,a,s){var f=e(i,o,a,s),c,h;return f!=null&&(c=t(i,o,a,s),c=RR(c),n&&n!==1&&f&&!f[c]&&(f[c]={}),Object.prototype.hasOwnProperty.call(f,c)&&(h=f[c])),r?{context:f,name:c,value:h}:h}},nonComputedMember:function(e,t,r,n){return function(i,o,a,s){var f=e(i,o,a,s);n&&n!==1&&f&&f[t]==null&&(f[t]={});var c=void 0;return f!=null&&Object.prototype.hasOwnProperty.call(f,t)&&(c=f[t]),r?{context:f,name:t,value:c}:c}},inputs:function(e,t){return function(r,n,i,o){return o?o[t]:e(r,n,i)}}};var Jg=function(t,r,n){this.lexer=t,this.$filter=r,this.options=n,this.ast=new ee(t,n),this.astCompiler=n.csp?new UR(this.ast,r):new FR(this.ast,r)};Jg.prototype={constructor:Jg,parse:function(e){return this.astCompiler.compile(e)}};Ay.Lexer=Zg;Ay.Parser=Jg;var BR=Ay,NX={},AX=BR.Lexer,PX=BR.Parser;function wl(e,t){t=t||{};var r;if(typeof e!="string")throw new TypeError("src must be a string, instead saw '"+typeof e+"'");var n={csp:!1,expensiveChecks:!0,literals:{true:!0,false:!1,null:null,undefined:void 0}},i=new AX(t),o=new PX(i,function(s){return NX[s]},n);return wl.cache?(r=wl.cache[e],r||(r=wl.cache[e]=o.parse(e)),r):o.parse(e)}wl.cache=Object.create(null);var MR=wl;const OX=e=>{if(e.content.match(/=/)){const t=e.content.split(/=/)[0],r=e.content.split(/=/)[1];if(r.match(/[+\-*\/()]/)){const i=r.split(/([+\-*\/()])/g).map(s=>s.match(/[a-zA-Z]/)?DR(s).toString():s).reduce((s,f)=>s+f,""),a=MR(i)();xe.dispatch(zu({key:t,value:a}))}else r.match(/true|false/)?(r.match(/true/)&&xe.dispatch(zu({key:t,value:!0})),r.match(/false/)&&xe.dispatch(zu({key:t,value:!1}))):isNaN(Number(r))?xe.dispatch(zu({key:t,value:r})):xe.dispatch(zu({key:t,value:Number(r)}));et.debug("\u8BBE\u7F6E\u53D8\u91CF\uFF1A",{key:t,value:xe.getState().stage.GameVar[t]})}return{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function DR(e){let t=0;return xe.getState().stage.GameVar.hasOwnProperty(e)&&(t=xe.getState().stage.GameVar[e]),t}const LX=e=>{const t=xe.getState().stage,r=xe.getState().userData,n=xe.dispatch;n(Ar({key:"showText",value:JSON.stringify(t.GameVar)})),n(Ar({key:"showName",value:"\u5C55\u793A\u53D8\u91CF"})),et.debug("\u5C55\u793A\u53D8\u91CF\uFF1A",t.GameVar),setTimeout(()=>{[...document.querySelectorAll("."+sn.TextBox_textElement_start)].forEach(c=>{c.className=sn.TextBox_textElement})},0);const i=kd(),o=55-20*r.optionData.textSpeed,a=750-r.optionData.textSpeed*250;return{performName:i,duration:e.content.length*o+a,isOver:!1,isHoldOn:!1,stopFunction:()=>{[...document.querySelectorAll("."+sn.TextBox_textElement)].forEach(c=>{c.className=sn.TextBox_textElement_Settled})},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},kX=e=>{const t=e.content;let r=e.content,n="default";e.args.forEach(o=>{o.key==="name"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())}),et.info(`\u89E3\u9501CG\uFF1A${r}\uFF0C\u8DEF\u5F84\uFF1A${t}\uFF0C\u6240\u5C5E\u7CFB\u5217\uFF1A${n}`),xe.dispatch(cM({name:r,url:t,series:n}));const i=xe.getState().userData;return C2.setItem(ko.gameKey,i).then(()=>{}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},FX=e=>{const t=e.content;let r=e.content,n="default";e.args.forEach(o=>{o.key==="name"&&(r=o.value.toString()),o.key==="series"&&(n=o.value.toString())}),et.info(`\u89E3\u9501BGM\uFF1A${r}\uFF0C\u8DEF\u5F84\uFF1A${t}\uFF0C\u6240\u5C5E\u7CFB\u5217\uFF1A${n}`),xe.dispatch(hM({name:r,url:t,series:n}));const i=xe.getState().userData;return C2.setItem(ko.gameKey,i).then(()=>{}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},GR=e=>{let t=qD,r=Jb;const n=new Map([[ie.say,Jb],[ie.changeBg,n6],[ie.changeFigure,i6],[ie.bgm,o6],[ie.callScene,s6],[ie.changeScene,u6],[ie.intro,x6],[ie.pixi,Q$],[ie.miniAvatar,eX],[ie.pixiInit,tX],[ie.video,rX],[ie.jumpLabel,nX],[ie.label,iX],[ie.choose,sX],[ie.end,uX],[ie.setBgFilter,lX],[ie.perform_bgAni,fX],[ie.perform_FigAni,cX],[ie.setBgTransform,hX],[ie.setVar,OX],[ie.showVars,LX],[ie.unlockCg,kX],[ie.unlockBgm,FX]]);if(n.has(e.command)&&(r=n.get(e.command)),t=r(e),t.performName==="none")return;const i=xe.getState().stage,o=Sa.cloneDeep(i);o.PerformList.push({isHoldOn:t.isHoldOn,script:e}),xe.dispatch(fu(o)),t.stopTimeout=setTimeout(()=>{t.isOver=!0,t.isHoldOn||(Fd(t.performName),t.goNextWhenOver&&qr())},t.duration),me.performList.push(t)},UX=e=>{mi(e.sceneUrl).then(t=>{Le.currentScene=gi(t,e.sceneName,e.sceneUrl),Le.currentSentenceId=e.continueLine+1,et.debug("\u73B0\u5728\u6062\u590D\u573A\u666F\uFF0C\u6062\u590D\u540E\u573A\u666F\uFF1A",Le.currentScene),qr()})};function BX(e){return MR(e)()}const HR=()=>{if(Le.currentSentenceId>Le.currentScene.sentenceList.length-1){if(Le.sceneStack.length!==0){const s=Le.sceneStack.pop();s!==void 0&&UX(s)}return}const e=Le.currentScene.sentenceList[Le.currentSentenceId];let t=!0,r=!1,n="";if(e.args.forEach(s=>{s.key==="when"&&(r=!0,n=s.value.toString())}),r){const f=n.split(/([+\-*\/()><=!]|>=|<=)/g).map(c=>c.match(/[a-zA-Z]/)?c.match(/true/)||c.match(/false/)?c:DR(c).toString():c).reduce((c,h)=>c+h,"");t=BX(f)}if(!t){et.warn("\u4E0D\u6EE1\u8DB3\u6761\u4EF6\uFF0C\u8DF3\u8FC7\u672C\u53E5\uFF01"),Le.currentSentenceId++,qr();return}GR(e);let i=!1;e.args.forEach(s=>{s.key==="next"&&s.value&&(i=!0)});const o=e.command===ie.say;let a;if(i){Le.currentSentenceId++,HR();return}setTimeout(()=>{if(a=xe.getState().stage,et.debug("\u672C\u6761\u8BED\u53E5\u6267\u884C\u7ED3\u679C",a),o){const s={currentStageState:jr.exports.cloneDeep(a),saveScene:{currentSentenceId:Le.currentSentenceId,sceneStack:jr.exports.cloneDeep(Le.sceneStack),sceneName:Le.currentScene.sceneName,sceneUrl:Le.currentScene.sceneUrl}};ln.push(s)}},0),Le.currentSentenceId++},qr=()=>{if(xe.getState().GUI.showTitle)return;let t=!1;if(me.performList.forEach(i=>{i.blockingNext()&&!i.isOver&&(t=!0)}),t){et.warn("next \u88AB\u963B\u585E\uFF01");return}let r=!0;if(me.performList.forEach(i=>{i.isHoldOn||(r=!1)}),r){const i=xe.getState().stage,o=Sa.cloneDeep(i);for(let a=0;a<o.PerformList.length;a++)o.PerformList[a].isHoldOn||(o.PerformList.splice(a,1),a--);xe.dispatch(fu(o)),HR();return}et.warn("\u63D0\u524D\u7ED3\u675F\u88AB\u89E6\u53D1\uFF0C\u73B0\u5728\u6E05\u9664\u666E\u901A\u6F14\u51FA");let n=!1;for(let i=0;i<me.performList.length;i++){const o=me.performList[i];o.isHoldOn||(o.goNextWhenOver&&(n=!0),o.stopFunction(),clearTimeout(o.stopTimeout),me.performList.splice(i,1),i--)}n&&qr()},MX=()=>{gy(!0);const e=vr("start.txt",Pt.scene);mi(e).then(t=>{Le.currentScene=gi(t,"start.txt",e),qr()}),xe.dispatch(qt({component:"showTitle",visibility:!1}))};var $R={exports:{}},XR={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tu=Dt.exports;function DX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GX=typeof Object.is=="function"?Object.is:DX,HX=tu.useState,$X=tu.useEffect,XX=tu.useLayoutEffect,VX=tu.useDebugValue;function jX(e,t){var r=t(),n=HX({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return XX(function(){i.value=r,i.getSnapshot=t,am(i)&&o({inst:i})},[e,r,t]),$X(function(){return am(i)&&o({inst:i}),e(function(){am(i)&&o({inst:i})})},[e]),VX(r),r}function am(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!GX(e,r)}catch{return!0}}function zX(e,t){return t()}var WX=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?zX:jX;XR.useSyncExternalStore=tu.useSyncExternalStore!==void 0?tu.useSyncExternalStore:WX;$R.exports=XR;var VR={exports:{}},jR={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Dt.exports,YX=$R.exports;function qX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KX=typeof Object.is=="function"?Object.is:qX,ZX=YX.useSyncExternalStore,JX=jd.useRef,QX=jd.useEffect,eV=jd.useMemo,tV=jd.useDebugValue;jR.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=JX(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=eV(function(){function f(_){if(!c){if(c=!0,h=_,_=n(_),i!==void 0&&a.hasValue){var y=a.value;if(i(y,_))return p=y}return p=_}if(y=p,KX(h,_))return y;var E=n(_);return i!==void 0&&i(y,E)?y:(h=_,p=E)}var c=!1,h,p,v=r===void 0?null:r;return[function(){return f(t())},v===null?void 0:function(){return f(v())}]},[t,r,n,i]);var s=ZX(e,o[0],o[1]);return QX(function(){a.hasValue=!0,a.value=s},[s]),tV(s),s};VR.exports=jR;function rV(e){e()}let zR=rV;const nV=e=>zR=e,iV=()=>zR,Uo=be.createContext(null);function WR(){return Dt.exports.useContext(Uo)}const oV=()=>{throw new Error("uSES not initialized!")};let YR=oV;const aV=e=>{YR=e},sV=(e,t)=>e===t;function uV(e=Uo){const t=e===Uo?WR:()=>Dt.exports.useContext(e);return function(n,i=sV){const{store:o,subscription:a,getServerState:s}=t(),f=YR(a.addNestedSub,o.getState,s||o.getState,n,i);return Dt.exports.useDebugValue(f),f}}const ir=uV();var qR={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fr=typeof Symbol=="function"&&Symbol.for,Fy=fr?Symbol.for("react.element"):60103,Uy=fr?Symbol.for("react.portal"):60106,zd=fr?Symbol.for("react.fragment"):60107,Wd=fr?Symbol.for("react.strict_mode"):60108,Yd=fr?Symbol.for("react.profiler"):60114,qd=fr?Symbol.for("react.provider"):60109,Kd=fr?Symbol.for("react.context"):60110,By=fr?Symbol.for("react.async_mode"):60111,Zd=fr?Symbol.for("react.concurrent_mode"):60111,Jd=fr?Symbol.for("react.forward_ref"):60112,Qd=fr?Symbol.for("react.suspense"):60113,lV=fr?Symbol.for("react.suspense_list"):60120,ep=fr?Symbol.for("react.memo"):60115,tp=fr?Symbol.for("react.lazy"):60116,fV=fr?Symbol.for("react.block"):60121,cV=fr?Symbol.for("react.fundamental"):60117,hV=fr?Symbol.for("react.responder"):60118,dV=fr?Symbol.for("react.scope"):60119;function dn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Fy:switch(e=e.type,e){case By:case Zd:case zd:case Yd:case Wd:case Qd:return e;default:switch(e=e&&e.$$typeof,e){case Kd:case Jd:case tp:case ep:case qd:return e;default:return t}}case Uy:return t}}}function KR(e){return dn(e)===Zd}vt.AsyncMode=By;vt.ConcurrentMode=Zd;vt.ContextConsumer=Kd;vt.ContextProvider=qd;vt.Element=Fy;vt.ForwardRef=Jd;vt.Fragment=zd;vt.Lazy=tp;vt.Memo=ep;vt.Portal=Uy;vt.Profiler=Yd;vt.StrictMode=Wd;vt.Suspense=Qd;vt.isAsyncMode=function(e){return KR(e)||dn(e)===By};vt.isConcurrentMode=KR;vt.isContextConsumer=function(e){return dn(e)===Kd};vt.isContextProvider=function(e){return dn(e)===qd};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fy};vt.isForwardRef=function(e){return dn(e)===Jd};vt.isFragment=function(e){return dn(e)===zd};vt.isLazy=function(e){return dn(e)===tp};vt.isMemo=function(e){return dn(e)===ep};vt.isPortal=function(e){return dn(e)===Uy};vt.isProfiler=function(e){return dn(e)===Yd};vt.isStrictMode=function(e){return dn(e)===Wd};vt.isSuspense=function(e){return dn(e)===Qd};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zd||e===Zd||e===Yd||e===Wd||e===Qd||e===lV||typeof e=="object"&&e!==null&&(e.$$typeof===tp||e.$$typeof===ep||e.$$typeof===qd||e.$$typeof===Kd||e.$$typeof===Jd||e.$$typeof===cV||e.$$typeof===hV||e.$$typeof===dV||e.$$typeof===fV)};vt.typeOf=dn;qR.exports=vt;var ZR=qR.exports,pV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},JR={};JR[ZR.ForwardRef]=pV;JR[ZR.Memo]=vV;var gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My=Symbol.for("react.element"),Dy=Symbol.for("react.portal"),rp=Symbol.for("react.fragment"),np=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),op=Symbol.for("react.provider"),ap=Symbol.for("react.context"),_V=Symbol.for("react.server_context"),sp=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),lp=Symbol.for("react.suspense_list"),fp=Symbol.for("react.memo"),cp=Symbol.for("react.lazy"),mV=Symbol.for("react.offscreen"),QR;QR=Symbol.for("react.module.reference");function Ln(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case My:switch(e=e.type,e){case rp:case ip:case np:case up:case lp:return e;default:switch(e=e&&e.$$typeof,e){case _V:case ap:case sp:case cp:case fp:case op:return e;default:return t}}case Dy:return t}}}gt.ContextConsumer=ap;gt.ContextProvider=op;gt.Element=My;gt.ForwardRef=sp;gt.Fragment=rp;gt.Lazy=cp;gt.Memo=fp;gt.Portal=Dy;gt.Profiler=ip;gt.StrictMode=np;gt.Suspense=up;gt.SuspenseList=lp;gt.isAsyncMode=function(){return!1};gt.isConcurrentMode=function(){return!1};gt.isContextConsumer=function(e){return Ln(e)===ap};gt.isContextProvider=function(e){return Ln(e)===op};gt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===My};gt.isForwardRef=function(e){return Ln(e)===sp};gt.isFragment=function(e){return Ln(e)===rp};gt.isLazy=function(e){return Ln(e)===cp};gt.isMemo=function(e){return Ln(e)===fp};gt.isPortal=function(e){return Ln(e)===Dy};gt.isProfiler=function(e){return Ln(e)===ip};gt.isStrictMode=function(e){return Ln(e)===np};gt.isSuspense=function(e){return Ln(e)===up};gt.isSuspenseList=function(e){return Ln(e)===lp};gt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rp||e===ip||e===np||e===up||e===lp||e===mV||typeof e=="object"&&e!==null&&(e.$$typeof===cp||e.$$typeof===fp||e.$$typeof===op||e.$$typeof===ap||e.$$typeof===sp||e.$$typeof===QR||e.getModuleId!==void 0)};gt.typeOf=Ln;function gV(){const e=iV();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const bS={notify(){},get:()=>[]};function yV(e,t){let r,n=bS;function i(p){return f(),n.subscribe(p)}function o(){n.notify()}function a(){h.onStateChange&&h.onStateChange()}function s(){return Boolean(r)}function f(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=gV())}function c(){r&&(r(),r=void 0,n.clear(),n=bS)}const h={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:s,trySubscribe:f,tryUnsubscribe:c,getListeners:()=>n};return h}const xV=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",EV=xV?Dt.exports.useLayoutEffect:Dt.exports.useEffect;function bV({store:e,context:t,children:r,serverState:n}){const i=Dt.exports.useMemo(()=>{const s=yV(e);return{store:e,subscription:s,getServerState:n?()=>n:void 0}},[e,n]),o=Dt.exports.useMemo(()=>e.getState(),[e]);return EV(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]),B((t||Uo).Provider,{value:i,children:r})}function eN(e=Uo){const t=e===Uo?WR:()=>Dt.exports.useContext(e);return function(){const{store:n}=t();return n}}const wV=eN();function TV(e=Uo){const t=e===Uo?wV:eN(e);return function(){return t().dispatch}}const yi=TV();aV(VR.exports.useSyncExternalStoreWithSelector);nV(s0.exports.unstable_batchedUpdates);const SV=()=>{const e=ir(i=>i.GUI),t=yi(),r=e.titleBg,n=r===""?"rgba(0,0,0,1)":`url("${r}")`;return we(Go,{children:[e.showTitle&&B("div",{className:Ft.Title_backup_background}),B("div",{id:"play_title_bgm_target",onClick:()=>{Nd(e.titleBgm)}}),e.showTitle&&B("div",{className:Ft.Title_main,style:{backgroundImage:n,backgroundSize:"cover"},children:we("div",{className:Ft.Title_buttonList,children:[we("div",{className:Ft.Title_button,onClick:MX,children:[B("div",{className:Ft.Title_button_text+" "+Ft.Title_button_text_up,children:"\u5F00\u59CB\u6E38\u620F"}),B("div",{className:Ft.Title_button_text,children:"START"})]}),we("div",{className:Ft.Title_button,onClick:()=>{t(qt({component:"showTitle",visibility:!1})),Le.currentSentenceId===0&&Le.currentScene.sceneName==="start.txt"&&qr()},children:[B("div",{className:Ft.Title_button_text+" "+Ft.Title_button_text_up,children:"\u7EE7\u7EED\u6E38\u620F"}),B("div",{className:Ft.Title_button_text,children:"CONTINUE"})]}),we("div",{className:Ft.Title_button,onClick:()=>{t(qt({component:"showMenuPanel",visibility:!0})),t(Gs(Ht.Option))},children:[B("div",{className:Ft.Title_button_text+" "+Ft.Title_button_text_up,children:"\u6E38\u620F\u9009\u9879"}),B("div",{className:Ft.Title_button_text,children:"OPTIONS"})]}),we("div",{className:Ft.Title_button,onClick:()=>{t(qt({component:"showMenuPanel",visibility:!0})),t(Gs(Ht.Load))},children:[B("div",{className:Ft.Title_button_text+" "+Ft.Title_button_text_up,children:"\u8BFB\u53D6\u5B58\u6863"}),B("div",{className:Ft.Title_button_text,children:"LOAD"})]}),we("div",{className:Ft.Title_button,onClick:()=>{t(qt({component:"showExtra",visibility:!0}))},children:[B("div",{className:Ft.Title_button_text+" "+Ft.Title_button_text_up,children:"\u9274\u8D4F\u6A21\u5F0F"}),B("div",{className:Ft.Title_button_text,children:"EXTRA"})]})]})})]})},CV=e=>{const t=xe.getState().GUI,r=xe.dispatch;sI.get(e).then(n=>{var a;let i=n.data.split(`
`);i=i.map(s=>s.split(";")[0]);const o=i.map(s=>s.split(":"));et.info("\u83B7\u53D6\u5230\u6E38\u620F\u4FE1\u606F",o),t&&o.forEach(s=>{if(s[0]==="Title_img"){const f=vr(s[1],Pt.background);r(Hb({asset:"titleBg",value:f}))}if(s[0]==="Title_bgm"){const f=vr(s[1],Pt.bgm);r(Hb({asset:"titleBgm",value:f}))}s[0]==="Game_name"&&(ko.gameName=s[1],document.title=s[1]),s[0]==="Game_key"&&(ko.gameKey=s[1],Zh())}),(a=window==null?void 0:window.renderPromise)==null||a.call(window),delete window.renderPromise})},eh=()=>{const r=window.innerHeight,n=window.innerWidth,i=r/900,o=n/1600,a=n/900,s=r/1600;let f=(900-r)/2,c=(1600-n)/2,h=1600/2-n/2,p=900/2-r/2;const v=document.getElementById("root");v&&(n>r?(c=-c,f=-f,n*(9/16)>=r&&(v.style.transform=`translate(${c}px, ${f}px) scale(${i},${i})`),n*(9/16)<r&&(v.style.transform=`translate(${c}px, ${f}px) scale(${o},${o})`)):(p=-p,r*(9/16)>=n&&(v.style.transform=`rotate(90deg) translate(${p}px, ${h}px) scale(${a},${a})`),r*(9/16)<n&&(v.style.transform=`rotate(90deg) translate(${p}px, ${h}px) scale(${s},${s})`)));const _=document.getElementById("Title_enter_page");f=(900-r)/2,c=(1600-n)/2,h=1600/2-n/2,p=900/2-r/2,_&&(n>r?(c=-c,f=-f,n*(9/16)>=r&&(_.style.transform=`translate(${c}px, ${f}px) scale(${i},${i})`),n*(9/16)<r&&(_.style.transform=`translate(${c}px, ${f}px) scale(${o},${o})`)):(p=-p,r*(9/16)>=n&&(_.style.transform=`rotate(90deg) translate(${p}px, ${h}px) scale(${a},${a})`),r*(9/16)<n&&(_.style.transform=`rotate(90deg) translate(${p}px, ${h}px) scale(${s},${s})`)))},Eh=()=>{const e=xe.getState().userData,t=e.optionData.volumeMain,r=t*.01*e.optionData.vocalVolume*.01,n=t*.01*e.optionData.bgmVolume*.01;et.debug(`\u8BBE\u7F6E\u80CC\u666F\u97F3\u91CF\uFF1A${n},\u8BED\u97F3\u97F3\u91CF\uFF1A${r}`);const i=document.getElementById("currentBgm");i&&(i.volume=n.toString());const o=document.getElementById("currentVocal");i&&(o.volume=r.toString())},IV=e=>{if(e){let t=new $d({backgroundAlpha:0});const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(t.view)),t.renderer.view.style.position="absolute",t.renderer.view.style.display="block",t.renderer.autoResize=!0;const n=document.getElementById("root");n&&t.renderer.resize(n.clientWidth,n.clientHeight),t.renderer.view.style.zIndex="5",me.currentPixi=t}else{const t=document.getElementById("pixiContianer");t&&(t.innerHTML="")}},RV=e=>{const t=e.split(" "),r=t[1].replace(/json/g,"txt"),n=parseInt(t[2],10);et.warn("\u6B63\u5728\u8DF3\u8F6C\u5230"+r+":"+n);const i=xe.dispatch;i(qt({component:"showTitle",visibility:!1})),i(qt({component:"showMenuPanel",visibility:!1})),gy(!0);const o=vr(r,Pt.scene);mi(o).then(a=>{Le.currentScene=gi(a,"start.txt",o),Gy(n)})};function Gy(e){Le.currentSentenceId<e&&(qr(),setTimeout(()=>Gy(e),2))}const NV=()=>{window.JMP=Gy},AV=()=>{const t=`ws://${window.location.hostname}:9999`;et.info("\u6B63\u5728\u542F\u52A8socket\u8FDE\u63A5\u4F4D\u4E8E\uFF1A"+t);const r=new WebSocket(t);r.onopen=()=>{et.info("socket\u5DF2\u8FDE\u63A5"),r.send(" WebGAL \u5DF2\u548C Terre \u5EFA\u7ACB\u8FDE\u63A5\u3002")},r.onmessage=n=>{et.info("\u6536\u5230\u4FE1\u606F",n.data);const i=n.data;i.match("jmp")&&RV(i)},r.onerror=n=>{et.info("\u5F53\u524D\u6CA1\u6709\u8FDE\u63A5\u5230 Terre \u7F16\u8F91\u5668")}},PV=()=>{et.info("WebGAL 4.2.1"),et.info("Github: https://github.com/MakinoharaShoko/WebGAL "),et.info("Made with \u2764 by MakinoharaShoko"),setTimeout(eh,100),eh(),window.onresize=eh,document.onkeydown=function(t){const r=t;r&&r.keyCode===122&&setTimeout(()=>{eh()},50)},CV("./game/config.txt");const e=vr("start.txt",Pt.scene);mi(e).then(t=>{Le.currentScene=gi(t,"start.txt",e)}),Eh(),IV(!0),NV(),AV()};function OV(){let e=!1;return()=>{e||(PV(),e=!0)}}const LV="_Menu_main_1a7i6_1",kV="_Menu_ShowSoftly_1a7i6_1",FV="_Menu_TagContent_1a7i6_10";var wS={Menu_main:LV,Menu_ShowSoftly:kV,Menu_TagContent:FV};const UV="_MenuPanel_main_u6o2d_1",BV="_MenuPanel_button_u6o2d_10",MV="_MenuPanel_button_icon_u6o2d_33";var Is={MenuPanel_main:UV,MenuPanel_button:BV,MenuPanel_button_icon:MV},DV=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){GV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HV(e,t){if(e==null)return{};var r=$V(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function $V(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var XV={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function VV(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function jV(e,t,r){var n=typeof t.fill=="string"?[t.fill]:t.fill||[],i=[],o=t.theme||r.theme;switch(o){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:t.size||r.size,strokeWidth:t.strokeWidth||r.strokeWidth,strokeLinecap:t.strokeLinecap||r.strokeLinecap,strokeLinejoin:t.strokeLinejoin||r.strokeLinejoin,colors:i,id:e}}var tN=Dt.exports.createContext(XV);tN.Provider;function Kr(e,t,r){return function(n){var i=n.size,o=n.strokeWidth,a=n.strokeLinecap,s=n.strokeLinejoin,f=n.theme,c=n.fill,h=n.className,p=n.spin,v=HV(n,DV),_=Dt.exports.useContext(tN),y=Dt.exports.useMemo(VV,[]),E=jV(y,{size:i,strokeWidth:o,strokeLinecap:a,strokeLinejoin:s,theme:f,fill:c},_),g=[_.prefix+"-icon"];return g.push(_.prefix+"-icon-"+e),t&&_.rtl&&g.push(_.prefix+"-icon-rtl"),p&&g.push(_.prefix+"-icon-spin"),h&&g.push(h),B("span",eE(Qx({},SS(SS({},v),{},{className:g.join(" ")})),{children:r(E)}))}}var zV=Kr("align-text-left-one",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M26 24H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M34 15H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M32 33H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),rN=Kr("close-small",!1,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M14 14L34 34",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M14 34L34 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),WV=Kr("double-right",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M12 12L24 24L12 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M24 12L36 24L24 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),nN=Kr("folder-open",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),iN=Kr("home",!1,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:e.colors[1]}),be.createElement("path",{d:"M9 42V18L4 22L24 6L44 22L39 18V42H9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M19 29V42H29V29H19Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M9 42H39",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),YV=Kr("logout",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M23.9917 6L6 6L6 42H24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M33 33L42 24L33 15",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M16 23.9917H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),qV=Kr("play-one",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),KV=Kr("preview-close-one",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M9.85786 18C6.23858 21 4 24 4 24C4 24 12.9543 36 24 36C25.3699 36 26.7076 35.8154 28 35.4921M20.0318 12.5C21.3144 12.1816 22.6414 12 24 12C35.0457 12 44 24 44 24C44 24 41.7614 27 38.1421 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M20.3142 20.6213C19.4981 21.5112 19 22.6974 19 24C19 26.7614 21.2386 29 24 29C25.3627 29 26.5981 28.4548 27.5 27.5707",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M42 42L6 6",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),ZV=Kr("preview-open",!1,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M24 36C35.0457 36 44 24 44 24C44 24 35.0457 12 24 12C12.9543 12 4 24 4 24C4 24 12.9543 36 24 36Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M24 29C26.7614 29 29 26.7614 29 24C29 21.2386 26.7614 19 24 19C21.2386 19 19 21.2386 19 24C19 26.7614 21.2386 29 24 29Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),JV=Kr("replay-music",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M21 24V18L26 21L31 24L26 27L21 30V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M11.2721 36.7279C14.5294 39.9853 19.0294 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C19.0294 6 14.5294 8.01472 11.2721 11.2721C9.6141 12.9301 6 17 6 17",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M6 9V17H14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),QV=Kr("return",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),oN=Kr("save",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:e.colors[3]}),be.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M9 6H34.2814",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M14 26H34",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M14 34H24.0083",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),aN=Kr("setting-two",!1,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M18.2838 43.1712C14.9327 42.1735 11.9498 40.3212 9.58787 37.8669C10.469 36.8226 11 35.4733 11 34C11 30.6863 8.31371 28 5 28C4.79955 28 4.60139 28.0098 4.40599 28.029C4.13979 26.7276 4 25.3801 4 24C4 21.9094 4.32077 19.8937 4.91579 17.9994C4.94381 17.9998 4.97188 18 5 18C8.31371 18 11 15.3137 11 12C11 11.0487 10.7786 10.1491 10.3846 9.34999C12.6975 7.19937 15.5205 5.5899 18.6521 4.72302C19.6444 6.66807 21.6667 8.00001 24 8.00001C26.3333 8.00001 28.3556 6.66807 29.3479 4.72302C32.4795 5.5899 35.3025 7.19937 37.6154 9.34999C37.2214 10.1491 37 11.0487 37 12C37 15.3137 39.6863 18 43 18C43.0281 18 43.0562 17.9998 43.0842 17.9994C43.6792 19.8937 44 21.9094 44 24C44 25.3801 43.8602 26.7276 43.594 28.029C43.3986 28.0098 43.2005 28 43 28C39.6863 28 37 30.6863 37 34C37 35.4733 37.531 36.8226 38.4121 37.8669C36.0502 40.3212 33.0673 42.1735 29.7162 43.1712C28.9428 40.7518 26.676 39 24 39C21.324 39 19.0572 40.7518 18.2838 43.1712Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),ej=Kr("volume-notice",!0,function(e){return be.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},be.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),be.createElement("path",{d:"M34.2358 41.1857C40.0835 37.6953 43.9999 31.305 43.9999 24C43.9999 16.8085 40.2042 10.5035 34.507 6.97906",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))});const tj=e=>{let t;switch(e.iconName){case"save":t=B(oN,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"load":t=B(nN,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"option":t=B(aN,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"title":t=B(iN,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;case"exit":t=B(YV,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;default:t=B("div",{})}return t},tl=e=>{let t=Is.MenuPanel_button;return e.hasOwnProperty("buttonOnClassName")&&(t=t+e.buttonOnClassName),we("div",{className:t,onClick:()=>{e.clickFunc()},style:{color:e.tagColor},children:[B("div",{className:Is.MenuPanel_button_icon,children:B(tj,{iconName:e.iconName,iconColor:e.iconColor})}),e.tagName]})},rj=()=>{const e=ir(p=>p.GUI),t=yi(),r=e.currentMenuTag===Ht.Save?` ${Is.MenuPanel_button_hl}`:"",n=e.currentMenuTag===Ht.Load?` ${Is.MenuPanel_button_hl}`:"",i=e.currentMenuTag===Ht.Option?` ${Is.MenuPanel_button_hl}`:"",o=e.currentMenuTag===Ht.Save?"rgba(74, 34, 93, 0.9)":"rgba(8, 8, 8, 0.3)",a=e.currentMenuTag===Ht.Load?"rgba(11, 52, 110, 0.9)":"rgba(8, 8, 8, 0.3)",s=e.currentMenuTag===Ht.Option?"rgba(81, 110, 65, 0.9)":"rgba(8, 8, 8, 0.3)",f=e.currentMenuTag===Ht.Save?"rgba(74, 34, 93, 0.9)":"rgba(185, 185, 185, 1)",c=e.currentMenuTag===Ht.Load?"rgba(11, 52, 110, 0.9)":"rgba(185, 185, 185, 1)",h=e.currentMenuTag===Ht.Option?"rgba(81, 110, 65, 0.9)":"rgba(185, 185, 185, 1)";return we("div",{className:Is.MenuPanel_main,children:[B(tl,{iconName:"save",buttonOnClassName:r,iconColor:f,tagColor:o,clickFunc:()=>{t(Gs(Ht.Save))},tagName:"\u5B58\u6863"},"saveButton"),B(tl,{iconName:"load",buttonOnClassName:n,iconColor:c,tagColor:a,clickFunc:()=>{t(Gs(Ht.Load))},tagName:"\u8BFB\u6863"},"loadButton"),B(tl,{iconName:"option",buttonOnClassName:i,iconColor:h,tagColor:s,clickFunc:()=>{t(Gs(Ht.Option))},tagName:"\u9009\u9879"},"optionButton"),B(tl,{iconName:"title",clickFunc:()=>{t(qt({component:"showTitle",visibility:!0})),t(qt({component:"showMenuPanel",visibility:!1})),Nd(e.titleBgm)},tagName:"\u6807\u9898"},"titleIcon"),B(tl,{iconName:"exit",clickFunc:()=>{t(qt({component:"showMenuPanel",visibility:!1}))},tagName:"\u8FD4\u56DE"},"exitIcon")]})},nj="_Save_Load_main_mkiqr_2",ij="_Save_Load_top_mkiqr_9",oj="_Elements_in_mkiqr_1",aj="_Save_Load_title_mkiqr_17",sj="_Save_title_text_mkiqr_30",uj="_Load_title_text_mkiqr_40",lj="_Save_Load_top_buttonList_mkiqr_50",fj="_Save_Load_top_button_mkiqr_50",cj="_Save_Load_top_button_text_mkiqr_69",hj="_Save_Load_top_button_on_mkiqr_80",dj="_Load_top_button_on_mkiqr_93",pj="_Load_top_button_mkiqr_93",vj="_Save_Load_content_mkiqr_106",_j="_Save_Load_content_element_mkiqr_115",mj="_Elements_in_transform_mkiqr_1",gj="_Save_Load_content_element_top_mkiqr_131",yj="_Save_Load_content_element_top_index_mkiqr_138",xj="_Load_content_elememt_top_index_mkiqr_147",Ej="_Save_Load_content_element_top_date_mkiqr_151",bj="_Load_content_element_top_date_mkiqr_160",wj="_Save_Load_content_text_mkiqr_164",Tj="_Save_Load_content_text_padding_mkiqr_178",Sj="_Save_Load_content_speaker_mkiqr_182",Cj="_Load_content_speaker_mkiqr_191",Ij="_Load_content_text_mkiqr_195",Rj="_Save_Load_content_miniRen_mkiqr_199",Nj="_Save_Load_content_miniRen_bg_mkiqr_205",Aj="_Save_Load_content_miniRen_figure_mkiqr_212",Pj="_Save_Load_content_miniRen_figLeft_mkiqr_220",Oj="_Save_Load_content_miniRen_figRight_mkiqr_225";var Ae={Save_Load_main:nj,Save_Load_top:ij,Elements_in:oj,Save_Load_title:aj,Save_title_text:sj,Load_title_text:uj,Save_Load_top_buttonList:lj,Save_Load_top_button:fj,Save_Load_top_button_text:cj,Save_Load_top_button_on:hj,Load_top_button_on:dj,Load_top_button:pj,Save_Load_content:vj,Save_Load_content_element:_j,Elements_in_transform:mj,Save_Load_content_element_top:gj,Save_Load_content_element_top_index:yj,Load_content_elememt_top_index:xj,Save_Load_content_element_top_date:Ej,Load_content_element_top_date:bj,Save_Load_content_text:wj,Save_Load_content_text_padding:Tj,Save_Load_content_speaker:Sj,Load_content_speaker:Cj,Load_content_text:Ij,Save_Load_content_miniRen:Rj,Save_Load_content_miniRen_bg:Nj,Save_Load_content_miniRen_figure:Aj,Save_Load_content_miniRen_figLeft:Pj,Save_Load_content_miniRen_figRight:Oj};const Lj=e=>{const t=xe.getState().userData,r=xe.getState().stage,n=jr.exports.cloneDeep(ln),i={nowStageState:jr.exports.cloneDeep(r),backlog:n,index:e,saveTime:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),sceneData:{currentSentenceId:Le.currentSentenceId,sceneStack:jr.exports.cloneDeep(Le.sceneStack),sceneName:Le.currentScene.sceneName,sceneUrl:Le.currentScene.sceneUrl}};et.debug("\u5B58\u6863\u6570\u636E\uFF1A",i);const o=jr.exports.cloneDeep(t.saveData);et.debug("newSaveData:",o),o[e]=i,xe.dispatch(fM({key:"saveData",value:[...o]})),et.debug("\u5B58\u6863\u5B8C\u6210\uFF0C\u5B58\u6863\u7ED3\u679C\uFF1A",o),pM()},kj=()=>{const e=ir(s=>s.userData),t=yi(),r=[];for(let s=1;s<=20;s++){let f=Ae.Save_Load_top_button;s===e.optionData.slPage&&(f=f+" "+Ae.Save_Load_top_button_on);const c=B("div",{onClick:()=>{t(X2(s)),wr()},className:f,children:B("div",{className:Ae.Save_Load_top_button_text,children:s})},"Save_element_page"+s);r.push(c)}const n=[],i=(e.optionData.slPage-1)*10+1,o=i+9;let a=0;for(let s=i;s<=o;s++){a++;const f=e.saveData[s];let c=B("div",{});if(f){const p=f.nowStageState.showName===""?"":`${f.nowStageState.showName}`;c=we(Go,{children:[we("div",{className:Ae.Save_Load_content_element_top,children:[B("div",{className:Ae.Save_Load_content_element_top_index,children:f.index}),B("div",{className:Ae.Save_Load_content_element_top_date,children:f.saveTime})]}),we("div",{className:Ae.Save_Load_content_miniRen,children:[f.nowStageState.bgName!==""&&B("img",{className:Ae.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:f.nowStageState.bgName}),f.nowStageState.bgName===""&&B("div",{style:{background:"rgba(0,0,0,0.6)",width:"100%",height:"100%"}}),f.nowStageState.figNameLeft!==""&&B("img",{className:Ae.Save_Load_content_miniRen_figure+" "+Ae.Save_Load_content_miniRen_figLeft,alt:"Save_img_previewLeft",src:f.nowStageState.figNameLeft}),f.nowStageState.figNameRight!==""&&B("img",{className:Ae.Save_Load_content_miniRen_figure+" "+Ae.Save_Load_content_miniRen_figRight,alt:"Save_img_preview",src:f.nowStageState.figNameRight}),f.nowStageState.figName!==""&&B("div",{style:{display:"flex",width:"100%",height:"100%",position:"absolute",bottom:"0",justifyContent:"center"},children:B("img",{className:Ae.Save_Load_content_miniRen_figure,alt:"Save_img_preview",src:f.nowStageState.figName})})]}),we("div",{className:Ae.Save_Load_content_text,children:[B("div",{className:Ae.Save_Load_content_speaker,children:p}),B("div",{className:Ae.Save_Load_content_text_padding,children:f.nowStageState.showText})]})]})}const h=B("div",{onClick:()=>Lj(s),className:Ae.Save_Load_content_element,style:{animationDelay:`${a*30}ms`},children:c},"saveElement_"+s);n.push(h)}return we("div",{className:Ae.Save_Load_main,children:[we("div",{className:Ae.Save_Load_top,children:[B("div",{className:Ae.Save_Load_title,children:B("div",{className:Ae.Save_title_text,children:"\u5B58\u6863"})}),B("div",{className:Ae.Save_Load_top_buttonList,children:r})]}),B("div",{className:Ae.Save_Load_content,id:"Save_content_page_"+e.optionData.slPage,children:n})]})},Hy=()=>{et.warn("\u6E05\u9664\u6240\u6709\u6F14\u51FA");for(let e=0;e<me.performList.length;e++){const t=me.performList[e];t.stopFunction(),clearTimeout(t.stopTimeout),me.performList.splice(e,1),e--}},sN=()=>{xe.getState().stage.PerformList.forEach(t=>{GR(t.script)})},Fj=e=>{const t=xe.dispatch,r=ln[e];et.debug("\u8BFB\u53D6\u7684backlog\u6570\u636E",r),mi(r.saveScene.sceneUrl).then(i=>{Le.currentScene=gi(i,r.saveScene.sceneName,r.saveScene.sceneUrl)}),Le.currentSentenceId=r.saveScene.currentSentenceId,Le.sceneStack=jr.exports.cloneDeep(r.saveScene.sceneStack),Hy();for(let i=ln.length-1;i>e;i--)ln.pop();const n=jr.exports.cloneDeep(r.currentStageState);t(fu(n)),sN(),t(qt({component:"showBacklog",visibility:!1})),t(qt({component:"showTextBox",visibility:!0}))},Uj=e=>{const r=xe.getState().userData.saveData[e];et.debug("\u8BFB\u53D6\u7684\u5B58\u6863\u6570\u636E",r),mi(r.sceneData.sceneUrl).then(a=>{Le.currentScene=gi(a,r.sceneData.sceneName,r.sceneData.sceneUrl)}),Le.currentSentenceId=r.sceneData.currentSentenceId,Le.sceneStack=jr.exports.cloneDeep(r.sceneData.sceneStack),Hy();const n=r.backlog;ln.splice(0,ln.length);for(const a of n)ln.push(a);const i=jr.exports.cloneDeep(r.nowStageState),o=xe.dispatch;o(fu(i)),sN(),o(qt({component:"showTitle",visibility:!1})),o(qt({component:"showMenuPanel",visibility:!1}))},Bj=()=>{const e=ir(s=>s.userData),t=yi(),r=[];for(let s=1;s<=20;s++){let f=Ae.Save_Load_top_button+" "+Ae.Load_top_button;s===e.optionData.slPage&&(f=f+" "+Ae.Save_Load_top_button_on+" "+Ae.Load_top_button_on);const c=B("div",{onClick:()=>{t(X2(s)),wr()},className:f,children:B("div",{className:Ae.Save_Load_top_button_text,children:s})},"Load_element_page"+s);r.push(c)}const n=[],i=(e.optionData.slPage-1)*10+1,o=i+9;let a=0;for(let s=i;s<=o;s++){a++;const f=e.saveData[s];let c=B("div",{});if(f){const p=f.nowStageState.showName===""?"":`${f.nowStageState.showName}`;c=we(Go,{children:[we("div",{className:Ae.Save_Load_content_element_top,children:[B("div",{className:Ae.Save_Load_content_element_top_index+" "+Ae.Load_content_elememt_top_index,children:f.index}),B("div",{className:Ae.Save_Load_content_element_top_date+" "+Ae.Load_content_element_top_date,children:f.saveTime})]}),we("div",{className:Ae.Save_Load_content_miniRen,children:[f.nowStageState.bgName!==""&&B("img",{className:Ae.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:f.nowStageState.bgName}),f.nowStageState.bgName===""&&B("div",{style:{background:"rgba(0,0,0,0.6)",width:"100%",height:"100%"}}),f.nowStageState.figNameLeft!==""&&B("img",{className:Ae.Save_Load_content_miniRen_figure+" "+Ae.Save_Load_content_miniRen_figLeft,alt:"Save_img_previewLeft",src:f.nowStageState.figNameLeft}),f.nowStageState.figNameRight!==""&&B("img",{className:Ae.Save_Load_content_miniRen_figure+" "+Ae.Save_Load_content_miniRen_figRight,alt:"Save_img_preview",src:f.nowStageState.figNameRight}),f.nowStageState.figName!==""&&B("div",{style:{display:"flex",width:"100%",height:"100%",position:"absolute",bottom:"0",justifyContent:"center"},children:B("img",{className:Ae.Save_Load_content_miniRen_figure,alt:"Save_img_preview",src:f.nowStageState.figName})})]}),we("div",{className:Ae.Save_Load_content_text,children:[B("div",{className:Ae.Save_Load_content_speaker+" "+Ae.Load_content_speaker,children:p}),B("div",{className:Ae.Save_Load_content_text_padding,children:f.nowStageState.showText})]})]})}const h=B("div",{onClick:()=>Uj(s),className:Ae.Save_Load_content_element,style:{animationDelay:`${a*30}ms`},children:c},"loadElement_"+s);n.push(h)}return we("div",{className:Ae.Save_Load_main,children:[we("div",{className:Ae.Save_Load_top,children:[B("div",{className:Ae.Save_Load_title,children:B("div",{className:Ae.Load_title_text,children:"\u8BFB\u6863"})}),B("div",{className:Ae.Save_Load_top_buttonList,children:r})]}),B("div",{className:Ae.Save_Load_content,id:"Load_content_page_"+e.optionData.slPage,children:n})]})},Mj="_Options_main_lg9cv_2",Dj="_Options_top_lg9cv_10",Gj="_Options_title_lg9cv_17",Hj="_Option_title_text_lg9cv_26",$j="_Elements_in_lg9cv_1",Xj="_Option_title_text_shadow_lg9cv_35",Vj="_Option_title_text_ts_lg9cv_42",jj="_Options_main_content_lg9cv_49",zj="_Options_main_content_half_lg9cv_54";var oa={Options_main:Mj,Options_top:Dj,Options_title:Gj,Option_title_text:Hj,Elements_in:$j,Option_title_text_shadow:Xj,Option_title_text_ts:Vj,Options_main_content:jj,Options_main_content_half:zj};const Wj="_NormalButton_1y8da_1",Yj="_NormalButtonChecked_1y8da_17";var sm={NormalButton:Wj,NormalButtonChecked:Yj};const um=e=>{const t=e.textList.length,r=[];for(let n=0;n<t;n++)if(n===e.currentChecked){const i=B("div",{className:sm.NormalButton+" "+sm.NormalButtonChecked,onClick:e.functionList[n],children:e.textList[n]},e.textList[n]+n+e);r.push(i)}else{const i=B("div",{className:sm.NormalButton,onClick:e.functionList[n],children:e.textList[n]},e.textList[n]+n);r.push(i)}return B(Go,{children:r})},qj="_NormalOption_mh1vg_1",Kj="_Elements_in_mh1vg_1",Zj="_NormalOption_title_mh1vg_10",Jj="_NormalOption_title_bef_mh1vg_19",Qj="_NormalOption_title_sd_mh1vg_29",ez="_NormalOption_buttonList_mh1vg_39";var lm={NormalOption:qj,Elements_in:Kj,NormalOption_title:Zj,NormalOption_title_bef:Jj,NormalOption_title_sd:Qj,NormalOption_buttonList:ez};const aa=e=>we("div",{className:lm.NormalOption,children:[B("div",{className:lm.NormalOption_title,children:e.title}),B("div",{className:lm.NormalOption_buttonList,children:e.children})]});const fm=e=>(Dt.exports.useEffect(()=>{setTimeout(()=>{const t=document.getElementById(e.uniqueID);t!==null&&t.setAttribute("value",e.initValue.toString())},1)},[]),B("div",{className:"Option_WebGAL_slider",children:B("input",{id:e.uniqueID,type:"range",onChange:e.onChange})})),tz="_textPreviewMain_1dkgu_2",rz="_singleText_1dkgu_11",nz="_TextDelayShow_1dkgu_1";var CS={textPreviewMain:tz,singleText:rz,TextDelayShow:nz};const iz=e=>{const t=ir(s=>s.userData),r=55-20*t.optionData.textSpeed,n="\u73B0\u5728\u9884\u89C8\u7684\u662F\u6587\u672C\u6846\u5B57\u4F53\u5927\u5C0F\u548C\u64AD\u653E\u901F\u5EA6\u7684\u60C5\u51B5\uFF0C\u60A8\u53EF\u4EE5\u6839\u636E\u60A8\u7684\u89C2\u611F\u8C03\u6574\u4E0A\u9762\u7684\u9009\u9879\u3002",i=t.optionData.textSize*50+200+"%";let o=CS.singleText;const a=n.split("").map((s,f)=>B("span",{id:r+"text"+f,style:{fontSize:i,animationDelay:String(f*r)+"ms"},className:o,children:s},s+f+t.optionData.textSpeed));return B("div",{className:CS.textPreviewMain,children:a})},oz=()=>{const e=ir(r=>r.userData),t=yi();return Dt.exports.useEffect(Zh,[]),we("div",{className:oa.Options_main,children:[B("div",{className:oa.Options_top,children:B("div",{className:oa.Options_title,children:B("div",{className:oa.Option_title_text,children:"\u9009\u9879"})})}),we("div",{className:oa.Options_main_content,children:[we("div",{className:oa.Options_main_content_half,children:[B(aa,{title:"\u6587\u5B57\u663E\u793A\u901F\u5EA6",children:B(um,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{t(wn({key:"textSpeed",value:ki.slow})),wr()},()=>{t(wn({key:"textSpeed",value:ki.normal})),wr()},()=>{t(wn({key:"textSpeed",value:ki.fast})),wr()}],currentChecked:e.optionData.textSpeed})},"option0"),B(aa,{title:"\u81EA\u52A8\u64AD\u653E\u901F\u5EA6",children:B(um,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{t(wn({key:"autoSpeed",value:ki.slow})),wr()},()=>{t(wn({key:"autoSpeed",value:ki.normal})),wr()},()=>{t(wn({key:"autoSpeed",value:ki.fast})),wr()}],currentChecked:e.optionData.autoSpeed})},"option1"),B(aa,{title:"\u6587\u672C\u5927\u5C0F",children:B(um,{textList:["\u5C0F","\u4E2D","\u5927"],functionList:[()=>{t(wn({key:"textSize",value:xl.small})),wr()},()=>{t(wn({key:"textSize",value:xl.medium})),wr()},()=>{t(wn({key:"textSize",value:xl.large})),wr()}],currentChecked:e.optionData.textSize})},"option2"),B(aa,{title:"\u6587\u672C\u663E\u793A\u9884\u89C8",children:B(iz,{})},"option3")]}),we("div",{className:oa.Options_main_content_half,children:[B(aa,{title:"\u4E3B\u97F3\u91CF",children:B(fm,{initValue:e.optionData.volumeMain,uniqueID:"\u4E3B\u97F3\u91CF",onChange:r=>{const n=r.target.value;t(wn({key:"volumeMain",value:Number(n)})),wr(),Eh()}})},"option4"),B(aa,{title:"\u8BED\u97F3\u97F3\u91CF",children:B(fm,{initValue:e.optionData.vocalVolume,uniqueID:"\u8BED\u97F3\u97F3\u91CF",onChange:r=>{const n=r.target.value;t(wn({key:"vocalVolume",value:Number(n)})),wr(),Eh()}})},"option5"),B(aa,{title:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",children:B(fm,{initValue:e.optionData.bgmVolume,uniqueID:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",onChange:r=>{const n=r.target.value;t(wn({key:"bgmVolume",value:Number(n)})),wr(),Eh()}})},"option6")]})]})]})},az=()=>{const e=ir(r=>r.GUI);let t;switch(e.currentMenuTag){case Ht.Save:t=B(kj,{});break;case Ht.Load:t=B(Bj,{});break;case Ht.Option:t=B(oz,{});break}return B(Go,{children:e.showMenuPanel&&we("div",{className:wS.Menu_main,children:[B("div",{className:wS.Menu_TagContent,children:t}),B(rj,{})]})})},sz=()=>{const e=ir(a=>a.stage),t=ir(a=>a.userData);Dt.exports.useEffect(()=>{});const r=55-20*t.optionData.textSpeed,n=t.optionData.textSize*50+200+"%",o=e.showText.split("").map((a,s)=>B("span",{className:sn.TextBox_textElement_start,style:{animationDelay:String(s*r)+"ms"},children:a},s+"textElement"+a+e.showText+Le.currentSentenceId));return we("div",{id:"textBoxMain",className:sn.TextBox_main,children:[B("div",{id:"miniAvatar",className:sn.miniAvatarContainer,children:e.miniAvatar!==""&&B("img",{className:sn.miniAvatarImg,alt:"miniAvatar",src:e.miniAvatar})}),e.showName!==""&&B("div",{className:sn.TextBox_showName,style:{fontSize:"200%"},children:e.showName}),B("div",{style:{fontSize:n},children:o})]})},uz="_FigureContainer_main_1s73g_1",lz="_figurePic_1s73g_10",fz="_centerIn_1s73g_1",cz="_figContainer_1s73g_19",hz="_figContainerLeft_1s73g_30",dz="_figContainerCenter_1s73g_34",pz="_figContainerRight_1s73g_38";var ri={FigureContainer_main:uz,figurePic:lz,centerIn:fz,figContainer:cz,figContainerLeft:hz,figContainerCenter:dz,figContainerRight:pz};const vz=()=>{const e=ir(t=>t.stage);return we("div",{className:ri.FigureContainer_main,children:[B("div",{className:ri.figContainerLeft+" "+ri.figContainer,id:"figLeftContainer",children:e.figNameLeft!==""&&B("img",{className:ri.figurePic,src:e.figNameLeft,alt:"fig_left"})}),B("div",{className:ri.figContainerCenter+" "+ri.figContainer,id:"figCenterContainer",children:e.figName!==""&&B("img",{className:ri.figurePic,src:e.figName,alt:"fig_center"})}),B("div",{className:ri.figContainerRight+" "+ri.figContainer,id:"figRightContainer",children:e.figNameRight!==""&&B("img",{className:ri.figurePic,src:e.figNameRight,alt:"fig_right"})})]})},_z=()=>{const e=ir(t=>t.stage);return we("div",{children:[B("audio",{id:"currentBgm",src:e.bgm,loop:!0,autoPlay:!0}),B("audio",{id:"currentVocal",src:e.vocal})]})},mz=()=>we("div",{className:$l.FullScreenPerform_main,children:[B("div",{id:"videoContainer"}),B("div",{className:$l.introContainer,id:"introContainer"}),B("div",{id:"pixiContianer"}),B("div",{id:"chooseContainer"})]}),gz="_ToCenter_hf2dv_1",yz="_main_hf2dv_6",xz="_button_hf2dv_17",Ez="_button_text_hf2dv_23",bz="_button_on_hf2dv_28",wz="_singleButton_hf2dv_38";var Je={ToCenter:gz,main:yz,button:xz,button_text:Ez,button_on:bz,singleButton:wz};const Qg=e=>{const t=document.getElementById("Button_ControlPanel_auto");t&&(e?t.className=Je.button_on:t.className=Je.singleButton)},uN=()=>{me.isAuto=!1,Qg(!1),me.autoInterval!==null&&(clearInterval(me.autoInterval),me.autoInterval=null),me.autoTimeout!==null&&(clearTimeout(me.autoTimeout),me.autoTimeout=null)},Tz=()=>{me.isAuto?(me.isAuto=!1,Qg(!1),me.autoInterval!==null&&(clearInterval(me.autoInterval),me.autoInterval=null)):(me.isAuto=!0,Qg(!0),me.autoInterval=setInterval(Cz,100))},Sz=()=>{qr(),me.autoTimeout=null},Cz=()=>{const e=xe.getState().userData.optionData.autoSpeed,t=750-250*e;let r=!1;me.performList.forEach(n=>{n.blockingAuto()&&!n.isOver&&(r=!0)}),!r&&me.autoTimeout===null&&(me.autoTimeout=setTimeout(Sz,t))},e0=e=>{const t=document.getElementById("Button_ControlPanel_fast");t&&(e?t.className=Je.button_on:t.className=Je.singleButton)},lN=()=>{me.isFast=!1,e0(!1),me.fastInterval!==null&&(clearInterval(me.fastInterval),me.fastInterval=null)},Iz=()=>{lN(),uN()},Rz=()=>{me.isFast?(me.isFast=!1,e0(!1),me.fastInterval!==null&&(clearInterval(me.fastInterval),me.fastInterval=null)):(me.isFast=!0,e0(!0),me.fastInterval=setInterval(()=>{qr()},100))},Nz=()=>{const e=ir(n=>n.stage),t=ir(n=>n.GUI),r=yi();return Dt.exports.useEffect(()=>{const n=e.effects;setTimeout(()=>{n.forEach(i=>{const o=document.getElementById(i.target);o&&(i.filter!==""&&(o.style.filter=i.filter),i.transform!==""&&(o.style.transform=i.transform))})},100)}),we("div",{className:mh.MainStage_main,children:[B("div",{id:"MainStage_bg_OldContainer",className:mh.MainStage_oldBgContainer,style:{backgroundImage:`url("${e.oldBgName}")`,backgroundSize:"cover"}},"bgOld"+e.oldBgName),B("div",{id:"MainStage_bg_MainContainer",className:mh.MainStage_bgContainer,style:{backgroundImage:`url("${e.bgName}")`,backgroundSize:"cover"}},"bgMain"+e.bgName),B(vz,{}),t.showTextBox&&B(sz,{}),B(_z,{}),B(mz,{}),B("div",{onClick:()=>{if(!t.showTextBox){r(qt({component:"showTextBox",visibility:!0}));return}Iz(),qr()},id:"FullScreenClcck",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"}})]})},Az=()=>{const e=xe.getState().GUI,t=xe.dispatch;Nd(e.titleBgm),Hy(),uN(),lN(),t(qt({component:"showTitle",visibility:!0}))},Pz=()=>{const e=ir(i=>i.GUI),t=yi(),r=(i,o)=>{t(qt({component:i,visibility:o}))},n=i=>{t(Gs(i))};return B("div",{className:Je.ToCenter,children:e.showTextBox&&we("div",{className:Je.main,children:[e.showTextBox&&we("span",{className:Je.singleButton,onClick:()=>r("showTextBox",!1),children:[B(KV,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u9690\u85CF"})]}),!e.showTextBox&&we("span",{className:Je.singleButton,onClick:()=>r("showTextBox",!0),children:[B(ZV,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u663E\u793A"})]}),we("span",{className:Je.singleButton,onClick:()=>{r("showBacklog",!0),r("showTextBox",!1)},children:[B(zV,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u56DE\u60F3"})]}),we("span",{className:Je.singleButton,onClick:()=>{let i=document.getElementById("currentVocal");i!==null&&(i.currentTime=0,i.pause(),i.play())},children:[B(JV,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u91CD\u64AD"})]}),we("span",{id:"Button_ControlPanel_auto",className:Je.singleButton,onClick:Tz,children:[B(qV,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u81EA\u52A8"})]}),we("span",{id:"Button_ControlPanel_fast",className:Je.singleButton,onClick:Rz,children:[B(WV,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u5FEB\u8FDB"})]}),we("span",{className:Je.singleButton,onClick:()=>{n(Ht.Save),r("showMenuPanel",!0)},children:[B(oN,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u5B58\u6863"})]}),we("span",{className:Je.singleButton,onClick:()=>{n(Ht.Load),r("showMenuPanel",!0)},children:[B(nN,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u8BFB\u6863"})]}),we("span",{className:Je.singleButton,onClick:()=>{n(Ht.Option),r("showMenuPanel",!0)},children:[B(aN,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u9009\u9879"})]}),we("span",{className:Je.singleButton,onClick:()=>{Az()},children:[B(iN,{className:Je.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),B("span",{className:Je.button_text,children:"\u6807\u9898"})]})]})})},Oz="_Backlog_main_7ipkr_2",Lz="_backlog_soft_in_7ipkr_1",kz="_backlog_top_7ipkr_15",Fz="_backlog_top_icon_7ipkr_21",Uz="_backlog_icon_softin_7ipkr_1",Bz="_backlog_title_7ipkr_40",Mz="_backlog_content_7ipkr_50",Dz="_backlog_item_7ipkr_62",Gz="_backlog_item_in_7ipkr_1",Hz="_backlog_func_area_7ipkr_72",$z="_backlog_item_content_name_7ipkr_79",Xz="_backlog_item_content_7ipkr_79",Vz="_backlog_item_button_list_7ipkr_98",jz="_backlog_item_button_element_7ipkr_105",zz="_backlog_item_content_text_7ipkr_118";var an={Backlog_main:Oz,backlog_soft_in:Lz,backlog_top:kz,backlog_top_icon:Fz,backlog_icon_softin:Uz,backlog_title:Bz,backlog_content:Mz,backlog_item:Dz,backlog_item_in:Gz,backlog_func_area:Hz,backlog_item_content_name:$z,backlog_item_content:Xz,backlog_item_button_list:Vz,backlog_item_button_element:jz,backlog_item_content_text:zz};const Wz=()=>{const e=ir(n=>n.GUI),t=[],r=yi();for(let n=0;n<ln.length;n++){const i=ln[n],o=we("div",{className:an.backlog_item,style:{animationDelay:`${20*(ln.length-n)}ms`},children:[we("div",{className:an.backlog_func_area,children:[i.currentStageState.showName!==""&&B("div",{className:an.backlog_item_content_name,children:i.currentStageState.showName}),we("div",{className:an.backlog_item_button_list,children:[B("div",{onClick:a=>{Fj(n),a.preventDefault(),a.stopPropagation()},className:an.backlog_item_button_element,children:B(QV,{theme:"outline",size:"23",fill:"#ffffff",strokeWidth:3})}),B("div",{onClick:()=>{const a=document.getElementById("backlog_audio_play_element_"+n);if(a){a.currentTime=0;const s=xe.getState().userData,f=s.optionData.volumeMain;a.volume=f*.01*s.optionData.vocalVolume*.01,a.play()}},className:an.backlog_item_button_element,children:B(ej,{theme:"outline",size:"23",fill:"#ffffff",strokeWidth:3})})]})]}),B("div",{className:an.backlog_item_content,children:B("span",{className:an.backlog_item_content_text,children:i.currentStageState.showText})}),B("audio",{id:"backlog_audio_play_element_"+n,src:i.currentStageState.vocal})]},"backlogItem"+i.currentStageState.showText+i.saveScene.currentSentenceId);t.unshift(o)}return B(Go,{children:e.showBacklog&&we("div",{className:an.Backlog_main,children:[we("div",{className:an.backlog_top,children:[B(rN,{className:an.backlog_top_icon,onClick:()=>{r(qt({component:"showBacklog",visibility:!1})),r(qt({component:"showTextBox",visibility:!0}))},theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),B("div",{className:an.backlog_title,children:"\u56DE\u60F3"})]}),B("div",{className:an.backlog_content,children:t})]})})},Yz="_extra_1qex5_2",qz="_extra_top_1qex5_14",Kz="_extra_top_icon_1qex5_20",Zz="_extra_icon_softin_1qex5_1",Jz="_extra_title_1qex5_39",Qz="_mainContainer_1qex5_50",eW="_bgmContainer_1qex5_57",tW="_bgmElement_1qex5_65",rW="_bgmElement_In_1qex5_1",nW="_bgmElement_active_1qex5_95",iW="_cgMain_1qex5_100",oW="_cgContainer_1qex5_105",aW="_cgElement_1qex5_117",sW="_cgShowDiv_1qex5_132",uW="_cgNav_1qex5_141",lW="_cgNav_active_1qex5_153",fW="_showFullContainer_1qex5_164",cW="_showFullCgMain_1qex5_177",hW="_fullCgIn_1qex5_1";var Ir={extra:Yz,extra_top:qz,extra_top_icon:Kz,extra_icon_softin:Zz,extra_title:Jz,mainContainer:Qz,bgmContainer:eW,bgmElement:tW,bgmElement_In:rW,bgmElement_active:nW,cgMain:iW,cgContainer:oW,cgElement:aW,cgShowDiv:sW,cgNav:uW,cgNav_active:lW,showFullContainer:fW,showFullCgMain:cW,fullCgIn:hW};function $y(e){const[t,r]=Dt.exports.useState(e);return{value:t,set:function(n){this.value=n,r(n)}}}function dW(){const e=ir(a=>a.stage.bgm),t=ir(a=>a.userData.appreciationData);let r="init_bgm_find_var_WebGAL_4.2.1";t.bgm.forEach((a,s)=>{a.url===e&&(r=a.name)});const n=$y("");r!=="init_bgm_find_var_WebGAL_4.2.1"&&r!==n.value&&n.set(r);const i=yi(),o=t.bgm.map((a,s)=>{let f=Ir.bgmElement;return a.name===n.value&&(f=f+" "+Ir.bgmElement_active),B("div",{onClick:()=>{n.set(a.name),i(Ar({key:"bgm",value:a.url}))},className:f,style:{animationDelay:`${s*150}ms`},children:a.name},a.name)});return B("div",{className:Ir.bgmContainer,children:o})}function pW(e){const t=$y(!1);return we(Go,{children:[t.value&&B("div",{onClick:()=>t.set(!t.value),className:Ir.showFullContainer,children:B("div",{className:Ir.showFullCgMain,children:B("div",{style:{backgroundImage:`url('${e.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})})}),B("div",{onClick:()=>t.set(!t.value),style:{animation:`cg_softIn_${e.transformDeg} 1.5s ease-out ${100+e.index*100}ms forwards `},className:Ir.cgElement,children:B("div",{style:{backgroundImage:`url('${e.imgUrl}')`,backgroundSize:"cover",backgroundPosition:"center",width:"100%",height:"100%"}})},e.name)]})}function vW(){const t=ir(s=>s.userData.appreciationData),r=Math.ceil(t.cg.length/9),n=$y(1),i=[],o=t.cg.length;for(let s=(n.value-1)*9;s<Math.min(o,(n.value-1)*9+9);s++){const f=s-(n.value-1)*9,c=_W(-5,5),h=B(pW,{name:t.cg[s].name,imgUrl:t.cg[s].url,transformDeg:c,index:f});i.push(h)}const a=[];for(let s=1;s<=r;s++){let f=Ir.cgNav;n.value===s&&(f=f+" "+Ir.cgNav_active);const c=B("div",{onClick:()=>n.set(s),className:f,children:s},"nav"+s);a.push(c)}return we("div",{className:Ir.cgMain,children:[B("div",{className:Ir.cgContainer,children:i}),B("div",{className:Ir.cgShowDiv,children:a})]})}function _W(e,t){return Math.round(Math.random()*(t-e))+e}function mW(){const e=ir(r=>r.GUI.showExtra),t=yi();return B(Go,{children:e&&we("div",{className:Ir.extra,children:[we("div",{className:Ir.extra_top,children:[B(rN,{className:Ir.extra_top_icon,onClick:()=>{t(qt({component:"showExtra",visibility:!1}))},theme:"outline",size:"4em",fill:"#fff",strokeWidth:3}),B("div",{className:Ir.extra_title,children:"\u9274\u8D4F\u6A21\u5F0F"})]}),we("div",{className:Ir.mainContainer,children:[B(dW,{}),B(vW,{})]})]})})}function gW(){return Dt.exports.useEffect(()=>{OV()()},[]),B("div",{className:"App",style:{height:"100%",width:"100%",background:"rgba(0, 0, 0, 0.6)"},children:we(bV,{store:xe,children:[B(mW,{}),B(SV,{}),B(az,{}),B(Nz,{}),B(Pz,{}),B(Wz,{})]})})}Ys.render(B(be.StrictMode,{children:B(gW,{})}),document.getElementById("root"));

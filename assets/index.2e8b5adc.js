var dF=Object.defineProperty,pF=Object.defineProperties;var vF=Object.getOwnPropertyDescriptors;var Px=Object.getOwnPropertySymbols;var _F=Object.prototype.hasOwnProperty,mF=Object.prototype.propertyIsEnumerable;var Ax=(e,t,r)=>t in e?dF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ox=(e,t)=>{for(var r in t||(t={}))_F.call(t,r)&&Ax(e,r,t[r]);if(Px)for(var r of Px(t))mF.call(t,r)&&Ax(e,r,t[r]);return e},Lx=(e,t)=>pF(e,vF(t));const gF=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};gF();var gn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function oc(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jt={exports:{}},nt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Fx=Object.getOwnPropertySymbols,yF=Object.prototype.hasOwnProperty,xF=Object.prototype.propertyIsEnumerable;function TF(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function EF(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Dg=EF()?Object.assign:function(e,t){for(var r,n=TF(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var a in r)yF.call(r,a)&&(n[a]=r[a]);if(Fx){i=Fx(r);for(var u=0;u<i.length;u++)xF.call(r,i[u])&&(n[i[u]]=r[i[u]])}}return n};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=Dg,Ys=60103,oS=60106;nt.Fragment=60107;nt.StrictMode=60108;nt.Profiler=60114;var aS=60109,sS=60110,uS=60112;nt.Suspense=60113;var lS=60115,fS=60116;if(typeof Symbol=="function"&&Symbol.for){var Fn=Symbol.for;Ys=Fn("react.element"),oS=Fn("react.portal"),nt.Fragment=Fn("react.fragment"),nt.StrictMode=Fn("react.strict_mode"),nt.Profiler=Fn("react.profiler"),aS=Fn("react.provider"),sS=Fn("react.context"),uS=Fn("react.forward_ref"),nt.Suspense=Fn("react.suspense"),lS=Fn("react.memo"),fS=Fn("react.lazy")}var Ux=typeof Symbol=="function"&&Symbol.iterator;function wF(e){return e===null||typeof e!="object"?null:(e=Ux&&e[Ux]||e["@@iterator"],typeof e=="function"?e:null)}function Vl(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hS={};function qs(e,t,r){this.props=e,this.context=t,this.refs=hS,this.updater=r||cS}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(Vl(85));this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dS(){}dS.prototype=qs.prototype;function Hg(e,t,r){this.props=e,this.context=t,this.refs=hS,this.updater=r||cS}var Xg=Hg.prototype=new dS;Xg.constructor=Hg;Gg(Xg,qs.prototype);Xg.isPureReactComponent=!0;var $g={current:null},pS=Object.prototype.hasOwnProperty,vS={key:!0,ref:!0,__self:!0,__source:!0};function _S(e,t,r){var n,i={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)pS.call(t,n)&&!vS.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var f=Array(u),c=0;c<u;c++)f[c]=arguments[c+2];i.children=f}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:Ys,type:e,key:o,ref:a,props:i,_owner:$g.current}}function bF(e,t){return{$$typeof:Ys,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ys}function SF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var kx=/\/+/g;function Ov(e,t){return typeof e=="object"&&e!==null&&e.key!=null?SF(""+e.key):t.toString(36)}function Vc(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ys:case oS:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Ov(a,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(kx,"$&/")+"/"),Vc(i,t,r,"",function(c){return c})):i!=null&&(jg(i)&&(i=bF(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(kx,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Array.isArray(e))for(var u=0;u<e.length;u++){o=e[u];var f=n+Ov(o,u);a+=Vc(o,t,r,f,i)}else if(f=wF(e),typeof f=="function")for(e=f.call(e),u=0;!(o=e.next()).done;)o=o.value,f=n+Ov(o,u++),a+=Vc(o,t,r,f,i);else if(o==="object")throw t=""+e,Error(Vl(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function ac(e,t,r){if(e==null)return e;var n=[],i=0;return Vc(e,n,"","",function(o){return t.call(r,o,i++)}),n}function CF(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var mS={current:null};function Xi(){var e=mS.current;if(e===null)throw Error(Vl(321));return e}var IF={ReactCurrentDispatcher:mS,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:$g,IsSomeRendererActing:{current:!1},assign:Gg};nt.Children={map:ac,forEach:function(e,t,r){ac(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ac(e,function(){t++}),t},toArray:function(e){return ac(e,function(t){return t})||[]},only:function(e){if(!jg(e))throw Error(Vl(143));return e}};nt.Component=qs;nt.PureComponent=Hg;nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IF;nt.cloneElement=function(e,t,r){if(e==null)throw Error(Vl(267,e));var n=Gg({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=$g.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(f in t)pS.call(t,f)&&!vS.hasOwnProperty(f)&&(n[f]=t[f]===void 0&&u!==void 0?u[f]:t[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){u=Array(f);for(var c=0;c<f;c++)u[c]=arguments[c+2];n.children=u}return{$$typeof:Ys,type:e.type,key:i,ref:o,props:n,_owner:a}};nt.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:sS,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:aS,_context:e},e.Consumer=e};nt.createElement=_S;nt.createFactory=function(e){var t=_S.bind(null,e);return t.type=e,t};nt.createRef=function(){return{current:null}};nt.forwardRef=function(e){return{$$typeof:uS,render:e}};nt.isValidElement=jg;nt.lazy=function(e){return{$$typeof:fS,_payload:{_status:-1,_result:e},_init:CF}};nt.memo=function(e,t){return{$$typeof:lS,type:e,compare:t===void 0?null:t}};nt.useCallback=function(e,t){return Xi().useCallback(e,t)};nt.useContext=function(e,t){return Xi().useContext(e,t)};nt.useDebugValue=function(){};nt.useEffect=function(e,t){return Xi().useEffect(e,t)};nt.useImperativeHandle=function(e,t,r){return Xi().useImperativeHandle(e,t,r)};nt.useLayoutEffect=function(e,t){return Xi().useLayoutEffect(e,t)};nt.useMemo=function(e,t){return Xi().useMemo(e,t)};nt.useReducer=function(e,t,r){return Xi().useReducer(e,t,r)};nt.useRef=function(e){return Xi().useRef(e)};nt.useState=function(e){return Xi().useState(e)};nt.version="17.0.2";jt.exports=nt;var xe=jt.exports,zg={exports:{}},Sn={},gS={exports:{}},yS={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){var t,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var f=null,c=null,d=function(){if(f!==null)try{var j=e.unstable_now();f(!0,j),f=null}catch(re){throw setTimeout(d,0),re}};t=function(j){f!==null?setTimeout(t,0,j):(f=j,setTimeout(d,0))},r=function(j,re){c=setTimeout(j,re)},n=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},i=e.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,v=window.clearTimeout;if(typeof console!="undefined"){var _=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof _!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,T=null,g=-1,x=5,w=0;e.unstable_shouldYield=function(){return e.unstable_now()>=w},i=function(){},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<j?Math.floor(1e3/j):5};var I=new MessageChannel,A=I.port2;I.port1.onmessage=function(){if(T!==null){var j=e.unstable_now();w=j+x;try{T(!0,j)?A.postMessage(null):(y=!1,T=null)}catch(re){throw A.postMessage(null),re}}else y=!1},t=function(j){T=j,y||(y=!0,A.postMessage(null))},r=function(j,re){g=p(function(){j(e.unstable_now())},re)},n=function(){v(g),g=-1}}function N(j,re){var fe=j.length;j.push(re);e:for(;;){var Ee=fe-1>>>1,Ae=j[Ee];if(Ae!==void 0&&0<$(Ae,re))j[Ee]=re,j[fe]=Ae,fe=Ee;else break e}}function R(j){return j=j[0],j===void 0?null:j}function B(j){var re=j[0];if(re!==void 0){var fe=j.pop();if(fe!==re){j[0]=fe;e:for(var Ee=0,Ae=j.length;Ee<Ae;){var Be=2*(Ee+1)-1,ot=j[Be],at=Be+1,We=j[at];if(ot!==void 0&&0>$(ot,fe))We!==void 0&&0>$(We,ot)?(j[Ee]=We,j[at]=fe,Ee=at):(j[Ee]=ot,j[Be]=fe,Ee=Be);else if(We!==void 0&&0>$(We,fe))j[Ee]=We,j[at]=fe,Ee=at;else break e}}return re}return null}function $(j,re){var fe=j.sortIndex-re.sortIndex;return fe!==0?fe:j.id-re.id}var M=[],W=[],he=1,ae=null,de=3,Ve=!1,ue=!1,le=!1;function ye(j){for(var re=R(W);re!==null;){if(re.callback===null)B(W);else if(re.startTime<=j)B(W),re.sortIndex=re.expirationTime,N(M,re);else break;re=R(W)}}function Le(j){if(le=!1,ye(j),!ue)if(R(M)!==null)ue=!0,t(ht);else{var re=R(W);re!==null&&r(Le,re.startTime-j)}}function ht(j,re){ue=!1,le&&(le=!1,n()),Ve=!0;var fe=de;try{for(ye(re),ae=R(M);ae!==null&&(!(ae.expirationTime>re)||j&&!e.unstable_shouldYield());){var Ee=ae.callback;if(typeof Ee=="function"){ae.callback=null,de=ae.priorityLevel;var Ae=Ee(ae.expirationTime<=re);re=e.unstable_now(),typeof Ae=="function"?ae.callback=Ae:ae===R(M)&&B(M),ye(re)}else B(M);ae=R(M)}if(ae!==null)var Be=!0;else{var ot=R(W);ot!==null&&r(Le,ot.startTime-re),Be=!1}return Be}finally{ae=null,de=fe,Ve=!1}}var Z=i;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){ue||Ve||(ue=!0,t(ht))},e.unstable_getCurrentPriorityLevel=function(){return de},e.unstable_getFirstCallbackNode=function(){return R(M)},e.unstable_next=function(j){switch(de){case 1:case 2:case 3:var re=3;break;default:re=de}var fe=de;de=re;try{return j()}finally{de=fe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=Z,e.unstable_runWithPriority=function(j,re){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var fe=de;de=j;try{return re()}finally{de=fe}},e.unstable_scheduleCallback=function(j,re,fe){var Ee=e.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ee+fe:Ee):fe=Ee,j){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=fe+Ae,j={id:he++,callback:re,priorityLevel:j,startTime:fe,expirationTime:Ae,sortIndex:-1},fe>Ee?(j.sortIndex=fe,N(W,j),R(M)===null&&j===R(W)&&(le?n():le=!0,r(Le,fe-Ee))):(j.sortIndex=Ae,N(M,j),ue||Ve||(ue=!0,t(ht))),j},e.unstable_wrapCallback=function(j){var re=de;return function(){var fe=de;de=re;try{return j.apply(this,arguments)}finally{de=fe}}}})(yS);gS.exports=yS;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qh=jt.exports,Pt=Dg,or=gS.exports;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Qh)throw Error(ne(227));var xS=new Set,pl={};function wa(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(pl[e]=t,e=0;e<t.length;e++)xS.add(t[e])}var Bi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),RF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bx=Object.prototype.hasOwnProperty,Mx={},Dx={};function NF(e){return Bx.call(Dx,e)?!0:Bx.call(Mx,e)?!1:RF.test(e)?Dx[e]=!0:(Mx[e]=!0,!1)}function PF(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AF(e,t,r,n){if(t===null||typeof t=="undefined"||PF(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Or(e,t,r,n,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pr[e]=new Or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pr[t]=new Or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pr[e]=new Or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pr[e]=new Or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pr[e]=new Or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pr[e]=new Or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pr[e]=new Or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pr[e]=new Or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pr[e]=new Or(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vg=/[\-:]([a-z])/g;function Wg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vg,Wg);pr[t]=new Or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vg,Wg);pr[t]=new Or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vg,Wg);pr[t]=new Or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pr[e]=new Or(e,1,!1,e.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pr[e]=new Or(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yg(e,t,r,n){var i=pr.hasOwnProperty(t)?pr[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(AF(t,r,i,n)&&(r=null),n||i===null?NF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ba=Qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yu=60103,sa=60106,oo=60107,qg=60108,el=60114,Kg=60109,Zg=60110,ed=60112,tl=60113,hh=60120,td=60115,Jg=60116,Qg=60121,e0=60128,TS=60129,t0=60130,Z_=60131;if(typeof Symbol=="function"&&Symbol.for){var ir=Symbol.for;Yu=ir("react.element"),sa=ir("react.portal"),oo=ir("react.fragment"),qg=ir("react.strict_mode"),el=ir("react.profiler"),Kg=ir("react.provider"),Zg=ir("react.context"),ed=ir("react.forward_ref"),tl=ir("react.suspense"),hh=ir("react.suspense_list"),td=ir("react.memo"),Jg=ir("react.lazy"),Qg=ir("react.block"),ir("react.scope"),e0=ir("react.opaque.id"),TS=ir("react.debug_trace_mode"),t0=ir("react.offscreen"),Z_=ir("react.legacy_hidden")}var Gx=typeof Symbol=="function"&&Symbol.iterator;function Iu(e){return e===null||typeof e!="object"?null:(e=Gx&&e[Gx]||e["@@iterator"],typeof e=="function"?e:null)}var Lv;function qu(e){if(Lv===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lv=t&&t[1]||""}return`
`+Lv+e}var Fv=!1;function sc(e,t){if(!e||Fv)return"";Fv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var n=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){n=f}e.call(t.prototype)}else{try{throw Error()}catch(f){n=f}e()}}catch(f){if(f&&n&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=n.stack.split(`
`),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==o[u])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=u);break}}}finally{Fv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qu(e):""}function OF(e){switch(e.tag){case 5:return qu(e.type);case 16:return qu("Lazy");case 13:return qu("Suspense");case 19:return qu("SuspenseList");case 0:case 2:case 15:return e=sc(e.type,!1),e;case 11:return e=sc(e.type.render,!1),e;case 22:return e=sc(e.type._render,!1),e;case 1:return e=sc(e.type,!0),e;default:return""}}function xs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oo:return"Fragment";case sa:return"Portal";case el:return"Profiler";case qg:return"StrictMode";case tl:return"Suspense";case hh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zg:return(e.displayName||"Context")+".Consumer";case Kg:return(e._context.displayName||"Context")+".Provider";case ed:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case td:return xs(e.type);case Qg:return xs(e._render);case Jg:t=e._payload,e=e._init;try{return xs(e(t))}catch{}}return null}function Eo(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ES(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LF(e){var t=ES(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r!="undefined"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function uc(e){e._valueTracker||(e._valueTracker=LF(e))}function wS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ES(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function dh(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function J_(e,t){var r=t.checked;return Pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function Hx(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Eo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bS(e,t){t=t.checked,t!=null&&Yg(e,"checked",t,!1)}function Q_(e,t){bS(e,t);var r=Eo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?em(e,t.type,r):t.hasOwnProperty("defaultValue")&&em(e,t.type,Eo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function em(e,t,r){(t!=="number"||dh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function FF(e){var t="";return Qh.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function tm(e,t){return e=Pt({children:void 0},t),(t=FF(t.children))&&(e.children=t),e}function Ts(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Eo(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function rm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return Pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $x(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ne(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(ne(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Eo(r)}}function SS(e,t){var r=Eo(t.value),n=Eo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function jx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var nm={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function CS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function im(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?CS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lc,IS=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==nm.svg||"innerHTML"in e)e.innerHTML=t;else{for(lc=lc||document.createElement("div"),lc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=lc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var rl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UF=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(e){UF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rl[t]=rl[e]})});function RS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||rl.hasOwnProperty(e)&&rl[e]?(""+t).trim():t+"px"}function NS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=RS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var kF=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function om(e,t){if(t){if(kF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function am(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function r0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sm=null,Es=null,ws=null;function zx(e){if(e=Yl(e)){if(typeof sm!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=sd(t),sm(e.stateNode,e.type,t))}}function PS(e){Es?ws?ws.push(e):ws=[e]:Es=e}function AS(){if(Es){var e=Es,t=ws;if(ws=Es=null,zx(e),t)for(e=0;e<t.length;e++)zx(t[e])}}function n0(e,t){return e(t)}function OS(e,t,r,n,i){return e(t,r,n,i)}function i0(){}var LS=n0,ua=!1,Uv=!1;function o0(){(Es!==null||ws!==null)&&(i0(),AS())}function BF(e,t,r){if(Uv)return e(t,r);Uv=!0;try{return LS(e,t,r)}finally{Uv=!1,o0()}}function _l(e,t){var r=e.stateNode;if(r===null)return null;var n=sd(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ne(231,t,typeof r));return r}var um=!1;if(Bi)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){um=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{um=!1}function MF(e,t,r,n,i,o,a,u,f){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var nl=!1,ph=null,vh=!1,lm=null,DF={onError:function(e){nl=!0,ph=e}};function GF(e,t,r,n,i,o,a,u,f){nl=!1,ph=null,MF.apply(DF,arguments)}function HF(e,t,r,n,i,o,a,u,f){if(GF.apply(this,arguments),nl){if(nl){var c=ph;nl=!1,ph=null}else throw Error(ne(198));vh||(vh=!0,lm=c)}}function Sa(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function FS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vx(e){if(Sa(e)!==e)throw Error(ne(188))}function XF(e){var t=e.alternate;if(!t){if(t=Sa(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Vx(i),e;if(o===n)return Vx(i),t;o=o.sibling}throw Error(ne(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,u=i.child;u;){if(u===r){a=!0,r=i,n=o;break}if(u===n){a=!0,n=i,r=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===r){a=!0,r=o,n=i;break}if(u===n){a=!0,n=o,r=i;break}u=u.sibling}if(!a)throw Error(ne(189))}}if(r.alternate!==n)throw Error(ne(190))}if(r.tag!==3)throw Error(ne(188));return r.stateNode.current===r?e:t}function US(e){if(e=XF(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Wx(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var kS,a0,BS,MS,fm=!1,Qn=[],ho=null,po=null,vo=null,ml=new Map,gl=new Map,Nu=[],Yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cm(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function qx(e,t){switch(e){case"focusin":case"focusout":ho=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":ml.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(t.pointerId)}}function Pu(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=cm(t,r,n,i,o),t!==null&&(t=Yl(t),t!==null&&a0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $F(e,t,r,n,i){switch(t){case"focusin":return ho=Pu(ho,e,t,r,n,i),!0;case"dragenter":return po=Pu(po,e,t,r,n,i),!0;case"mouseover":return vo=Pu(vo,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return ml.set(o,Pu(ml.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,gl.set(o,Pu(gl.get(o)||null,e,t,r,n,i)),!0}return!1}function jF(e){var t=la(e.target);if(t!==null){var r=Sa(t);if(r!==null){if(t=r.tag,t===13){if(t=FS(r),t!==null){e.blockedOn=t,MS(e.lanePriority,function(){or.unstable_runWithPriority(e.priority,function(){BS(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=f0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Yl(r),t!==null&&a0(t),e.blockedOn=r,!1;t.shift()}return!0}function Kx(e,t,r){Wc(e)&&r.delete(t)}function zF(){for(fm=!1;0<Qn.length;){var e=Qn[0];if(e.blockedOn!==null){e=Yl(e.blockedOn),e!==null&&kS(e);break}for(var t=e.targetContainers;0<t.length;){var r=f0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&Qn.shift()}ho!==null&&Wc(ho)&&(ho=null),po!==null&&Wc(po)&&(po=null),vo!==null&&Wc(vo)&&(vo=null),ml.forEach(Kx),gl.forEach(Kx)}function Au(e,t){e.blockedOn===t&&(e.blockedOn=null,fm||(fm=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,zF)))}function DS(e){function t(i){return Au(i,e)}if(0<Qn.length){Au(Qn[0],e);for(var r=1;r<Qn.length;r++){var n=Qn[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ho!==null&&Au(ho,e),po!==null&&Au(po,e),vo!==null&&Au(vo,e),ml.forEach(t),gl.forEach(t),r=0;r<Nu.length;r++)n=Nu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Nu.length&&(r=Nu[0],r.blockedOn===null);)jF(r),r.blockedOn===null&&Nu.shift()}function fc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ls={animationend:fc("Animation","AnimationEnd"),animationiteration:fc("Animation","AnimationIteration"),animationstart:fc("Animation","AnimationStart"),transitionend:fc("Transition","TransitionEnd")},kv={},GS={};Bi&&(GS=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function rd(e){if(kv[e])return kv[e];if(!ls[e])return e;var t=ls[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in GS)return kv[e]=t[r];return e}var HS=rd("animationend"),XS=rd("animationiteration"),$S=rd("animationstart"),jS=rd("transitionend"),zS=new Map,s0=new Map,VF=["abort","abort",HS,"animationEnd",XS,"animationIteration",$S,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",jS,"transitionEnd","waiting","waiting"];function u0(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),s0.set(n,t),zS.set(n,i),wa(i,[n])}}var WF=or.unstable_now;WF();var xt=8;function as(e){if((1&e)!==0)return xt=15,1;if((2&e)!==0)return xt=14,2;if((4&e)!==0)return xt=13,4;var t=24&e;return t!==0?(xt=12,t):(e&32)!==0?(xt=11,32):(t=192&e,t!==0?(xt=10,t):(e&256)!==0?(xt=9,256):(t=3584&e,t!==0?(xt=8,t):(e&4096)!==0?(xt=7,4096):(t=4186112&e,t!==0?(xt=6,t):(t=62914560&e,t!==0?(xt=5,t):e&67108864?(xt=4,67108864):(e&134217728)!==0?(xt=3,134217728):(t=805306368&e,t!==0?(xt=2,t):(1073741824&e)!==0?(xt=1,1073741824):(xt=8,e))))))}function YF(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function qF(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(ne(358,e))}}function yl(e,t){var r=e.pendingLanes;if(r===0)return xt=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,u=e.pingedLanes;if(o!==0)n=o,i=xt=15;else if(o=r&134217727,o!==0){var f=o&~a;f!==0?(n=as(f),i=xt):(u&=o,u!==0&&(n=as(u),i=xt))}else o=r&~a,o!==0?(n=as(o),i=xt):u!==0&&(n=as(u),i=xt);if(n===0)return 0;if(n=31-wo(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&a)===0){if(as(t),i<=xt)return t;xt=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wo(t),i=1<<r,n|=e[r],t&=~i;return n}function VS(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _h(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=ss(24&~t),e===0?_h(10,t):e;case 10:return e=ss(192&~t),e===0?_h(8,t):e;case 8:return e=ss(3584&~t),e===0&&(e=ss(4186112&~t),e===0&&(e=512)),e;case 2:return t=ss(805306368&~t),t===0&&(t=268435456),t}throw Error(ne(358,e))}function ss(e){return e&-e}function Bv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function nd(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-wo(t),e[t]=r}var wo=Math.clz32?Math.clz32:JF,KF=Math.log,ZF=Math.LN2;function JF(e){return e===0?32:31-(KF(e)/ZF|0)|0}var QF=or.unstable_UserBlockingPriority,eU=or.unstable_runWithPriority,Yc=!0;function tU(e,t,r,n){ua||i0();var i=l0,o=ua;ua=!0;try{OS(i,e,t,r,n)}finally{(ua=o)||o0()}}function rU(e,t,r,n){eU(QF,l0.bind(null,e,t,r,n))}function l0(e,t,r,n){if(Yc){var i;if((i=(t&4)===0)&&0<Qn.length&&-1<Yx.indexOf(e))e=cm(null,e,t,r,n),Qn.push(e);else{var o=f0(e,t,r,n);if(o===null)i&&qx(e,n);else{if(i){if(-1<Yx.indexOf(e)){e=cm(o,e,t,r,n),Qn.push(e);return}if($F(o,e,t,r,n))return;qx(e,n)}o2(e,t,n,null,r)}}}}function f0(e,t,r,n){var i=r0(n);if(i=la(i),i!==null){var o=Sa(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=FS(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return o2(e,t,n,i,r),null}var so=null,c0=null,qc=null;function WS(){if(qc)return qc;var e,t=c0,r=t.length,n,i="value"in so?so.value:so.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[o-n];n++);return qc=i.slice(e,1<n?1-n:void 0)}function Kc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cc(){return!0}function Zx(){return!1}function nn(e){function t(r,n,i,o,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cc:Zx,this.isPropagationStopped=Zx,this}return Pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),t}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h0=nn(Ks),Wl=Pt({},Ks,{view:0,detail:0}),nU=nn(Wl),Mv,Dv,Ou,id=Pt({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ou&&(Ou&&e.type==="mousemove"?(Mv=e.screenX-Ou.screenX,Dv=e.screenY-Ou.screenY):Dv=Mv=0,Ou=e),Mv)},movementY:function(e){return"movementY"in e?e.movementY:Dv}}),Jx=nn(id),iU=Pt({},id,{dataTransfer:0}),oU=nn(iU),aU=Pt({},Wl,{relatedTarget:0}),Gv=nn(aU),sU=Pt({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),uU=nn(sU),lU=Pt({},Ks,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fU=nn(lU),cU=Pt({},Ks,{data:0}),Qx=nn(cU),hU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pU[e])?!!t[e]:!1}function d0(){return vU}var _U=Pt({},Wl,{key:function(e){if(e.key){var t=hU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d0,charCode:function(e){return e.type==="keypress"?Kc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mU=nn(_U),gU=Pt({},id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eT=nn(gU),yU=Pt({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d0}),xU=nn(yU),TU=Pt({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),EU=nn(TU),wU=Pt({},id,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bU=nn(wU),SU=[9,13,27,32],p0=Bi&&"CompositionEvent"in window,il=null;Bi&&"documentMode"in document&&(il=document.documentMode);var CU=Bi&&"TextEvent"in window&&!il,YS=Bi&&(!p0||il&&8<il&&11>=il),tT=String.fromCharCode(32),rT=!1;function qS(e,t){switch(e){case"keyup":return SU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fs=!1;function IU(e,t){switch(e){case"compositionend":return KS(t);case"keypress":return t.which!==32?null:(rT=!0,tT);case"textInput":return e=t.data,e===tT&&rT?null:e;default:return null}}function RU(e,t){if(fs)return e==="compositionend"||!p0&&qS(e,t)?(e=WS(),qc=c0=so=null,fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YS&&t.locale!=="ko"?null:t.data;default:return null}}var NU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NU[e.type]:t==="textarea"}function ZS(e,t,r,n){PS(n),t=mh(t,"onChange"),0<t.length&&(r=new h0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ol=null,xl=null;function PU(e){r2(e,0)}function od(e){var t=hs(e);if(wS(t))return e}function AU(e,t){if(e==="change")return t}var JS=!1;if(Bi){var Hv;if(Bi){var Xv="oninput"in document;if(!Xv){var iT=document.createElement("div");iT.setAttribute("oninput","return;"),Xv=typeof iT.oninput=="function"}Hv=Xv}else Hv=!1;JS=Hv&&(!document.documentMode||9<document.documentMode)}function oT(){ol&&(ol.detachEvent("onpropertychange",QS),xl=ol=null)}function QS(e){if(e.propertyName==="value"&&od(xl)){var t=[];if(ZS(t,xl,e,r0(e)),e=PU,ua)e(t);else{ua=!0;try{n0(e,t)}finally{ua=!1,o0()}}}}function OU(e,t,r){e==="focusin"?(oT(),ol=t,xl=r,ol.attachEvent("onpropertychange",QS)):e==="focusout"&&oT()}function LU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return od(xl)}function FU(e,t){if(e==="click")return od(t)}function UU(e,t){if(e==="input"||e==="change")return od(t)}function kU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yn=typeof Object.is=="function"?Object.is:kU,BU=Object.prototype.hasOwnProperty;function Tl(e,t){if(yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!BU.call(t,r[n])||!yn(e[r[n]],t[r[n]]))return!1;return!0}function aT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sT(e,t){var r=aT(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aT(r)}}function e2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?e2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uT(){for(var e=window,t=dh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=dh(e.document)}return t}function hm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var MU=Bi&&"documentMode"in document&&11>=document.documentMode,cs=null,dm=null,al=null,pm=!1;function lT(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;pm||cs==null||cs!==dh(n)||(n=cs,"selectionStart"in n&&hm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),al&&Tl(al,n)||(al=n,n=mh(dm,"onSelect"),0<n.length&&(t=new h0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=cs)))}u0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);u0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);u0(VF,2);for(var fT="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),$v=0;$v<fT.length;$v++)s0.set(fT[$v],0);ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ku));function cT(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,HF(n,t,void 0,e),e.currentTarget=null}function r2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var u=n[a],f=u.instance,c=u.currentTarget;if(u=u.listener,f!==o&&i.isPropagationStopped())break e;cT(i,u,c),o=f}else for(a=0;a<n.length;a++){if(u=n[a],f=u.instance,c=u.currentTarget,u=u.listener,f!==o&&i.isPropagationStopped())break e;cT(i,u,c),o=f}}}if(vh)throw e=lm,vh=!1,lm=null,e}function bt(e,t){var r=s2(t),n=e+"__bubble";r.has(n)||(i2(t,e,2,!1),r.add(n))}var hT="_reactListening"+Math.random().toString(36).slice(2);function n2(e){e[hT]||(e[hT]=!0,xS.forEach(function(t){t2.has(t)||dT(t,!1,e,null),dT(t,!0,e,null)}))}function dT(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&t2.has(e)){if(e!=="scroll")return;i|=2,o=n}var a=s2(o),u=e+"__"+(t?"capture":"bubble");a.has(u)||(t&&(i|=4),i2(o,e,i,t),a.add(u))}function i2(e,t,r,n){var i=s0.get(t);switch(i===void 0?2:i){case 0:i=tU;break;case 1:i=rU;break;default:i=l0}r=i.bind(null,t,r,e),i=void 0,!um||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function o2(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var f=a.tag;if((f===3||f===4)&&(f=a.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;a=a.return}for(;u!==null;){if(a=la(u),a===null)return;if(f=a.tag,f===5||f===6){n=o=a;continue e}u=u.parentNode}}n=n.return}BF(function(){var c=o,d=r0(r),p=[];e:{var v=zS.get(e);if(v!==void 0){var _=h0,y=e;switch(e){case"keypress":if(Kc(r)===0)break e;case"keydown":case"keyup":_=mU;break;case"focusin":y="focus",_=Gv;break;case"focusout":y="blur",_=Gv;break;case"beforeblur":case"afterblur":_=Gv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Jx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=oU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=xU;break;case HS:case XS:case $S:_=uU;break;case jS:_=EU;break;case"scroll":_=nU;break;case"wheel":_=bU;break;case"copy":case"cut":case"paste":_=fU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=eT}var T=(t&4)!==0,g=!T&&e==="scroll",x=T?v!==null?v+"Capture":null:v;T=[];for(var w=c,I;w!==null;){I=w;var A=I.stateNode;if(I.tag===5&&A!==null&&(I=A,x!==null&&(A=_l(w,x),A!=null&&T.push(El(w,A,I)))),g)break;w=w.return}0<T.length&&(v=new _(v,y,null,r,d),p.push({event:v,listeners:T}))}}if((t&7)===0){e:{if(v=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",v&&(t&16)===0&&(y=r.relatedTarget||r.fromElement)&&(la(y)||y[Zs]))break e;if((_||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,_?(y=r.relatedTarget||r.toElement,_=c,y=y?la(y):null,y!==null&&(g=Sa(y),y!==g||y.tag!==5&&y.tag!==6)&&(y=null)):(_=null,y=c),_!==y)){if(T=Jx,A="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(T=eT,A="onPointerLeave",x="onPointerEnter",w="pointer"),g=_==null?v:hs(_),I=y==null?v:hs(y),v=new T(A,w+"leave",_,r,d),v.target=g,v.relatedTarget=I,A=null,la(d)===c&&(T=new T(x,w+"enter",y,r,d),T.target=I,T.relatedTarget=g,A=T),g=A,_&&y)t:{for(T=_,x=y,w=0,I=T;I;I=Za(I))w++;for(I=0,A=x;A;A=Za(A))I++;for(;0<w-I;)T=Za(T),w--;for(;0<I-w;)x=Za(x),I--;for(;w--;){if(T===x||x!==null&&T===x.alternate)break t;T=Za(T),x=Za(x)}T=null}else T=null;_!==null&&pT(p,v,_,T,!1),y!==null&&g!==null&&pT(p,g,y,T,!0)}}e:{if(v=c?hs(c):window,_=v.nodeName&&v.nodeName.toLowerCase(),_==="select"||_==="input"&&v.type==="file")var N=AU;else if(nT(v))if(JS)N=UU;else{N=LU;var R=OU}else(_=v.nodeName)&&_.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(N=FU);if(N&&(N=N(e,c))){ZS(p,N,r,d);break e}R&&R(e,v,c),e==="focusout"&&(R=v._wrapperState)&&R.controlled&&v.type==="number"&&em(v,"number",v.value)}switch(R=c?hs(c):window,e){case"focusin":(nT(R)||R.contentEditable==="true")&&(cs=R,dm=c,al=null);break;case"focusout":al=dm=cs=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,lT(p,r,d);break;case"selectionchange":if(MU)break;case"keydown":case"keyup":lT(p,r,d)}var B;if(p0)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else fs?qS(e,r)&&($="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(YS&&r.locale!=="ko"&&(fs||$!=="onCompositionStart"?$==="onCompositionEnd"&&fs&&(B=WS()):(so=d,c0="value"in so?so.value:so.textContent,fs=!0)),R=mh(c,$),0<R.length&&($=new Qx($,e,null,r,d),p.push({event:$,listeners:R}),B?$.data=B:(B=KS(r),B!==null&&($.data=B)))),(B=CU?IU(e,r):RU(e,r))&&(c=mh(c,"onBeforeInput"),0<c.length&&(d=new Qx("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=B))}r2(p,t)})}function El(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_l(e,r),o!=null&&n.unshift(El(e,o,i)),o=_l(e,t),o!=null&&n.push(El(e,o,i))),e=e.return}return n}function Za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pT(e,t,r,n,i){for(var o=t._reactName,a=[];r!==null&&r!==n;){var u=r,f=u.alternate,c=u.stateNode;if(f!==null&&f===n)break;u.tag===5&&c!==null&&(u=c,i?(f=_l(r,o),f!=null&&a.unshift(El(r,f,u))):i||(f=_l(r,o),f!=null&&a.push(El(r,f,u)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}function gh(){}var jv=null,zv=null;function a2(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vm(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vT=typeof setTimeout=="function"?setTimeout:void 0,DU=typeof clearTimeout=="function"?clearTimeout:void 0;function v0(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function bs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function _T(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vv=0;function GU(e){return{$$typeof:e0,toString:e,valueOf:e}}var ad=Math.random().toString(36).slice(2),uo="__reactFiber$"+ad,yh="__reactProps$"+ad,Zs="__reactContainer$"+ad,mT="__reactEvents$"+ad;function la(e){var t=e[uo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zs]||r[uo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_T(e);e!==null;){if(r=e[uo])return r;e=_T(e)}return t}e=r,r=e.parentNode}return null}function Yl(e){return e=e[uo]||e[Zs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function sd(e){return e[yh]||null}function s2(e){var t=e[mT];return t===void 0&&(t=e[mT]=new Set),t}var _m=[],ds=-1;function Ao(e){return{current:e}}function St(e){0>ds||(e.current=_m[ds],_m[ds]=null,ds--)}function Gt(e,t){ds++,_m[ds]=e.current,e.current=t}var bo={},br=Ao(bo),Hr=Ao(!1),va=bo;function Bs(e,t){var r=e.type.contextTypes;if(!r)return bo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xr(e){return e=e.childContextTypes,e!=null}function xh(){St(Hr),St(br)}function gT(e,t,r){if(br.current!==bo)throw Error(ne(168));Gt(br,t),Gt(Hr,r)}function u2(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ne(108,xs(t)||"Unknown",i));return Pt({},r,n)}function Zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bo,va=br.current,Gt(br,e),Gt(Hr,Hr.current),!0}function yT(e,t,r){var n=e.stateNode;if(!n)throw Error(ne(169));r?(e=u2(e,t,va),n.__reactInternalMemoizedMergedChildContext=e,St(Hr),St(br),Gt(br,e)):St(Hr),Gt(Hr,r)}var _0=null,ha=null,HU=or.unstable_runWithPriority,m0=or.unstable_scheduleCallback,mm=or.unstable_cancelCallback,XU=or.unstable_shouldYield,xT=or.unstable_requestPaint,gm=or.unstable_now,$U=or.unstable_getCurrentPriorityLevel,ud=or.unstable_ImmediatePriority,l2=or.unstable_UserBlockingPriority,f2=or.unstable_NormalPriority,c2=or.unstable_LowPriority,h2=or.unstable_IdlePriority,Wv={},jU=xT!==void 0?xT:function(){},Ii=null,Jc=null,Yv=!1,TT=gm(),Er=1e4>TT?gm:function(){return gm()-TT};function Ms(){switch($U()){case ud:return 99;case l2:return 98;case f2:return 97;case c2:return 96;case h2:return 95;default:throw Error(ne(332))}}function d2(e){switch(e){case 99:return ud;case 98:return l2;case 97:return f2;case 96:return c2;case 95:return h2;default:throw Error(ne(332))}}function _a(e,t){return e=d2(e),HU(e,t)}function wl(e,t,r){return e=d2(e),m0(e,t,r)}function li(){if(Jc!==null){var e=Jc;Jc=null,mm(e)}p2()}function p2(){if(!Yv&&Ii!==null){Yv=!0;var e=0;try{var t=Ii;_a(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),Ii=null}catch(r){throw Ii!==null&&(Ii=Ii.slice(e+1)),m0(ud,li),r}finally{Yv=!1}}}var zU=ba.ReactCurrentBatchConfig;function Mn(e,t){if(e&&e.defaultProps){t=Pt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Th=Ao(null),Eh=null,ps=null,wh=null;function g0(){wh=ps=Eh=null}function y0(e){var t=Th.current;St(Th),e.type._context._currentValue=t}function v2(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function Ss(e,t){Eh=e,wh=ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Gn=!0),e.firstContext=null)}function En(e,t){if(wh!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(wh=e,t=1073741823),t={context:e,observedBits:t,next:null},ps===null){if(Eh===null)throw Error(ne(308));ps=t,Eh.dependencies={lanes:0,firstContext:t,responders:null}}else ps=ps.next=t;return e._currentValue}var no=!1;function x0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function _2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _o(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mo(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function ET(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bl(e,t,r,n){var i=e.updateQueue;no=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var f=u,c=f.next;f.next=null,a===null?o=c:a.next=c,a=f;var d=e.alternate;if(d!==null){d=d.updateQueue;var p=d.lastBaseUpdate;p!==a&&(p===null?d.firstBaseUpdate=c:p.next=c,d.lastBaseUpdate=f)}}if(o!==null){p=i.baseState,a=0,d=c=f=null;do{u=o.lane;var v=o.eventTime;if((n&u)===u){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,y=o;switch(u=t,v=r,y.tag){case 1:if(_=y.payload,typeof _=="function"){p=_.call(v,p,u);break e}p=_;break e;case 3:_.flags=_.flags&-4097|64;case 0:if(_=y.payload,u=typeof _=="function"?_.call(v,p,u):_,u==null)break e;p=Pt({},p,u);break e;case 2:no=!0}}o.callback!==null&&(e.flags|=32,u=i.effects,u===null?i.effects=[o]:u.push(o))}else v={eventTime:v,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=v,f=p):d=d.next=v,a|=u;if(o=o.next,o===null){if(u=i.shared.pending,u===null)break;o=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(1);d===null&&(f=p),i.baseState=f,i.firstBaseUpdate=c,i.lastBaseUpdate=d,Kl|=a,e.lanes=a,e.memoizedState=p}}function wT(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ne(191,i));i.call(n)}}}var m2=new Qh.Component().refs;function bh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Pt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ld={isMounted:function(e){return(e=e._reactInternals)?Sa(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Qr(),i=go(e),o=_o(n,i);o.payload=t,r!=null&&(o.callback=r),mo(e,o),yo(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Qr(),i=go(e),o=_o(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),mo(e,o),yo(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qr(),n=go(e),i=_o(r,n);i.tag=2,t!=null&&(i.callback=t),mo(e,i),yo(e,n,r)}};function bT(e,t,r,n,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Tl(r,n)||!Tl(i,o):!0}function g2(e,t,r){var n=!1,i=bo,o=t.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=Xr(t)?va:br.current,n=t.contextTypes,o=(n=n!=null)?Bs(e,i):bo),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ld,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ST(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ld.enqueueReplaceState(t,t.state,null)}function ym(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=m2,x0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=Xr(t)?va:br.current,i.context=Bs(e,o)),bl(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bh(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ld.enqueueReplaceState(i,i.state,null),bl(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var hc=Array.isArray;function Lu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ne(309));var n=r.stateNode}if(!n)throw Error(ne(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=n.refs;a===m2&&(a=n.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ne(284));if(!r._owner)throw Error(ne(290,e))}return e}function dc(e,t){if(e.type!=="textarea")throw Error(ne(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function y2(e){function t(g,x){if(e){var w=g.lastEffect;w!==null?(w.nextEffect=x,g.lastEffect=x):g.firstEffect=g.lastEffect=x,x.nextEffect=null,x.flags=8}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Co(g,x),g.index=0,g.sibling=null,g}function o(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags=2,x):w):(g.flags=2,x)):x}function a(g){return e&&g.alternate===null&&(g.flags=2),g}function u(g,x,w,I){return x===null||x.tag!==6?(x=Qv(w,g.mode,I),x.return=g,x):(x=i(x,w),x.return=g,x)}function f(g,x,w,I){return x!==null&&x.elementType===w.type?(I=i(x,w.props),I.ref=Lu(g,x,w),I.return=g,I):(I=rh(w.type,w.key,w.props,null,g.mode,I),I.ref=Lu(g,x,w),I.return=g,I)}function c(g,x,w,I){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=e_(w,g.mode,I),x.return=g,x):(x=i(x,w.children||[]),x.return=g,x)}function d(g,x,w,I,A){return x===null||x.tag!==7?(x=Ns(w,g.mode,I,A),x.return=g,x):(x=i(x,w),x.return=g,x)}function p(g,x,w){if(typeof x=="string"||typeof x=="number")return x=Qv(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yu:return w=rh(x.type,x.key,x.props,null,g.mode,w),w.ref=Lu(g,null,x),w.return=g,w;case sa:return x=e_(x,g.mode,w),x.return=g,x}if(hc(x)||Iu(x))return x=Ns(x,g.mode,w,null),x.return=g,x;dc(g,x)}return null}function v(g,x,w,I){var A=x!==null?x.key:null;if(typeof w=="string"||typeof w=="number")return A!==null?null:u(g,x,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yu:return w.key===A?w.type===oo?d(g,x,w.props.children,I,A):f(g,x,w,I):null;case sa:return w.key===A?c(g,x,w,I):null}if(hc(w)||Iu(w))return A!==null?null:d(g,x,w,I,null);dc(g,w)}return null}function _(g,x,w,I,A){if(typeof I=="string"||typeof I=="number")return g=g.get(w)||null,u(x,g,""+I,A);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Yu:return g=g.get(I.key===null?w:I.key)||null,I.type===oo?d(x,g,I.props.children,A,I.key):f(x,g,I,A);case sa:return g=g.get(I.key===null?w:I.key)||null,c(x,g,I,A)}if(hc(I)||Iu(I))return g=g.get(w)||null,d(x,g,I,A,null);dc(x,I)}return null}function y(g,x,w,I){for(var A=null,N=null,R=x,B=x=0,$=null;R!==null&&B<w.length;B++){R.index>B?($=R,R=null):$=R.sibling;var M=v(g,R,w[B],I);if(M===null){R===null&&(R=$);break}e&&R&&M.alternate===null&&t(g,R),x=o(M,x,B),N===null?A=M:N.sibling=M,N=M,R=$}if(B===w.length)return r(g,R),A;if(R===null){for(;B<w.length;B++)R=p(g,w[B],I),R!==null&&(x=o(R,x,B),N===null?A=R:N.sibling=R,N=R);return A}for(R=n(g,R);B<w.length;B++)$=_(R,g,B,w[B],I),$!==null&&(e&&$.alternate!==null&&R.delete($.key===null?B:$.key),x=o($,x,B),N===null?A=$:N.sibling=$,N=$);return e&&R.forEach(function(W){return t(g,W)}),A}function T(g,x,w,I){var A=Iu(w);if(typeof A!="function")throw Error(ne(150));if(w=A.call(w),w==null)throw Error(ne(151));for(var N=A=null,R=x,B=x=0,$=null,M=w.next();R!==null&&!M.done;B++,M=w.next()){R.index>B?($=R,R=null):$=R.sibling;var W=v(g,R,M.value,I);if(W===null){R===null&&(R=$);break}e&&R&&W.alternate===null&&t(g,R),x=o(W,x,B),N===null?A=W:N.sibling=W,N=W,R=$}if(M.done)return r(g,R),A;if(R===null){for(;!M.done;B++,M=w.next())M=p(g,M.value,I),M!==null&&(x=o(M,x,B),N===null?A=M:N.sibling=M,N=M);return A}for(R=n(g,R);!M.done;B++,M=w.next())M=_(R,g,B,M.value,I),M!==null&&(e&&M.alternate!==null&&R.delete(M.key===null?B:M.key),x=o(M,x,B),N===null?A=M:N.sibling=M,N=M);return e&&R.forEach(function(he){return t(g,he)}),A}return function(g,x,w,I){var A=typeof w=="object"&&w!==null&&w.type===oo&&w.key===null;A&&(w=w.props.children);var N=typeof w=="object"&&w!==null;if(N)switch(w.$$typeof){case Yu:e:{for(N=w.key,A=x;A!==null;){if(A.key===N){switch(A.tag){case 7:if(w.type===oo){r(g,A.sibling),x=i(A,w.props.children),x.return=g,g=x;break e}break;default:if(A.elementType===w.type){r(g,A.sibling),x=i(A,w.props),x.ref=Lu(g,A,w),x.return=g,g=x;break e}}r(g,A);break}else t(g,A);A=A.sibling}w.type===oo?(x=Ns(w.props.children,g.mode,I,w.key),x.return=g,g=x):(I=rh(w.type,w.key,w.props,null,g.mode,I),I.ref=Lu(g,x,w),I.return=g,g=I)}return a(g);case sa:e:{for(A=w.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(g,x.sibling),x=i(x,w.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=e_(w,g.mode,I),x.return=g,g=x}return a(g)}if(typeof w=="string"||typeof w=="number")return w=""+w,x!==null&&x.tag===6?(r(g,x.sibling),x=i(x,w),x.return=g,g=x):(r(g,x),x=Qv(w,g.mode,I),x.return=g,g=x),a(g);if(hc(w))return y(g,x,w,I);if(Iu(w))return T(g,x,w,I);if(N&&dc(g,w),typeof w=="undefined"&&!A)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(ne(152,xs(g.type)||"Component"))}return r(g,x)}}var Sh=y2(!0),x2=y2(!1),ql={},ii=Ao(ql),Sl=Ao(ql),Cl=Ao(ql);function fa(e){if(e===ql)throw Error(ne(174));return e}function xm(e,t){switch(Gt(Cl,t),Gt(Sl,e),Gt(ii,ql),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:im(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=im(t,e)}St(ii),Gt(ii,t)}function Ds(){St(ii),St(Sl),St(Cl)}function CT(e){fa(Cl.current);var t=fa(ii.current),r=im(t,e.type);t!==r&&(Gt(Sl,e),Gt(ii,r))}function T0(e){Sl.current===e&&(St(ii),St(Sl))}var Mt=Ao(0);function Ch(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oi=null,lo=null,oi=!1;function T2(e,t){var r=xn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function IT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Tm(e){if(oi){var t=lo;if(t){var r=t;if(!IT(e,t)){if(t=bs(r.nextSibling),!t||!IT(e,t)){e.flags=e.flags&-1025|2,oi=!1,Oi=e;return}T2(Oi,r)}Oi=e,lo=bs(t.firstChild)}else e.flags=e.flags&-1025|2,oi=!1,Oi=e}}function RT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Oi=e}function pc(e){if(e!==Oi)return!1;if(!oi)return RT(e),oi=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!vm(t,e.memoizedProps))for(t=lo;t;)T2(e,t),t=bs(t.nextSibling);if(RT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){lo=bs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}lo=null}}else lo=Oi?bs(e.stateNode.nextSibling):null;return!0}function qv(){lo=Oi=null,oi=!1}var Cs=[];function E0(){for(var e=0;e<Cs.length;e++)Cs[e]._workInProgressVersionPrimary=null;Cs.length=0}var sl=ba.ReactCurrentDispatcher,Tn=ba.ReactCurrentBatchConfig,Il=0,Wt=null,xr=null,cr=null,Ih=!1,ul=!1;function Mr(){throw Error(ne(321))}function w0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yn(e[r],t[r]))return!1;return!0}function b0(e,t,r,n,i,o){if(Il=o,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sl.current=e===null||e.memoizedState===null?WU:YU,e=r(n,i),ul){o=0;do{if(ul=!1,!(25>o))throw Error(ne(301));o+=1,cr=xr=null,t.updateQueue=null,sl.current=qU,e=r(n,i)}while(ul)}if(sl.current=Ah,t=xr!==null&&xr.next!==null,Il=0,cr=xr=Wt=null,Ih=!1,t)throw Error(ne(300));return e}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?Wt.memoizedState=cr=e:cr=cr.next=e,cr}function Ca(){if(xr===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=xr.next;var t=cr===null?Wt.memoizedState:cr.next;if(t!==null)cr=t,xr=e;else{if(e===null)throw Error(ne(310));xr=e,e={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},cr===null?Wt.memoizedState=cr=e:cr=cr.next=e}return cr}function ei(e,t){return typeof t=="function"?t(e):t}function Fu(e){var t=Ca(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=xr,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var u=a=o=null,f=i;do{var c=f.lane;if((Il&c)===c)u!==null&&(u=u.next={lane:0,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null}),n=f.eagerReducer===e?f.eagerState:e(n,f.action);else{var d={lane:c,action:f.action,eagerReducer:f.eagerReducer,eagerState:f.eagerState,next:null};u===null?(a=u=d,o=n):u=u.next=d,Wt.lanes|=c,Kl|=c}f=f.next}while(f!==null&&f!==i);u===null?o=n:u.next=a,yn(n,t.memoizedState)||(Gn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Uu(e){var t=Ca(),r=t.queue;if(r===null)throw Error(ne(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);yn(o,t.memoizedState)||(Gn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function NT(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(Il&e)===e)&&(t._workInProgressVersionPrimary=n,Cs.push(t))),e)return r(t._source);throw Cs.push(t),Error(ne(350))}function E2(e,t,r,n){var i=Pr;if(i===null)throw Error(ne(349));var o=t._getVersion,a=o(t._source),u=sl.current,f=u.useState(function(){return NT(i,t,r)}),c=f[1],d=f[0];f=cr;var p=e.memoizedState,v=p.refs,_=v.getSnapshot,y=p.source;p=p.subscribe;var T=Wt;return e.memoizedState={refs:v,source:t,subscribe:n},u.useEffect(function(){v.getSnapshot=r,v.setSnapshot=c;var g=o(t._source);if(!yn(a,g)){g=r(t._source),yn(d,g)||(c(g),g=go(T),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var x=i.entanglements,w=g;0<w;){var I=31-wo(w),A=1<<I;x[I]|=g,w&=~A}}},[r,t,n]),u.useEffect(function(){return n(t._source,function(){var g=v.getSnapshot,x=v.setSnapshot;try{x(g(t._source));var w=go(T);i.mutableReadLanes|=w&i.pendingLanes}catch(I){x(function(){throw I})}})},[t,n]),yn(_,r)&&yn(y,t)&&yn(p,n)||(e={pending:null,dispatch:null,lastRenderedReducer:ei,lastRenderedState:d},e.dispatch=c=I0.bind(null,Wt,e),f.queue=e,f.baseQueue=null,d=NT(i,t,r),f.memoizedState=f.baseState=d),d}function w2(e,t,r){var n=Ca();return E2(n,e,t,r)}function ku(e){var t=ca();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},e=e.dispatch=I0.bind(null,Wt,e),[t.memoizedState,e]}function Rh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null},Wt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function PT(e){var t=ca();return e={current:e},t.memoizedState=e}function Nh(){return Ca().memoizedState}function Em(e,t,r,n){var i=ca();Wt.flags|=e,i.memoizedState=Rh(1|t,r,void 0,n===void 0?null:n)}function S0(e,t,r,n){var i=Ca();n=n===void 0?null:n;var o=void 0;if(xr!==null){var a=xr.memoizedState;if(o=a.destroy,n!==null&&w0(n,a.deps)){Rh(t,r,o,n);return}}Wt.flags|=e,i.memoizedState=Rh(1|t,r,o,n)}function AT(e,t){return Em(516,4,e,t)}function Ph(e,t){return S0(516,4,e,t)}function b2(e,t){return S0(4,2,e,t)}function S2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function C2(e,t,r){return r=r!=null?r.concat([e]):null,S0(4,2,S2.bind(null,t,e),r)}function C0(){}function I2(e,t){var r=Ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&w0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function R2(e,t){var r=Ca();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&w0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function VU(e,t){var r=Ms();_a(98>r?98:r,function(){e(!0)}),_a(97<r?97:r,function(){var n=Tn.transition;Tn.transition=1;try{e(!1),t()}finally{Tn.transition=n}})}function I0(e,t,r){var n=Qr(),i=go(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===Wt||a!==null&&a===Wt)ul=Ih=!0;else{if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,f=a(u,r);if(o.eagerReducer=a,o.eagerState=f,yn(f,u))return}catch{}finally{}yo(e,i,n)}}var Ah={readContext:En,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useLayoutEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useMutableSource:Mr,useOpaqueIdentifier:Mr,unstable_isNewReconciler:!1},WU={readContext:En,useCallback:function(e,t){return ca().memoizedState=[e,t===void 0?null:t],e},useContext:En,useEffect:AT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Em(4,2,S2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Em(4,2,e,t)},useMemo:function(e,t){var r=ca();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ca();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=I0.bind(null,Wt,e),[n.memoizedState,e]},useRef:PT,useState:ku,useDebugValue:C0,useDeferredValue:function(e){var t=ku(e),r=t[0],n=t[1];return AT(function(){var i=Tn.transition;Tn.transition=1;try{n(e)}finally{Tn.transition=i}},[e]),r},useTransition:function(){var e=ku(!1),t=e[0];return e=VU.bind(null,e[1]),PT(e),[e,t]},useMutableSource:function(e,t,r){var n=ca();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},E2(n,e,t,r)},useOpaqueIdentifier:function(){if(oi){var e=!1,t=GU(function(){throw e||(e=!0,r("r:"+(Vv++).toString(36))),Error(ne(355))}),r=ku(t)[1];return(Wt.mode&2)===0&&(Wt.flags|=516,Rh(5,function(){r("r:"+(Vv++).toString(36))},void 0,null)),t}return t="r:"+(Vv++).toString(36),ku(t),t},unstable_isNewReconciler:!1},YU={readContext:En,useCallback:I2,useContext:En,useEffect:Ph,useImperativeHandle:C2,useLayoutEffect:b2,useMemo:R2,useReducer:Fu,useRef:Nh,useState:function(){return Fu(ei)},useDebugValue:C0,useDeferredValue:function(e){var t=Fu(ei),r=t[0],n=t[1];return Ph(function(){var i=Tn.transition;Tn.transition=1;try{n(e)}finally{Tn.transition=i}},[e]),r},useTransition:function(){var e=Fu(ei)[0];return[Nh().current,e]},useMutableSource:w2,useOpaqueIdentifier:function(){return Fu(ei)[0]},unstable_isNewReconciler:!1},qU={readContext:En,useCallback:I2,useContext:En,useEffect:Ph,useImperativeHandle:C2,useLayoutEffect:b2,useMemo:R2,useReducer:Uu,useRef:Nh,useState:function(){return Uu(ei)},useDebugValue:C0,useDeferredValue:function(e){var t=Uu(ei),r=t[0],n=t[1];return Ph(function(){var i=Tn.transition;Tn.transition=1;try{n(e)}finally{Tn.transition=i}},[e]),r},useTransition:function(){var e=Uu(ei)[0];return[Nh().current,e]},useMutableSource:w2,useOpaqueIdentifier:function(){return Uu(ei)[0]},unstable_isNewReconciler:!1},KU=ba.ReactCurrentOwner,Gn=!1;function Dr(e,t,r,n){t.child=e===null?x2(t,null,r,n):Sh(t,e.child,r,n)}function OT(e,t,r,n,i){r=r.render;var o=t.ref;return Ss(t,i),n=b0(e,t,r,n,o,i),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Li(e,t,i)):(t.flags|=1,Dr(e,t,n,i),t.child)}function LT(e,t,r,n,i,o){if(e===null){var a=r.type;return typeof a=="function"&&!L0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,N2(e,t,a,n,i,o)):(e=rh(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return a=e.child,(i&o)===0&&(i=a.memoizedProps,r=r.compare,r=r!==null?r:Tl,r(i,n)&&e.ref===t.ref)?Li(e,t,o):(t.flags|=1,e=Co(a,n),e.ref=t.ref,e.return=t,t.child=e)}function N2(e,t,r,n,i,o){if(e!==null&&Tl(e.memoizedProps,n)&&e.ref===t.ref)if(Gn=!1,(o&i)!==0)(e.flags&16384)!==0&&(Gn=!0);else return t.lanes=e.lanes,Li(e,t,o);return wm(e,t,r,n,o)}function Kv(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},_c(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},_c(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_c(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,_c(t,n);return Dr(e,t,i,r),t.child}function P2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function wm(e,t,r,n,i){var o=Xr(r)?va:br.current;return o=Bs(t,o),Ss(t,i),r=b0(e,t,r,n,o,i),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Li(e,t,i)):(t.flags|=1,Dr(e,t,r,i),t.child)}function FT(e,t,r,n,i){if(Xr(r)){var o=!0;Zc(t)}else o=!1;if(Ss(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),g2(t,r,n),ym(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,u=t.memoizedProps;a.props=u;var f=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=En(c):(c=Xr(r)?va:br.current,c=Bs(t,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==n||f!==c)&&ST(t,a,n,c),no=!1;var v=t.memoizedState;a.state=v,bl(t,n,a,i),f=t.memoizedState,u!==n||v!==f||Hr.current||no?(typeof d=="function"&&(bh(t,r,d,n),f=t.memoizedState),(u=no||bT(t,r,u,n,v,f,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=c,n=u):(typeof a.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{a=t.stateNode,_2(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Mn(t.type,u),a.props=c,p=t.pendingProps,v=a.context,f=r.contextType,typeof f=="object"&&f!==null?f=En(f):(f=Xr(r)?va:br.current,f=Bs(t,f));var _=r.getDerivedStateFromProps;(d=typeof _=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==p||v!==f)&&ST(t,a,n,f),no=!1,v=t.memoizedState,a.state=v,bl(t,n,a,i);var y=t.memoizedState;u!==p||v!==y||Hr.current||no?(typeof _=="function"&&(bh(t,r,_,n),y=t.memoizedState),(c=no||bT(t,r,c,n,v,y,f))?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,f),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,f)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=f,n=c):(typeof a.componentDidUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&v===e.memoizedState||(t.flags|=256),n=!1)}return bm(e,t,r,n,o,i)}function bm(e,t,r,n,i,o){P2(e,t);var a=(t.flags&64)!==0;if(!n&&!a)return i&&yT(t,r,!1),Li(e,t,o);n=t.stateNode,KU.current=t;var u=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Sh(t,e.child,null,o),t.child=Sh(t,null,u,o)):Dr(e,t,u,o),t.memoizedState=n.state,i&&yT(t,r,!0),t.child}function UT(e){var t=e.stateNode;t.pendingContext?gT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gT(e,t.context,!1),xm(e,t.containerInfo)}var vc={dehydrated:null,retryLane:0};function kT(e,t,r){var n=t.pendingProps,i=Mt.current,o=!1,a;return(a=(t.flags&64)!==0)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),Gt(Mt,i&1),e===null?(n.fallback!==void 0&&Tm(t),e=n.children,i=n.fallback,o?(e=BT(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=vc,e):typeof n.unstable_expectedLoadTime=="number"?(e=BT(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=vc,t.lanes=33554432,e):(r=F0({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=DT(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=vc,n):(r=MT(e,t,n.children,r),t.memoizedState=null,r):o?(n=DT(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=vc,n):(r=MT(e,t,n.children,r),t.memoizedState=null,r)}function BT(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=F0(t,i,0,null),r=Ns(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function MT(e,t,r,n){var i=e.child;return e=i.sibling,r=Co(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function DT(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var u={mode:"hidden",children:r};return(o&2)===0&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=u,a=r.lastEffect,a!==null?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=Co(a,u),e!==null?n=Co(e,n):(n=Ns(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function GT(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),v2(e.return,t)}function Zv(e,t,r,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function HT(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Dr(e,t,n.children,r),n=Mt.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&GT(e,r);else if(e.tag===19)GT(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(Mt,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ch(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Zv(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ch(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Zv(t,!0,r,null,o,t.lastEffect);break;case"together":Zv(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Li(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,r=Co(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Co(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var A2,Sm,O2,L2;A2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sm=function(){};O2=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,fa(ii.current);var o=null;switch(r){case"input":i=J_(e,i),n=J_(e,n),o=[];break;case"option":i=tm(e,i),n=tm(e,n),o=[];break;case"select":i=Pt({},i,{value:void 0}),n=Pt({},n,{value:void 0}),o=[];break;case"textarea":i=rm(e,i),n=rm(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gh)}om(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pl.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var f=n[c];if(u=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&f!==u&&(f!=null||u!=null))if(c==="style")if(u){for(a in u)!u.hasOwnProperty(a)||f&&f.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in f)f.hasOwnProperty(a)&&u[a]!==f[a]&&(r||(r={}),r[a]=f[a])}else r||(o||(o=[]),o.push(c,r)),r=f;else c==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(o=o||[]).push(c,f)):c==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(c,""+f):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pl.hasOwnProperty(c)?(f!=null&&c==="onScroll"&&bt("scroll",e),o||u===f||(o=[])):typeof f=="object"&&f!==null&&f.$$typeof===e0?f.toString():(o=o||[]).push(c,f))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};L2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Bu(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ZU(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Xr(t.type)&&xh(),null;case 3:return Ds(),St(Hr),St(br),E0(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pc(t)?t.flags|=4:n.hydrate||(t.flags|=256)),Sm(t),null;case 5:T0(t);var i=fa(Cl.current);if(r=t.type,e!==null&&t.stateNode!=null)O2(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(ne(166));return null}if(e=fa(ii.current),pc(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[uo]=t,n[yh]=o,r){case"dialog":bt("cancel",n),bt("close",n);break;case"iframe":case"object":case"embed":bt("load",n);break;case"video":case"audio":for(e=0;e<Ku.length;e++)bt(Ku[e],n);break;case"source":bt("error",n);break;case"img":case"image":case"link":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"input":Hx(n,o),bt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},bt("invalid",n);break;case"textarea":$x(n,o),bt("invalid",n)}om(r,o),e=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):pl.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&bt("scroll",n));switch(r){case"input":uc(n),Xx(n,o,!0);break;case"textarea":uc(n),jx(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=gh)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,e===nm.html&&(e=CS(r)),e===nm.html?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[uo]=t,e[yh]=n,A2(e,t,!1,!1),t.stateNode=e,a=am(r,n),r){case"dialog":bt("cancel",e),bt("close",e),i=n;break;case"iframe":case"object":case"embed":bt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ku.length;i++)bt(Ku[i],e);i=n;break;case"source":bt("error",e),i=n;break;case"img":case"image":case"link":bt("error",e),bt("load",e),i=n;break;case"details":bt("toggle",e),i=n;break;case"input":Hx(e,n),i=J_(e,n),bt("invalid",e);break;case"option":i=tm(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Pt({},n,{value:void 0}),bt("invalid",e);break;case"textarea":$x(e,n),i=rm(e,n),bt("invalid",e);break;default:i=n}om(r,i);var u=i;for(o in u)if(u.hasOwnProperty(o)){var f=u[o];o==="style"?NS(e,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&IS(e,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&vl(e,f):typeof f=="number"&&vl(e,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pl.hasOwnProperty(o)?f!=null&&o==="onScroll"&&bt("scroll",e):f!=null&&Yg(e,o,f,a))}switch(r){case"input":uc(e),Xx(e,n,!1);break;case"textarea":uc(e),jx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Eo(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ts(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ts(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=gh)}a2(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)L2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ne(166));r=fa(Cl.current),fa(ii.current),pc(t)?(n=t.stateNode,r=t.memoizedProps,n[uo]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[uo]=t,t.stateNode=n)}return null;case 13:return St(Mt),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&pc(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Mt.current&1)!==0?hr===0&&(hr=3):((hr===0||hr===3)&&(hr=4),Pr===null||(Kl&134217727)===0&&(Qs&134217727)===0||Is(Pr,wr))),(n||r)&&(t.flags|=4),null);case 4:return Ds(),Sm(t),e===null&&n2(t.stateNode.containerInfo),null;case 10:return y0(t),null;case 17:return Xr(t.type)&&xh(),null;case 19:if(St(Mt),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,a=n.rendering,a===null)if(o)Bu(n,!1);else{if(hr!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(a=Ch(e),a!==null){for(t.flags|=64,Bu(n,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(Mt,Mt.current&1|2),t.child}e=e.sibling}n.tail!==null&&Er()>Am&&(t.flags|=64,o=!0,Bu(n,!1),t.lanes=33554432)}else{if(!o)if(e=Ch(a),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bu(n,!0),n.tail===null&&n.tailMode==="hidden"&&!a.alternate&&!oi)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Er()-n.renderingStartTime>Am&&r!==1073741824&&(t.flags|=64,o=!0,Bu(n,!1),t.lanes=33554432);n.isBackwards?(a.sibling=t.child,t.child=a):(r=n.last,r!==null?r.sibling=a:t.child=a,n.last=a)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Er(),r.sibling=null,t=Mt.current,Gt(Mt,o?t&1|2:t&1),r):null;case 23:case 24:return O0(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(ne(156,t.tag))}function JU(e){switch(e.tag){case 1:Xr(e.type)&&xh();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Ds(),St(Hr),St(br),E0(),t=e.flags,(t&64)!==0)throw Error(ne(285));return e.flags=t&-4097|64,e;case 5:return T0(e),null;case 13:return St(Mt),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return St(Mt),null;case 4:return Ds(),null;case 10:return y0(e),null;case 23:case 24:return O0(),null;default:return null}}function R0(e,t){try{var r="",n=t;do r+=OF(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function Cm(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var QU=typeof WeakMap=="function"?WeakMap:Map;function F2(e,t,r){r=_o(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Lh||(Lh=!0,Om=n),Cm(e,t)},r}function U2(e,t,r){r=_o(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return Cm(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(ti===null?ti=new Set([this]):ti.add(this),Cm(e,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}var e4=typeof WeakSet=="function"?WeakSet:Set;function XT(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){xo(e,r)}else t.current=null}function t4(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:Mn(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&v0(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(ne(163))}function r4(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(j2(r,e),f4(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Mn(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&wT(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}wT(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&a2(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&DS(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(ne(163))}function $T(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=RS("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function jT(e,t){if(ha&&typeof ha.onCommitFiberUnmount=="function")try{ha.onCommitFiberUnmount(_0,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)j2(t,r);else{n=t;try{i()}catch(o){xo(n,o)}}r=r.next}while(r!==e)}break;case 1:if(XT(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){xo(t,o)}break;case 5:XT(t);break;case 4:k2(e,t)}}function zT(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function VT(e){return e.tag===5||e.tag===3||e.tag===4}function WT(e){e:{for(var t=e.return;t!==null;){if(VT(t))break e;t=t.return}throw Error(ne(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(ne(161))}r.flags&16&&(vl(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||VT(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Im(e,r,t):Rm(e,r,t)}function Im(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gh));else if(n!==4&&(e=e.child,e!==null))for(Im(e,t,r),e=e.sibling;e!==null;)Im(e,t,r),e=e.sibling}function Rm(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rm(e,t,r),e=e.sibling;e!==null;)Rm(e,t,r),e=e.sibling}function k2(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(ne(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var a=e,u=r,f=u;;)if(jT(a,f),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}o?(a=i,u=r.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(jT(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Jv(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[yh]=n,e==="input"&&n.type==="radio"&&n.name!=null&&bS(r,n),am(e,i),t=am(e,n),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];a==="style"?NS(r,u):a==="dangerouslySetInnerHTML"?IS(r,u):a==="children"?vl(r,u):Yg(r,a,u,t)}switch(e){case"input":Q_(r,n);break;case"textarea":SS(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Ts(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Ts(r,!!n.multiple,n.defaultValue,!0):Ts(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(ne(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,DS(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(A0=Er(),$T(t.child,!0)),YT(t);return;case 19:YT(t);return;case 17:return;case 23:case 24:$T(t,t.memoizedState!==null);return}throw Error(ne(163))}function YT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new e4),t.forEach(function(n){var i=d4.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function n4(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var i4=Math.ceil,Oh=ba.ReactCurrentDispatcher,N0=ba.ReactCurrentOwner,Fe=0,Pr=null,er=null,wr=0,ma=0,Nm=Ao(0),hr=0,fd=null,Js=0,Kl=0,Qs=0,P0=0,Pm=null,A0=0,Am=1/0;function eu(){Am=Er()+500}var ve=null,Lh=!1,Om=null,ti=null,So=!1,ll=null,Zu=90,Lm=[],Fm=[],Ui=null,fl=0,Um=null,Qc=-1,Ni=0,eh=0,cl=null,th=!1;function Qr(){return(Fe&48)!==0?Er():Qc!==-1?Qc:Qc=Er()}function go(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return Ms()===99?1:2;if(Ni===0&&(Ni=Js),zU.transition!==0){eh!==0&&(eh=Pm!==null?Pm.pendingLanes:0),e=Ni;var t=4186112&~eh;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Ms(),(Fe&4)!==0&&e===98?e=_h(12,Ni):(e=YF(e),e=_h(e,Ni)),e}function yo(e,t,r){if(50<fl)throw fl=0,Um=null,Error(ne(185));if(e=cd(e,t),e===null)return null;nd(e,t,r),e===Pr&&(Qs|=t,hr===4&&Is(e,wr));var n=Ms();t===1?(Fe&8)!==0&&(Fe&48)===0?km(e):(wn(e,r),Fe===0&&(eu(),li())):((Fe&4)===0||n!==98&&n!==99||(Ui===null?Ui=new Set([e]):Ui.add(e)),wn(e,r)),Pm=e}function cd(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function wn(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-wo(a),f=1<<u,c=o[u];if(c===-1){if((f&n)===0||(f&i)!==0){c=t,as(f);var d=xt;o[u]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=f);a&=~f}if(n=yl(e,e===Pr?wr:0),t=xt,n===0)r!==null&&(r!==Wv&&mm(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==Wv&&mm(r)}t===15?(r=km.bind(null,e),Ii===null?(Ii=[r],Jc=m0(ud,p2)):Ii.push(r),r=Wv):t===14?r=wl(99,km.bind(null,e)):(r=qF(t),r=wl(r,B2.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function B2(e){if(Qc=-1,eh=Ni=0,(Fe&48)!==0)throw Error(ne(327));var t=e.callbackNode;if(Oo()&&e.callbackNode!==t)return null;var r=yl(e,e===Pr?wr:0);if(r===0)return null;var n=r,i=Fe;Fe|=16;var o=H2();(Pr!==e||wr!==n)&&(eu(),Rs(e,n));do try{s4();break}catch(u){G2(e,u)}while(1);if(g0(),Oh.current=o,Fe=i,er!==null?n=0:(Pr=null,wr=0,n=hr),(Js&Qs)!==0)Rs(e,0);else if(n!==0){if(n===2&&(Fe|=64,e.hydrate&&(e.hydrate=!1,v0(e.containerInfo)),r=VS(e),r!==0&&(n=Ju(e,r))),n===1)throw t=fd,Rs(e,0),Is(e,r),wn(e,Er()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(ne(345));case 2:ta(e);break;case 3:if(Is(e,r),(r&62914560)===r&&(n=A0+500-Er(),10<n)){if(yl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Qr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vT(ta.bind(null,e),n);break}ta(e);break;case 4:if(Is(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var a=31-wo(r);o=1<<a,a=n[a],a>i&&(i=a),r&=~o}if(r=i,r=Er()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*i4(r/1960))-r,10<r){e.timeoutHandle=vT(ta.bind(null,e),r);break}ta(e);break;case 5:ta(e);break;default:throw Error(ne(329))}}return wn(e,Er()),e.callbackNode===t?B2.bind(null,e):null}function Is(e,t){for(t&=~P0,t&=~Qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wo(t),n=1<<r;e[r]=-1,t&=~n}}function km(e){if((Fe&48)!==0)throw Error(ne(327));if(Oo(),e===Pr&&(e.expiredLanes&wr)!==0){var t=wr,r=Ju(e,t);(Js&Qs)!==0&&(t=yl(e,t),r=Ju(e,t))}else t=yl(e,0),r=Ju(e,t);if(e.tag!==0&&r===2&&(Fe|=64,e.hydrate&&(e.hydrate=!1,v0(e.containerInfo)),t=VS(e),t!==0&&(r=Ju(e,t))),r===1)throw r=fd,Rs(e,0),Is(e,t),wn(e,Er()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,ta(e),wn(e,Er()),null}function o4(){if(Ui!==null){var e=Ui;Ui=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,wn(t,Er())})}li()}function M2(e,t){var r=Fe;Fe|=1;try{return e(t)}finally{Fe=r,Fe===0&&(eu(),li())}}function D2(e,t){var r=Fe;Fe&=-2,Fe|=8;try{return e(t)}finally{Fe=r,Fe===0&&(eu(),li())}}function _c(e,t){Gt(Nm,ma),ma|=t,Js|=t}function O0(){ma=Nm.current,St(Nm)}function Rs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,DU(r)),er!==null)for(r=er.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&xh();break;case 3:Ds(),St(Hr),St(br),E0();break;case 5:T0(n);break;case 4:Ds();break;case 13:St(Mt);break;case 19:St(Mt);break;case 10:y0(n);break;case 23:case 24:O0()}r=r.return}Pr=e,er=Co(e.current,null),wr=ma=Js=t,hr=0,fd=null,P0=Qs=Kl=0}function G2(e,t){do{var r=er;try{if(g0(),sl.current=Ah,Ih){for(var n=Wt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ih=!1}if(Il=0,cr=xr=Wt=null,ul=!1,N0.current=null,r===null||r.return===null){hr=1,fd=t,er=null;break}e:{var o=e,a=r.return,u=r,f=t;if(t=wr,u.flags|=2048,u.firstEffect=u.lastEffect=null,f!==null&&typeof f=="object"&&typeof f.then=="function"){var c=f;if((u.mode&2)===0){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=(Mt.current&1)!==0,v=a;do{var _;if(_=v.tag===13){var y=v.memoizedState;if(y!==null)_=y.dehydrated!==null;else{var T=v.memoizedProps;_=T.fallback===void 0?!1:T.unstable_avoidThisFallback!==!0?!0:!p}}if(_){var g=v.updateQueue;if(g===null){var x=new Set;x.add(c),v.updateQueue=x}else g.add(c);if((v.mode&2)===0){if(v.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var w=_o(-1,1);w.tag=2,mo(u,w)}u.lanes|=1;break e}f=void 0,u=t;var I=o.pingCache;if(I===null?(I=o.pingCache=new QU,f=new Set,I.set(c,f)):(f=I.get(c),f===void 0&&(f=new Set,I.set(c,f))),!f.has(u)){f.add(u);var A=h4.bind(null,o,c,u);c.then(A,A)}v.flags|=4096,v.lanes=t;break e}v=v.return}while(v!==null);f=Error((xs(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}hr!==5&&(hr=2),f=R0(f,u),v=a;do{switch(v.tag){case 3:o=f,v.flags|=4096,t&=-t,v.lanes|=t;var N=F2(v,o,t);ET(v,N);break e;case 1:o=f;var R=v.type,B=v.stateNode;if((v.flags&64)===0&&(typeof R.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ti===null||!ti.has(B)))){v.flags|=4096,t&=-t,v.lanes|=t;var $=U2(v,o,t);ET(v,$);break e}}v=v.return}while(v!==null)}$2(r)}catch(M){t=M,er===r&&r!==null&&(er=r=r.return);continue}break}while(1)}function H2(){var e=Oh.current;return Oh.current=Ah,e===null?Ah:e}function Ju(e,t){var r=Fe;Fe|=16;var n=H2();Pr===e&&wr===t||Rs(e,t);do try{a4();break}catch(i){G2(e,i)}while(1);if(g0(),Fe=r,Oh.current=n,er!==null)throw Error(ne(261));return Pr=null,wr=0,hr}function a4(){for(;er!==null;)X2(er)}function s4(){for(;er!==null&&!XU();)X2(er)}function X2(e){var t=z2(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?$2(e):er=t,N0.current=null}function $2(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=ZU(r,t,ma),r!==null){er=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(ma&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=JU(t),r!==null){r.flags&=2047,er=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){er=t;return}er=t=e}while(t!==null);hr===0&&(hr=5)}function ta(e){var t=Ms();return _a(99,u4.bind(null,e,t)),null}function u4(e,t){do Oo();while(ll!==null);if((Fe&48)!==0)throw Error(ne(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ne(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<o;){var f=31-wo(o),c=1<<f;i[f]=0,a[f]=-1,u[f]=-1,o&=~c}if(Ui!==null&&(n&24)===0&&Ui.has(e)&&Ui.delete(e),e===Pr&&(er=Pr=null,wr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Fe,Fe|=32,N0.current=null,jv=Yc,a=uT(),hm(a)){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&c.rangeCount!==0){u=c.anchorNode,o=c.anchorOffset,f=c.focusNode,c=c.focusOffset;try{u.nodeType,f.nodeType}catch{u=null;break e}var d=0,p=-1,v=-1,_=0,y=0,T=a,g=null;t:for(;;){for(var x;T!==u||o!==0&&T.nodeType!==3||(p=d+o),T!==f||c!==0&&T.nodeType!==3||(v=d+c),T.nodeType===3&&(d+=T.nodeValue.length),(x=T.firstChild)!==null;)g=T,T=x;for(;;){if(T===a)break t;if(g===u&&++_===o&&(p=d),g===f&&++y===c&&(v=d),(x=T.nextSibling)!==null)break;T=g,g=T.parentNode}T=x}u=p===-1||v===-1?null:{start:p,end:v}}else u=null;u=u||{start:0,end:0}}else u=null;zv={focusedElem:a,selectionRange:u},Yc=!1,cl=null,th=!1,ve=n;do try{l4()}catch(M){if(ve===null)throw Error(ne(330));xo(ve,M),ve=ve.nextEffect}while(ve!==null);cl=null,ve=n;do try{for(a=e;ve!==null;){var w=ve.flags;if(w&16&&vl(ve.stateNode,""),w&128){var I=ve.alternate;if(I!==null){var A=I.ref;A!==null&&(typeof A=="function"?A(null):A.current=null)}}switch(w&1038){case 2:WT(ve),ve.flags&=-3;break;case 6:WT(ve),ve.flags&=-3,Jv(ve.alternate,ve);break;case 1024:ve.flags&=-1025;break;case 1028:ve.flags&=-1025,Jv(ve.alternate,ve);break;case 4:Jv(ve.alternate,ve);break;case 8:u=ve,k2(a,u);var N=u.alternate;zT(u),N!==null&&zT(N)}ve=ve.nextEffect}}catch(M){if(ve===null)throw Error(ne(330));xo(ve,M),ve=ve.nextEffect}while(ve!==null);if(A=zv,I=uT(),w=A.focusedElem,a=A.selectionRange,I!==w&&w&&w.ownerDocument&&e2(w.ownerDocument.documentElement,w)){for(a!==null&&hm(w)&&(I=a.start,A=a.end,A===void 0&&(A=I),"selectionStart"in w?(w.selectionStart=I,w.selectionEnd=Math.min(A,w.value.length)):(A=(I=w.ownerDocument||document)&&I.defaultView||window,A.getSelection&&(A=A.getSelection(),u=w.textContent.length,N=Math.min(a.start,u),a=a.end===void 0?N:Math.min(a.end,u),!A.extend&&N>a&&(u=a,a=N,N=u),u=sT(w,N),o=sT(w,a),u&&o&&(A.rangeCount!==1||A.anchorNode!==u.node||A.anchorOffset!==u.offset||A.focusNode!==o.node||A.focusOffset!==o.offset)&&(I=I.createRange(),I.setStart(u.node,u.offset),A.removeAllRanges(),N>a?(A.addRange(I),A.extend(o.node,o.offset)):(I.setEnd(o.node,o.offset),A.addRange(I)))))),I=[],A=w;A=A.parentNode;)A.nodeType===1&&I.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<I.length;w++)A=I[w],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}Yc=!!jv,zv=jv=null,e.current=r,ve=n;do try{for(w=e;ve!==null;){var R=ve.flags;if(R&36&&r4(w,ve.alternate,ve),R&128){I=void 0;var B=ve.ref;if(B!==null){var $=ve.stateNode;switch(ve.tag){case 5:I=$;break;default:I=$}typeof B=="function"?B(I):B.current=I}}ve=ve.nextEffect}}catch(M){if(ve===null)throw Error(ne(330));xo(ve,M),ve=ve.nextEffect}while(ve!==null);ve=null,jU(),Fe=i}else e.current=r;if(So)So=!1,ll=e,Zu=t;else for(ve=n;ve!==null;)t=ve.nextEffect,ve.nextEffect=null,ve.flags&8&&(R=ve,R.sibling=null,R.stateNode=null),ve=t;if(n=e.pendingLanes,n===0&&(ti=null),n===1?e===Um?fl++:(fl=0,Um=e):fl=0,r=r.stateNode,ha&&typeof ha.onCommitFiberRoot=="function")try{ha.onCommitFiberRoot(_0,r,void 0,(r.current.flags&64)===64)}catch{}if(wn(e,Er()),Lh)throw Lh=!1,e=Om,Om=null,e;return(Fe&8)!==0||li(),null}function l4(){for(;ve!==null;){var e=ve.alternate;th||cl===null||((ve.flags&8)!==0?Wx(ve,cl)&&(th=!0):ve.tag===13&&n4(e,ve)&&Wx(ve,cl)&&(th=!0));var t=ve.flags;(t&256)!==0&&t4(e,ve),(t&512)===0||So||(So=!0,wl(97,function(){return Oo(),null})),ve=ve.nextEffect}}function Oo(){if(Zu!==90){var e=97<Zu?97:Zu;return Zu=90,_a(e,c4)}return!1}function f4(e,t){Lm.push(t,e),So||(So=!0,wl(97,function(){return Oo(),null}))}function j2(e,t){Fm.push(t,e),So||(So=!0,wl(97,function(){return Oo(),null}))}function c4(){if(ll===null)return!1;var e=ll;if(ll=null,(Fe&48)!==0)throw Error(ne(331));var t=Fe;Fe|=32;var r=Fm;Fm=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(f){if(o===null)throw Error(ne(330));xo(o,f)}}for(r=Lm,Lm=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var u=i.create;i.destroy=u()}catch(f){if(o===null)throw Error(ne(330));xo(o,f)}}for(u=e.current.firstEffect;u!==null;)e=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=e;return Fe=t,li(),!0}function qT(e,t,r){t=R0(r,t),t=F2(e,t,1),mo(e,t),t=Qr(),e=cd(e,1),e!==null&&(nd(e,1,t),wn(e,t))}function xo(e,t){if(e.tag===3)qT(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){qT(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ti===null||!ti.has(n))){e=R0(t,e);var i=U2(r,e,1);if(mo(r,i),i=Qr(),r=cd(r,1),r!==null)nd(r,1,i),wn(r,i);else if(typeof n.componentDidCatch=="function"&&(ti===null||!ti.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function h4(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Qr(),e.pingedLanes|=e.suspendedLanes&r,Pr===e&&(wr&r)===r&&(hr===4||hr===3&&(wr&62914560)===wr&&500>Er()-A0?Rs(e,0):P0|=r),wn(e,t)}function d4(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=Ms()===99?1:2:(Ni===0&&(Ni=Js),t=ss(62914560&~Ni),t===0&&(t=4194304))),r=Qr(),e=cd(e,t),e!==null&&(nd(e,t,r),wn(e,r))}var z2;z2=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||Hr.current)Gn=!0;else if((r&n)!==0)Gn=(e.flags&16384)!==0;else{switch(Gn=!1,t.tag){case 3:UT(t),qv();break;case 5:CT(t);break;case 1:Xr(t.type)&&Zc(t);break;case 4:xm(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;Gt(Th,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?kT(e,t,r):(Gt(Mt,Mt.current&1),t=Li(e,t,r),t!==null?t.sibling:null);Gt(Mt,Mt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return HT(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gt(Mt,Mt.current),n)break;return null;case 23:case 24:return t.lanes=0,Kv(e,t,r)}return Li(e,t,r)}else Gn=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Bs(t,br.current),Ss(t,r),i=b0(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xr(n)){var o=!0;Zc(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x0(t);var a=n.getDerivedStateFromProps;typeof a=="function"&&bh(t,n,a,e),i.updater=ld,t.stateNode=i,i._reactInternals=t,ym(t,n,e,r),t=bm(null,t,n,!0,o,r)}else t.tag=0,Dr(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=v4(i),e=Mn(i,e),o){case 0:t=wm(null,t,i,e,r);break e;case 1:t=FT(null,t,i,e,r);break e;case 11:t=OT(null,t,i,e,r);break e;case 14:t=LT(null,t,i,Mn(i.type,e),n,r);break e}throw Error(ne(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mn(n,i),wm(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mn(n,i),FT(e,t,n,i,r);case 3:if(UT(t),n=t.updateQueue,e===null||n===null)throw Error(ne(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,_2(e,t),bl(t,n,null,r),n=t.memoizedState.element,n===i)qv(),t=Li(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(lo=bs(t.stateNode.containerInfo.firstChild),Oi=t,o=oi=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Cs.push(o);for(r=x2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Dr(e,t,n,r),qv();t=t.child}return t;case 5:return CT(t),e===null&&Tm(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,vm(n,i)?a=null:o!==null&&vm(n,o)&&(t.flags|=16),P2(e,t),Dr(e,t,a,r),t.child;case 6:return e===null&&Tm(t),null;case 13:return kT(e,t,r);case 4:return xm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Sh(t,null,n,r):Dr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mn(n,i),OT(e,t,n,i,r);case 7:return Dr(e,t,t.pendingProps,r),t.child;case 8:return Dr(e,t,t.pendingProps.children,r),t.child;case 12:return Dr(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(Gt(Th,u._currentValue),u._currentValue=o,a!==null)if(u=a.value,o=yn(u,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(u,o):1073741823)|0,o===0){if(a.children===i.children&&!Hr.current){t=Li(e,t,r);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){a=u.child;for(var c=f.firstContext;c!==null;){if(c.context===n&&(c.observedBits&o)!==0){u.tag===1&&(c=_o(-1,r&-r),c.tag=2,mo(u,c)),u.lanes|=r,c=u.alternate,c!==null&&(c.lanes|=r),v2(u.return,r),f.lanes|=r;break}c=c.next}}else a=u.tag===10&&u.type===t.type?null:u.child;if(a!==null)a.return=u;else for(a=u;a!==null;){if(a===t){a=null;break}if(u=a.sibling,u!==null){u.return=a.return,a=u;break}a=a.return}u=a}Dr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,Ss(t,r),i=En(i,o.unstable_observedBits),n=n(i),t.flags|=1,Dr(e,t,n,r),t.child;case 14:return i=t.type,o=Mn(i,t.pendingProps),o=Mn(i.type,o),LT(e,t,i,o,n,r);case 15:return N2(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Mn(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Xr(n)?(e=!0,Zc(t)):e=!1,Ss(t,r),g2(t,n,i),ym(t,n,i,r),bm(null,t,n,!0,e,r);case 19:return HT(e,t,r);case 23:return Kv(e,t,r);case 24:return Kv(e,t,r)}throw Error(ne(156,t.tag))};function p4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,r,n){return new p4(e,t,r,n)}function L0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v4(e){if(typeof e=="function")return L0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ed)return 11;if(e===td)return 14}return 2}function Co(e,t){var r=e.alternate;return r===null?(r=xn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function rh(e,t,r,n,i,o){var a=2;if(n=e,typeof e=="function")L0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case oo:return Ns(r.children,i,o,t);case TS:a=8,i|=16;break;case qg:a=8,i|=1;break;case el:return e=xn(12,r,t,i|8),e.elementType=el,e.type=el,e.lanes=o,e;case tl:return e=xn(13,r,t,i),e.type=tl,e.elementType=tl,e.lanes=o,e;case hh:return e=xn(19,r,t,i),e.elementType=hh,e.lanes=o,e;case t0:return F0(r,i,o,t);case Z_:return e=xn(24,r,t,i),e.elementType=Z_,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kg:a=10;break e;case Zg:a=9;break e;case ed:a=11;break e;case td:a=14;break e;case Jg:a=16,n=null;break e;case Qg:a=22;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=xn(a,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Ns(e,t,r,n){return e=xn(7,e,n,t),e.lanes=r,e}function F0(e,t,r,n){return e=xn(23,e,n,t),e.elementType=t0,e.lanes=r,e}function Qv(e,t,r){return e=xn(6,e,null,t),e.lanes=r,e}function e_(e,t,r){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _4(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bv(0),this.expirationTimes=Bv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bv(0),this.mutableSourceEagerHydrationData=null}function m4(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fh(e,t,r,n){var i=t.current,o=Qr(),a=go(i);e:if(r){r=r._reactInternals;t:{if(Sa(r)!==r||r.tag!==1)throw Error(ne(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Xr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(ne(171))}if(r.tag===1){var f=r.type;if(Xr(f)){r=u2(r,f,u);break e}}r=u}else r=bo;return t.context===null?t.context=r:t.pendingContext=r,t=_o(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),mo(i,t),yo(i,a,o),a}function t_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function KT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function U0(e,t){KT(e,t),(e=e.alternate)&&KT(e,t)}function g4(){return null}function k0(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new _4(e,t,r!=null&&r.hydrate===!0),t=xn(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,x0(t),e[Zs]=r.current,n2(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}k0.prototype.render=function(e){Fh(e,this._internalRoot,null,null)};k0.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Fh(null,e,null,function(){t[Zs]=null})};function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function y4(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new k0(e,0,t?{hydrate:!0}:void 0)}function hd(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var u=i;i=function(){var c=t_(a);u.call(c)}}Fh(t,a,e,i)}else{if(o=r._reactRootContainer=y4(r,n),a=o._internalRoot,typeof i=="function"){var f=i;i=function(){var c=t_(a);f.call(c)}}D2(function(){Fh(t,a,e,i)})}return t_(a)}kS=function(e){if(e.tag===13){var t=Qr();yo(e,4,t),U0(e,4)}};a0=function(e){if(e.tag===13){var t=Qr();yo(e,67108864,t),U0(e,67108864)}};BS=function(e){if(e.tag===13){var t=Qr(),r=go(e);yo(e,r,t),U0(e,r)}};MS=function(e,t){return t()};sm=function(e,t,r){switch(t){case"input":if(Q_(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=sd(n);if(!i)throw Error(ne(90));wS(n),Q_(n,i)}}}break;case"textarea":SS(e,r);break;case"select":t=r.value,t!=null&&Ts(e,!!r.multiple,t,!1)}};n0=M2;OS=function(e,t,r,n,i){var o=Fe;Fe|=4;try{return _a(98,e.bind(null,t,r,n,i))}finally{Fe=o,Fe===0&&(eu(),li())}};i0=function(){(Fe&49)===0&&(o4(),Oo())};LS=function(e,t){var r=Fe;Fe|=2;try{return e(t)}finally{Fe=r,Fe===0&&(eu(),li())}};function V2(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zl(t))throw Error(ne(200));return m4(e,t,null,r)}var x4={Events:[Yl,hs,sd,PS,AS,Oo,{current:!1}]},Mu={findFiberByHostInstance:la,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},T4={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ba.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=US(e),e===null?null:e.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||g4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{_0=mc.inject(T4),ha=mc}catch{}}Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x4;Sn.createPortal=V2;Sn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):Error(ne(268,Object.keys(e)));return e=US(t),e=e===null?null:e.stateNode,e};Sn.flushSync=function(e,t){var r=Fe;if((r&48)!==0)return e(t);Fe|=1;try{if(e)return _a(99,e.bind(null,t))}finally{Fe=r,li()}};Sn.hydrate=function(e,t,r){if(!Zl(t))throw Error(ne(200));return hd(null,e,t,!0,r)};Sn.render=function(e,t,r){if(!Zl(t))throw Error(ne(200));return hd(null,e,t,!1,r)};Sn.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(ne(40));return e._reactRootContainer?(D2(function(){hd(null,null,e,!1,function(){e._reactRootContainer=null,e[Zs]=null})}),!0):!1};Sn.unstable_batchedUpdates=M2;Sn.unstable_createPortal=function(e,t){return V2(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Sn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zl(r))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return hd(e,t,r,!1,n)};Sn.version="17.0.2";function W2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W2)}catch(e){console.error(e)}}W2(),zg.exports=Sn;var Gs=zg.exports;const E4="_Title_main_1op7x_2",w4="_Title_buttonList_1op7x_9",b4="_Title_button_1op7x_9",S4="_Title_button_text_1op7x_43",C4="_Title_button_text_up_1op7x_51",I4="_Title_backup_background_1op7x_55";var Lt={Title_main:E4,Title_buttonList:w4,Title_button:b4,Title_button_text:S4,Title_button_text_up:C4,Title_backup_background:I4},B0={exports:{}},Y2=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},R4=Y2,Ia=Object.prototype.toString;function M0(e){return Ia.call(e)==="[object Array]"}function Bm(e){return typeof e=="undefined"}function N4(e){return e!==null&&!Bm(e)&&e.constructor!==null&&!Bm(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function P4(e){return Ia.call(e)==="[object ArrayBuffer]"}function A4(e){return typeof FormData!="undefined"&&e instanceof FormData}function O4(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function L4(e){return typeof e=="string"}function F4(e){return typeof e=="number"}function q2(e){return e!==null&&typeof e=="object"}function nh(e){if(Ia.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function U4(e){return Ia.call(e)==="[object Date]"}function k4(e){return Ia.call(e)==="[object File]"}function B4(e){return Ia.call(e)==="[object Blob]"}function K2(e){return Ia.call(e)==="[object Function]"}function M4(e){return q2(e)&&K2(e.pipe)}function D4(e){return typeof URLSearchParams!="undefined"&&e instanceof URLSearchParams}function G4(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H4(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function D0(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),M0(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function Mm(){var e={};function t(i,o){nh(e[o])&&nh(i)?e[o]=Mm(e[o],i):nh(i)?e[o]=Mm({},i):M0(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)D0(arguments[r],t);return e}function X4(e,t,r){return D0(t,function(i,o){r&&typeof i=="function"?e[o]=R4(i,r):e[o]=i}),e}function $4(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var on={isArray:M0,isArrayBuffer:P4,isBuffer:N4,isFormData:A4,isArrayBufferView:O4,isString:L4,isNumber:F4,isObject:q2,isPlainObject:nh,isUndefined:Bm,isDate:U4,isFile:k4,isBlob:B4,isFunction:K2,isStream:M4,isURLSearchParams:D4,isStandardBrowserEnv:H4,forEach:D0,merge:Mm,extend:X4,trim:G4,stripBOM:$4},Ja=on;function ZT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Z2=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(Ja.isURLSearchParams(r))i=r.toString();else{var o=[];Ja.forEach(r,function(f,c){f===null||typeof f=="undefined"||(Ja.isArray(f)?c=c+"[]":f=[f],Ja.forEach(f,function(p){Ja.isDate(p)?p=p.toISOString():Ja.isObject(p)&&(p=JSON.stringify(p)),o.push(ZT(c)+"="+ZT(p))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},j4=on;function dd(){this.handlers=[]}dd.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};dd.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};dd.prototype.forEach=function(t){j4.forEach(this.handlers,function(n){n!==null&&t(n)})};var z4=dd,V4=on,W4=function(t,r){V4.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},J2=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},Y4=J2,Q2=function(t,r,n,i,o){var a=new Error(t);return Y4(a,r,n,i,o)},q4=Q2,K4=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(q4("Request failed with status code "+n.status,n.config,null,n.request,n))},gc=on,Z4=gc.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,u){var f=[];f.push(r+"="+encodeURIComponent(n)),gc.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),gc.isString(o)&&f.push("path="+o),gc.isString(a)&&f.push("domain="+a),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),J4=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},Q4=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},ek=J4,tk=Q4,rk=function(t,r){return t&&!ek(r)?tk(t,r):r},r_=on,nk=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],ik=function(t){var r={},n,i,o;return t&&r_.forEach(t.split(`
`),function(u){if(o=u.indexOf(":"),n=r_.trim(u.substr(0,o)).toLowerCase(),i=r_.trim(u.substr(o+1)),n){if(r[n]&&nk.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},JT=on,ok=JT.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var u=JT.isString(a)?i(a):a;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function G0(e){this.message=e}G0.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};G0.prototype.__CANCEL__=!0;var pd=G0,yc=on,ak=K4,sk=Z4,uk=Z2,lk=rk,fk=ik,ck=ok,n_=Q2,hk=_d,dk=pd,QT=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,u=t.responseType,f;function c(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}yc.isFormData(o)&&delete a["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(p+":"+v)}var _=lk(t.baseURL,t.url);d.open(t.method.toUpperCase(),uk(_,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function y(){if(!!d){var g="getAllResponseHeaders"in d?fk(d.getAllResponseHeaders()):null,x=!u||u==="text"||u==="json"?d.responseText:d.response,w={data:x,status:d.status,statusText:d.statusText,headers:g,config:t,request:d};ak(function(A){n(A),c()},function(A){i(A),c()},w),d=null}}if("onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(y)},d.onabort=function(){!d||(i(n_("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){i(n_("Network Error",t,null,d)),d=null},d.ontimeout=function(){var x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",w=t.transitional||hk.transitional;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),i(n_(x,t,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},yc.isStandardBrowserEnv()){var T=(t.withCredentials||ck(_))&&t.xsrfCookieName?sk.read(t.xsrfCookieName):void 0;T&&(a[t.xsrfHeaderName]=T)}"setRequestHeader"in d&&yc.forEach(a,function(x,w){typeof o=="undefined"&&w.toLowerCase()==="content-type"?delete a[w]:d.setRequestHeader(w,x)}),yc.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),u&&u!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(g){!d||(i(!g||g&&g.type?new dk("canceled"):g),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),o||(o=null),d.send(o)})},lr=on,eE=W4,pk=J2,vk={"Content-Type":"application/x-www-form-urlencoded"};function tE(e,t){!lr.isUndefined(e)&&lr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function _k(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=QT),e}function mk(e,t,r){if(lr.isString(e))try{return(t||JSON.parse)(e),lr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var vd={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:_k(),transformRequest:[function(t,r){return eE(r,"Accept"),eE(r,"Content-Type"),lr.isFormData(t)||lr.isArrayBuffer(t)||lr.isBuffer(t)||lr.isStream(t)||lr.isFile(t)||lr.isBlob(t)?t:lr.isArrayBufferView(t)?t.buffer:lr.isURLSearchParams(t)?(tE(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):lr.isObject(t)||r&&r["Content-Type"]==="application/json"?(tE(r,"application/json"),mk(t)):t}],transformResponse:[function(t){var r=this.transitional||vd.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&lr.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?pk(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};lr.forEach(["delete","get","head"],function(t){vd.headers[t]={}});lr.forEach(["post","put","patch"],function(t){vd.headers[t]=lr.merge(vk)});var _d=vd,gk=on,yk=_d,xk=function(t,r,n){var i=this||yk;return gk.forEach(n,function(a){t=a.call(i,t,r)}),t},eC=function(t){return!!(t&&t.__CANCEL__)},rE=on,i_=xk,Tk=eC,Ek=_d,wk=pd;function o_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wk("canceled")}var bk=function(t){o_(t),t.headers=t.headers||{},t.data=i_.call(t,t.data,t.headers,t.transformRequest),t.headers=rE.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),rE.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||Ek.adapter;return r(t).then(function(i){return o_(t),i.data=i_.call(t,i.data,i.headers,t.transformResponse),i},function(i){return Tk(i)||(o_(t),i&&i.response&&(i.response.data=i_.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Zr=on,tC=function(t,r){r=r||{};var n={};function i(d,p){return Zr.isPlainObject(d)&&Zr.isPlainObject(p)?Zr.merge(d,p):Zr.isPlainObject(p)?Zr.merge({},p):Zr.isArray(p)?p.slice():p}function o(d){if(Zr.isUndefined(r[d])){if(!Zr.isUndefined(t[d]))return i(void 0,t[d])}else return i(t[d],r[d])}function a(d){if(!Zr.isUndefined(r[d]))return i(void 0,r[d])}function u(d){if(Zr.isUndefined(r[d])){if(!Zr.isUndefined(t[d]))return i(void 0,t[d])}else return i(void 0,r[d])}function f(d){if(d in r)return i(t[d],r[d]);if(d in t)return i(void 0,t[d])}var c={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f};return Zr.forEach(Object.keys(t).concat(Object.keys(r)),function(p){var v=c[p]||o,_=v(p);Zr.isUndefined(_)&&v!==f||(n[p]=_)}),n},rC={version:"0.24.0"},Sk=rC.version,H0={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){H0[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var nE={};H0.transitional=function(t,r,n){function i(o,a){return"[Axios v"+Sk+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,u){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!nE[a]&&(nE[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,u):!0}};function Ck(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var u=e[o],f=u===void 0||a(u,o,e);if(f!==!0)throw new TypeError("option "+o+" must be "+f);continue}if(r!==!0)throw Error("Unknown option "+o)}}var Ik={assertOptions:Ck,validators:H0},nC=on,Rk=Z2,iE=z4,oE=bk,md=tC,iC=Ik,Qa=iC.validators;function Jl(e){this.defaults=e,this.interceptors={request:new iE,response:new iE}}Jl.prototype.request=function(t){typeof t=="string"?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=md(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&iC.assertOptions(r,{silentJSONParsing:Qa.transitional(Qa.boolean),forcedJSONParsing:Qa.transitional(Qa.boolean),clarifyTimeoutError:Qa.transitional(Qa.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(i=i&&v.synchronous,n.unshift(v.fulfilled,v.rejected))});var o=[];this.interceptors.response.forEach(function(v){o.push(v.fulfilled,v.rejected)});var a;if(!i){var u=[oE,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(o),a=Promise.resolve(t);u.length;)a=a.then(u.shift(),u.shift());return a}for(var f=t;n.length;){var c=n.shift(),d=n.shift();try{f=c(f)}catch(p){d(p);break}}try{a=oE(f)}catch(p){return Promise.reject(p)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};Jl.prototype.getUri=function(t){return t=md(this.defaults,t),Rk(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};nC.forEach(["delete","get","head","options"],function(t){Jl.prototype[t]=function(r,n){return this.request(md(n||{},{method:t,url:r,data:(n||{}).data}))}});nC.forEach(["post","put","patch"],function(t){Jl.prototype[t]=function(r,n,i){return this.request(md(i||{},{method:t,url:r,data:n}))}});var Nk=Jl,Pk=pd;function Hs(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new Pk(i),t(r.reason))})}Hs.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Hs.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Hs.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};Hs.source=function(){var t,r=new Hs(function(i){t=i});return{token:r,cancel:t}};var Ak=Hs,Ok=function(t){return function(n){return t.apply(null,n)}},Lk=function(t){return typeof t=="object"&&t.isAxiosError===!0},aE=on,Fk=Y2,ih=Nk,Uk=tC,kk=_d;function oC(e){var t=new ih(e),r=Fk(ih.prototype.request,t);return aE.extend(r,ih.prototype,t),aE.extend(r,t),r.create=function(i){return oC(Uk(e,i))},r}var fi=oC(kk);fi.Axios=ih;fi.Cancel=pd;fi.CancelToken=Ak;fi.isCancel=eC;fi.VERSION=rC.version;fi.all=function(t){return Promise.all(t)};fi.spread=Ok;fi.isAxiosError=Lk;B0.exports=fi;B0.exports.default=fi;var Bk=B0.exports;const Mk=Bk;class Dk{constructor(){this.url="",this.level="all",this.mongoUrl="mongodb://localhost:27017/",this.collection="main",this.isUpload=!0}init(t,r){this.url=t,r&&(this.mongoUrl=r)}setUpload(t){this.isUpload=t}setCollection(t){this.collection=t}setLevel(t){this.level=t.toUpperCase()}upload(t,r,n,i){typeof t!="string"&&this.error("log\u7684\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E0D\u662F\u5B57\u7B26\u4E32",void 0,!1);let o={log:{info:t,data:r,level:n,now:i},mongoUrl:this.mongoUrl,collection:this.collection};const a=this;this.url!==""&&this.isUpload&&Mk.post(this.url+"/log",o).then(u=>{a.trace("Logged to cloud.",void 0,!1)}).catch(u=>{a.error("Logging to cloud failed!",void 0,!1)})}clog(t,r,n,i,o,a){const u={all:7,ALL:7,TRACE:6,DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,NONE:0,none:0};u[n]<=u[this.level]&&(console.log("%c%s%c%s%c%s%c %s","color:white;background-color:"+i,"["+n+"]",""," ","color:"+i,"["+o.toLocaleString()+"]","",t),r&&(console.log(r),console.log("------------------------"))),a===void 0&&this.upload(t,r,n,o),a!==void 0&&a&&this.upload(t,r,n,o)}trace(t,r,n){const i=new Date,o="TRACE",a="#005CAF";this.clog(t,r,o,a,i,n)}debug(t,r,n){const i=new Date,o="DEBUG",a="#0089A7";this.clog(t,r,o,a,i,n)}info(t,r,n){const i=new Date,o="INFO",a="#00896C";this.clog(t,r,o,a,i,n)}warn(t,r,n){const i=new Date,o="WARN",a="#DDA52D";this.clog(t,r,o,a,i,n)}error(t,r,n){const i=new Date,o="ERROR",a="#AB3B3A";this.clog(t,r,o,a,i,n)}fatal(t,r,n){const i=new Date,o="FATAL",a="#E16B8C";this.clog(t,r,o,a,i,n)}}var Gk=Dk;const lt=new Gk;function Dn(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Io(e){return!!e&&!!e[Nt]}function Ro(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var r=Object.getPrototypeOf(t);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===qk}(e)||Array.isArray(e)||!!e[dE]||!!e.constructor[dE]||X0(e)||$0(e))}function ga(e,t,r){r===void 0&&(r=!1),tu(e)===0?(r?Object.keys:As)(e).forEach(function(n){r&&typeof n=="symbol"||t(n,e[n],e)}):e.forEach(function(n,i){return t(i,n,e)})}function tu(e){var t=e[Nt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:X0(e)?2:$0(e)?3:0}function Ps(e,t){return tu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Hk(e,t){return tu(e)===2?e.get(t):e[t]}function aC(e,t,r){var n=tu(e);n===2?e.set(t,r):n===3?(e.delete(t),e.add(r)):e[t]=r}function sC(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function X0(e){return Wk&&e instanceof Map}function $0(e){return Yk&&e instanceof Set}function ra(e){return e.o||e.t}function j0(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=lC(e);delete t[Nt];for(var r=As(t),n=0;n<r.length;n++){var i=r[n],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function z0(e,t){return t===void 0&&(t=!1),V0(e)||Io(e)||!Ro(e)||(tu(e)>1&&(e.set=e.add=e.clear=e.delete=Xk),Object.freeze(e),t&&ga(e,function(r,n){return z0(n,!0)},!0)),e}function Xk(){Dn(2)}function V0(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function ai(e){var t=Xm[e];return t||Dn(18,e),t}function $k(e,t){Xm[e]||(Xm[e]=t)}function Dm(){return Rl}function a_(e,t){t&&(ai("Patches"),e.u=[],e.s=[],e.v=t)}function Uh(e){Gm(e),e.p.forEach(jk),e.p=null}function Gm(e){e===Rl&&(Rl=e.l)}function sE(e){return Rl={p:[],l:Rl,h:e,m:!0,_:0}}function jk(e){var t=e[Nt];t.i===0||t.i===1?t.j():t.O=!0}function s_(e,t){t._=t.p.length;var r=t.p[0],n=e!==void 0&&e!==r;return t.h.g||ai("ES5").S(t,e,n),n?(r[Nt].P&&(Uh(t),Dn(4)),Ro(e)&&(e=kh(t,e),t.l||Bh(t,e)),t.u&&ai("Patches").M(r[Nt].t,e,t.u,t.s)):e=kh(t,r,[]),Uh(t),t.u&&t.v(t.u,t.s),e!==uC?e:void 0}function kh(e,t,r){if(V0(t))return t;var n=t[Nt];if(!n)return ga(t,function(o,a){return uE(e,n,t,o,a,r)},!0),t;if(n.A!==e)return t;if(!n.P)return Bh(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=j0(n.k):n.o;ga(n.i===3?new Set(i):i,function(o,a){return uE(e,n,i,o,a,r)}),Bh(e,i,!1),r&&e.u&&ai("Patches").R(n,r,e.u,e.s)}return n.o}function uE(e,t,r,n,i,o){if(Io(i)){var a=kh(e,i,o&&t&&t.i!==3&&!Ps(t.D,n)?o.concat(n):void 0);if(aC(r,n,a),!Io(a))return;e.m=!1}if(Ro(i)&&!V0(i)){if(!e.h.F&&e._<1)return;kh(e,i),t&&t.A.l||Bh(e,i)}}function Bh(e,t,r){r===void 0&&(r=!1),e.h.F&&e.m&&z0(t,r)}function u_(e,t){var r=e[Nt];return(r?ra(r):e)[t]}function lE(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function ao(e){e.P||(e.P=!0,e.l&&ao(e.l))}function l_(e){e.o||(e.o=j0(e.t))}function Hm(e,t,r){var n=X0(t)?ai("MapSet").N(t,r):$0(t)?ai("MapSet").T(t,r):e.g?function(i,o){var a=Array.isArray(i),u={i:a?1:0,A:o?o.A:Dm(),P:!1,I:!1,D:{},l:o,t:i,k:null,o:null,j:null,C:!1},f=u,c=Nl;a&&(f=[u],c=Qu);var d=Proxy.revocable(f,c),p=d.revoke,v=d.proxy;return u.k=v,u.j=p,v}(t,r):ai("ES5").J(t,r);return(r?r.A:Dm()).p.push(n),n}function zk(e){return Io(e)||Dn(22,e),function t(r){if(!Ro(r))return r;var n,i=r[Nt],o=tu(r);if(i){if(!i.P&&(i.i<4||!ai("ES5").K(i)))return i.t;i.I=!0,n=fE(r,o),i.I=!1}else n=fE(r,o);return ga(n,function(a,u){i&&Hk(i.t,a)===u||aC(n,a,t(u))}),o===3?new Set(n):n}(e)}function fE(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return j0(e)}function Vk(){function e(o,a){var u=i[o];return u?u.enumerable=a:i[o]=u={configurable:!0,enumerable:a,get:function(){var f=this[Nt];return Nl.get(f,o)},set:function(f){var c=this[Nt];Nl.set(c,o,f)}},u}function t(o){for(var a=o.length-1;a>=0;a--){var u=o[a][Nt];if(!u.P)switch(u.i){case 5:n(u)&&ao(u);break;case 4:r(u)&&ao(u)}}}function r(o){for(var a=o.t,u=o.k,f=As(u),c=f.length-1;c>=0;c--){var d=f[c];if(d!==Nt){var p=a[d];if(p===void 0&&!Ps(a,d))return!0;var v=u[d],_=v&&v[Nt];if(_?_.t!==p:!sC(v,p))return!0}}var y=!!a[Nt];return f.length!==As(a).length+(y?0:1)}function n(o){var a=o.k;if(a.length!==o.t.length)return!0;var u=Object.getOwnPropertyDescriptor(a,a.length-1);if(u&&!u.get)return!0;for(var f=0;f<a.length;f++)if(!a.hasOwnProperty(f))return!0;return!1}var i={};$k("ES5",{J:function(o,a){var u=Array.isArray(o),f=function(d,p){if(d){for(var v=Array(p.length),_=0;_<p.length;_++)Object.defineProperty(v,""+_,e(_,!0));return v}var y=lC(p);delete y[Nt];for(var T=As(y),g=0;g<T.length;g++){var x=T[g];y[x]=e(x,d||!!y[x].enumerable)}return Object.create(Object.getPrototypeOf(p),y)}(u,o),c={i:u?5:4,A:a?a.A:Dm(),P:!1,I:!1,D:{},l:a,t:o,k:f,o:null,O:!1,C:!1};return Object.defineProperty(f,Nt,{value:c,writable:!0}),f},S:function(o,a,u){u?Io(a)&&a[Nt].A===o&&t(o.p):(o.u&&function f(c){if(c&&typeof c=="object"){var d=c[Nt];if(d){var p=d.t,v=d.k,_=d.D,y=d.i;if(y===4)ga(v,function(I){I!==Nt&&(p[I]!==void 0||Ps(p,I)?_[I]||f(v[I]):(_[I]=!0,ao(d)))}),ga(p,function(I){v[I]!==void 0||Ps(v,I)||(_[I]=!1,ao(d))});else if(y===5){if(n(d)&&(ao(d),_.length=!0),v.length<p.length)for(var T=v.length;T<p.length;T++)_[T]=!1;else for(var g=p.length;g<v.length;g++)_[g]=!0;for(var x=Math.min(v.length,p.length),w=0;w<x;w++)v.hasOwnProperty(w)||(_[w]=!0),_[w]===void 0&&f(v[w])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?r(o):n(o)}})}var cE,Rl,W0=typeof Symbol!="undefined"&&typeof Symbol("x")=="symbol",Wk=typeof Map!="undefined",Yk=typeof Set!="undefined",hE=typeof Proxy!="undefined"&&Proxy.revocable!==void 0&&typeof Reflect!="undefined",uC=W0?Symbol.for("immer-nothing"):((cE={})["immer-nothing"]=!0,cE),dE=W0?Symbol.for("immer-draftable"):"__$immer_draftable",Nt=W0?Symbol.for("immer-state"):"__$immer_state",qk=""+Object.prototype.constructor,As=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,lC=Object.getOwnPropertyDescriptors||function(e){var t={};return As(e).forEach(function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)}),t},Xm={},Nl={get:function(e,t){if(t===Nt)return e;var r=ra(e);if(!Ps(r,t))return function(i,o,a){var u,f=lE(o,a);return f?"value"in f?f.value:(u=f.get)===null||u===void 0?void 0:u.call(i.k):void 0}(e,r,t);var n=r[t];return e.I||!Ro(n)?n:n===u_(e.t,t)?(l_(e),e.o[t]=Hm(e.A.h,n,e)):n},has:function(e,t){return t in ra(e)},ownKeys:function(e){return Reflect.ownKeys(ra(e))},set:function(e,t,r){var n=lE(ra(e),t);if(n!=null&&n.set)return n.set.call(e.k,r),!0;if(!e.P){var i=u_(ra(e),t),o=i==null?void 0:i[Nt];if(o&&o.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(sC(r,i)&&(r!==void 0||Ps(e.t,t)))return!0;l_(e),ao(e)}return e.o[t]===r&&typeof r!="number"&&(r!==void 0||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return u_(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,l_(e),ao(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=ra(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty:function(){Dn(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Dn(12)}},Qu={};ga(Nl,function(e,t){Qu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),Qu.deleteProperty=function(e,t){return Qu.set.call(this,e,t,void 0)},Qu.set=function(e,t,r){return Nl.set.call(this,e[0],t,r,e[0])};var Kk=function(){function e(r){var n=this;this.g=hE,this.F=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var u=o;o=i;var f=n;return function(T){var g=this;T===void 0&&(T=u);for(var x=arguments.length,w=Array(x>1?x-1:0),I=1;I<x;I++)w[I-1]=arguments[I];return f.produce(T,function(A){var N;return(N=o).call.apply(N,[g,A].concat(w))})}}var c;if(typeof o!="function"&&Dn(6),a!==void 0&&typeof a!="function"&&Dn(7),Ro(i)){var d=sE(n),p=Hm(n,i,void 0),v=!0;try{c=o(p),v=!1}finally{v?Uh(d):Gm(d)}return typeof Promise!="undefined"&&c instanceof Promise?c.then(function(T){return a_(d,a),s_(T,d)},function(T){throw Uh(d),T}):(a_(d,a),s_(c,d))}if(!i||typeof i!="object"){if((c=o(i))===void 0&&(c=i),c===uC&&(c=void 0),n.F&&z0(c,!0),a){var _=[],y=[];ai("Patches").M(i,c,_,y),a(_,y)}return c}Dn(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(c){for(var d=arguments.length,p=Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return n.produceWithPatches(c,function(_){return i.apply(void 0,[_].concat(p))})};var a,u,f=n.produce(i,o,function(c,d){a=c,u=d});return typeof Promise!="undefined"&&f instanceof Promise?f.then(function(c){return[c,a,u]}):[f,a,u]},typeof(r==null?void 0:r.useProxies)=="boolean"&&this.setUseProxies(r.useProxies),typeof(r==null?void 0:r.autoFreeze)=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var t=e.prototype;return t.createDraft=function(r){Ro(r)||Dn(8),Io(r)&&(r=zk(r));var n=sE(this),i=Hm(this,r,void 0);return i[Nt].C=!0,Gm(n),i},t.finishDraft=function(r,n){var i=r&&r[Nt],o=i.A;return a_(o,n),s_(void 0,o)},t.setAutoFreeze=function(r){this.F=r},t.setUseProxies=function(r){r&&!hE&&Dn(20),this.g=r},t.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.path.length===0&&o.op==="replace"){r=o.value;break}}i>-1&&(n=n.slice(i+1));var a=ai("Patches").$;return Io(r)?a(r,n):this.produce(r,function(u){return a(u,n)})},e}(),rn=new Kk,Zk=rn.produce;rn.produceWithPatches.bind(rn);rn.setAutoFreeze.bind(rn);rn.setUseProxies.bind(rn);rn.applyPatches.bind(rn);rn.createDraft.bind(rn);rn.finishDraft.bind(rn);var oh=Zk;function Jk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){Jk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var _E=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),f_=function(){return Math.random().toString(36).substring(7).split("").join(".")},Mh={INIT:"@@redux/INIT"+f_(),REPLACE:"@@redux/REPLACE"+f_(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+f_()}};function Qk(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function fC(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mr(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(mr(1));return r(fC)(e,t)}if(typeof e!="function")throw new Error(mr(2));var i=e,o=t,a=[],u=a,f=!1;function c(){u===a&&(u=a.slice())}function d(){if(f)throw new Error(mr(3));return o}function p(T){if(typeof T!="function")throw new Error(mr(4));if(f)throw new Error(mr(5));var g=!0;return c(),u.push(T),function(){if(!!g){if(f)throw new Error(mr(6));g=!1,c();var w=u.indexOf(T);u.splice(w,1),a=null}}}function v(T){if(!Qk(T))throw new Error(mr(7));if(typeof T.type=="undefined")throw new Error(mr(8));if(f)throw new Error(mr(9));try{f=!0,o=i(o,T)}finally{f=!1}for(var g=a=u,x=0;x<g.length;x++){var w=g[x];w()}return T}function _(T){if(typeof T!="function")throw new Error(mr(10));i=T,v({type:Mh.REPLACE})}function y(){var T,g=p;return T={subscribe:function(w){if(typeof w!="object"||w===null)throw new Error(mr(11));function I(){w.next&&w.next(d())}I();var A=g(I);return{unsubscribe:A}}},T[_E]=function(){return this},T}return v({type:Mh.INIT}),n={dispatch:v,subscribe:p,getState:d,replaceReducer:_},n[_E]=y,n}function eB(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:Mh.INIT});if(typeof n=="undefined")throw new Error(mr(12));if(typeof r(void 0,{type:Mh.PROBE_UNKNOWN_ACTION()})=="undefined")throw new Error(mr(13))})}function tB(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n];typeof e[i]=="function"&&(r[i]=e[i])}var o=Object.keys(r),a;try{eB(r)}catch(u){a=u}return function(f,c){if(f===void 0&&(f={}),a)throw a;for(var d=!1,p={},v=0;v<o.length;v++){var _=o[v],y=r[_],T=f[_],g=y(T,c);if(typeof g=="undefined")throw c&&c.type,new Error(mr(14));p[_]=g,d=d||g!==T}return d=d||o.length!==Object.keys(f).length,d?p:f}}function Dh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function rB(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),o=function(){throw new Error(mr(15))},a={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},u=t.map(function(f){return f(a)});return o=Dh.apply(void 0,u)(i.dispatch),vE(vE({},i),{},{dispatch:o})}}}function cC(e){var t=function(n){var i=n.dispatch,o=n.getState;return function(a){return function(u){return typeof u=="function"?u(i,o,e):a(u)}}};return t}var hC=cC();hC.withExtraArgument=cC;var mE=hC,nB=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();globalThis&&globalThis.__generator;var Gh=globalThis&&globalThis.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},iB=Object.defineProperty,gE=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,aB=Object.prototype.propertyIsEnumerable,yE=function(e,t,r){return t in e?iB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Pl=function(e,t){for(var r in t||(t={}))oB.call(t,r)&&yE(e,r,t[r]);if(gE)for(var n=0,i=gE(t);n<i.length;n++){var r=i[n];aB.call(t,r)&&yE(e,r,t[r])}return e},sB=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Dh:Dh.apply(null,arguments)};function uB(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}var lB=function(e){nB(t,e);function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=e.apply(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.prototype.concat.apply(this,r)},t.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(t.bind.apply(t,Gh([void 0],r[0].concat(this)))):new(t.bind.apply(t,Gh([void 0],r.concat(this))))},t}(Array);function fB(e){return typeof e=="boolean"}function cB(){return function(t){return hB(t)}}function hB(e){e===void 0&&(e={});var t=e.thunk,r=t===void 0?!0:t;e.immutableCheck,e.serializableCheck;var n=new lB;return r&&(fB(r)?n.push(mE):n.push(mE.withExtraArgument(r.extraArgument))),n}var dB=!0;function pB(e){var t=cB(),r=e||{},n=r.reducer,i=n===void 0?void 0:n,o=r.middleware,a=o===void 0?t():o,u=r.devTools,f=u===void 0?!0:u,c=r.preloadedState,d=c===void 0?void 0:c,p=r.enhancers,v=p===void 0?void 0:p,_;if(typeof i=="function")_=i;else if(uB(i))_=tB(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var y=a;typeof y=="function"&&(y=y(t));var T=rB.apply(void 0,y),g=Dh;f&&(g=sB(Pl({trace:!dB},typeof f=="object"&&f)));var x=[T];Array.isArray(v)?x=Gh([T],v):typeof v=="function"&&(x=v(x));var w=g.apply(void 0,x);return fC(_,d,w)}function Al(e,t){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(t){var o=t.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return Pl(Pl({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:n[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(n){return n.type===e},r}function dC(e){var t={},r=[],n,i={addCase:function(o,a){var u=typeof o=="string"?o:o.type;if(u in t)throw new Error("addCase cannot be called with two reducers for the same action type");return t[u]=a,i},addMatcher:function(o,a){return r.push({matcher:o,reducer:a}),i},addDefaultCase:function(o){return n=o,i}};return e(i),[t,r,n]}function vB(e){return typeof e=="function"}function _B(e,t,r,n){r===void 0&&(r=[]);var i=typeof t=="function"?dC(t):[t,r,n],o=i[0],a=i[1],u=i[2],f;if(vB(e))f=function(){return oh(e(),function(){})};else{var c=oh(e,function(){});f=function(){return c}}function d(p,v){p===void 0&&(p=f());var _=Gh([o[v.type]],a.filter(function(y){var T=y.matcher;return T(v)}).map(function(y){var T=y.reducer;return T}));return _.filter(function(y){return!!y}).length===0&&(_=[u]),_.reduce(function(y,T){if(T)if(Io(y)){var g=y,x=T(g,v);return typeof x=="undefined"?y:x}else{if(Ro(y))return oh(y,function(w){return T(w,v)});var x=T(y,v);if(typeof x=="undefined"){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return y},p)}return d.getInitialState=f,d}function mB(e,t){return e+"/"+t}function Y0(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r=typeof e.initialState=="function"?e.initialState:oh(e.initialState,function(){}),n=e.reducers||{},i=Object.keys(n),o={},a={},u={};i.forEach(function(d){var p=n[d],v=mB(t,d),_,y;"reducer"in p?(_=p.reducer,y=p.prepare):_=p,o[d]=_,a[v]=_,u[d]=y?Al(v,y):Al(v)});function f(){var d=typeof e.extraReducers=="function"?dC(e.extraReducers):[e.extraReducers],p=d[0],v=p===void 0?{}:p,_=d[1],y=_===void 0?[]:_,T=d[2],g=T===void 0?void 0:T,x=Pl(Pl({},v),a);return _B(r,x,y,g)}var c;return{name:t,reducer:function(d,p){return c||(c=f()),c(d,p)},actions:u,caseReducers:o,getInitialState:function(){return c||(c=f()),c.getInitialState()}}}var q0="listenerMiddleware";Al(q0+"/add");Al(q0+"/removeAll");Al(q0+"/remove");Vk();const pC={oldBgName:"",bgName:"",figName:"",figNameLeft:"",figNameRight:"",showText:"",showName:"",command:"",choose:[],vocal:"",bgm:"",miniAvatar:"",GameVar:[],effects:[],bgFilter:"",bgTransform:"",PerformList:[]},vC=Y0({name:"stage",initialState:pC,reducers:{resetStageState:(e,t)=>{Object.assign(e,t.payload)},setStage:(e,t)=>{e[t.payload.key]=t.payload.value}}}),{resetStageState:ru,setStage:en}=vC.actions;var gB=vC.reducer,Ol={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(r){e.exports=r()})(function(){return function r(n,i,o){function a(c,d){if(!i[c]){if(!n[c]){var p=typeof oc=="function"&&oc;if(!d&&p)return p(c,!0);if(u)return u(c,!0);var v=new Error("Cannot find module '"+c+"'");throw v.code="MODULE_NOT_FOUND",v}var _=i[c]={exports:{}};n[c][0].call(_.exports,function(y){var T=n[c][1][y];return a(T||y)},_,_.exports,r,n,i,o)}return i[c].exports}for(var u=typeof oc=="function"&&oc,f=0;f<o.length;f++)a(o[f]);return a}({1:[function(r,n,i){(function(o){var a=o.MutationObserver||o.WebKitMutationObserver,u;if(a){var f=0,c=new a(y),d=o.document.createTextNode("");c.observe(d,{characterData:!0}),u=function(){d.data=f=++f%2}}else if(!o.setImmediate&&typeof o.MessageChannel!="undefined"){var p=new o.MessageChannel;p.port1.onmessage=y,u=function(){p.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?u=function(){var g=o.document.createElement("script");g.onreadystatechange=function(){y(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},o.document.documentElement.appendChild(g)}:u=function(){setTimeout(y,0)};var v,_=[];function y(){v=!0;for(var g,x,w=_.length;w;){for(x=_,_=[],g=-1;++g<w;)x[g]();w=_.length}v=!1}n.exports=T;function T(g){_.push(g)===1&&!v&&u()}}).call(this,typeof gn!="undefined"?gn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(r,n,i){var o=r(1);function a(){}var u={},f=["REJECTED"],c=["FULFILLED"],d=["PENDING"];n.exports=p;function p(N){if(typeof N!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,N!==a&&T(this,N)}p.prototype.catch=function(N){return this.then(null,N)},p.prototype.then=function(N,R){if(typeof N!="function"&&this.state===c||typeof R!="function"&&this.state===f)return this;var B=new this.constructor(a);if(this.state!==d){var $=this.state===c?N:R;_(B,$,this.outcome)}else this.queue.push(new v(B,N,R));return B};function v(N,R,B){this.promise=N,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof B=="function"&&(this.onRejected=B,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(N){u.resolve(this.promise,N)},v.prototype.otherCallFulfilled=function(N){_(this.promise,this.onFulfilled,N)},v.prototype.callRejected=function(N){u.reject(this.promise,N)},v.prototype.otherCallRejected=function(N){_(this.promise,this.onRejected,N)};function _(N,R,B){o(function(){var $;try{$=R(B)}catch(M){return u.reject(N,M)}$===N?u.reject(N,new TypeError("Cannot resolve promise with itself")):u.resolve(N,$)})}u.resolve=function(N,R){var B=g(y,R);if(B.status==="error")return u.reject(N,B.value);var $=B.value;if($)T(N,$);else{N.state=c,N.outcome=R;for(var M=-1,W=N.queue.length;++M<W;)N.queue[M].callFulfilled(R)}return N},u.reject=function(N,R){N.state=f,N.outcome=R;for(var B=-1,$=N.queue.length;++B<$;)N.queue[B].callRejected(R);return N};function y(N){var R=N&&N.then;if(N&&(typeof N=="object"||typeof N=="function")&&typeof R=="function")return function(){R.apply(N,arguments)}}function T(N,R){var B=!1;function $(ae){B||(B=!0,u.reject(N,ae))}function M(ae){B||(B=!0,u.resolve(N,ae))}function W(){R(M,$)}var he=g(W);he.status==="error"&&$(he.value)}function g(N,R){var B={};try{B.value=N(R),B.status="success"}catch($){B.status="error",B.value=$}return B}p.resolve=x;function x(N){return N instanceof this?N:u.resolve(new this(a),N)}p.reject=w;function w(N){var R=new this(a);return u.reject(R,N)}p.all=I;function I(N){var R=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=N.length,$=!1;if(!B)return this.resolve([]);for(var M=new Array(B),W=0,he=-1,ae=new this(a);++he<B;)de(N[he],he);return ae;function de(Ve,ue){R.resolve(Ve).then(le,function(ye){$||($=!0,u.reject(ae,ye))});function le(ye){M[ue]=ye,++W===B&&!$&&($=!0,u.resolve(ae,M))}}}p.race=A;function A(N){var R=this;if(Object.prototype.toString.call(N)!=="[object Array]")return this.reject(new TypeError("must be an array"));var B=N.length,$=!1;if(!B)return this.resolve([]);for(var M=-1,W=new this(a);++M<B;)he(N[M]);return W;function he(ae){R.resolve(ae).then(function(de){$||($=!0,u.resolve(W,de))},function(de){$||($=!0,u.reject(W,de))})}}},{"1":1}],3:[function(r,n,i){(function(o){typeof o.Promise!="function"&&(o.Promise=r(2))}).call(this,typeof gn!="undefined"?gn:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(r,n,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S};function a(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}function u(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var f=u();function c(){try{if(!f||!f.open)return!1;var S=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),L=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!S||L)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function d(S,L){S=S||[],L=L||{};try{return new Blob(S,L)}catch(U){if(U.name!=="TypeError")throw U;for(var P=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,k=new P,H=0;H<S.length;H+=1)k.append(S[H]);return k.getBlob(L.type)}}typeof Promise=="undefined"&&r(3);var p=Promise;function v(S,L){L&&S.then(function(P){L(null,P)},function(P){L(P)})}function _(S,L,P){typeof L=="function"&&S.then(L),typeof P=="function"&&S.catch(P)}function y(S){return typeof S!="string"&&(console.warn(S+" used as a key, but it is not a string."),S=String(S)),S}function T(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var g="local-forage-detect-blob-support",x=void 0,w={},I=Object.prototype.toString,A="readonly",N="readwrite";function R(S){for(var L=S.length,P=new ArrayBuffer(L),k=new Uint8Array(P),H=0;H<L;H++)k[H]=S.charCodeAt(H);return P}function B(S){return new p(function(L){var P=S.transaction(g,N),k=d([""]);P.objectStore(g).put(k,"key"),P.onabort=function(H){H.preventDefault(),H.stopPropagation(),L(!1)},P.oncomplete=function(){var H=navigator.userAgent.match(/Chrome\/(\d+)/),U=navigator.userAgent.match(/Edge\//);L(U||!H||parseInt(H[1],10)>=43)}}).catch(function(){return!1})}function $(S){return typeof x=="boolean"?p.resolve(x):B(S).then(function(L){return x=L,x})}function M(S){var L=w[S.name],P={};P.promise=new p(function(k,H){P.resolve=k,P.reject=H}),L.deferredOperations.push(P),L.dbReady?L.dbReady=L.dbReady.then(function(){return P.promise}):L.dbReady=P.promise}function W(S){var L=w[S.name],P=L.deferredOperations.pop();if(P)return P.resolve(),P.promise}function he(S,L){var P=w[S.name],k=P.deferredOperations.pop();if(k)return k.reject(L),k.promise}function ae(S,L){return new p(function(P,k){if(w[S.name]=w[S.name]||re(),S.db)if(L)M(S),S.db.close();else return P(S.db);var H=[S.name];L&&H.push(S.version);var U=f.open.apply(f,H);L&&(U.onupgradeneeded=function(Y){var Q=U.result;try{Q.createObjectStore(S.storeName),Y.oldVersion<=1&&Q.createObjectStore(g)}catch(ee){if(ee.name==="ConstraintError")console.warn('The database "'+S.name+'" has been upgraded from version '+Y.oldVersion+" to version "+Y.newVersion+', but the storage "'+S.storeName+'" already exists.');else throw ee}}),U.onerror=function(Y){Y.preventDefault(),k(U.error)},U.onsuccess=function(){var Y=U.result;Y.onversionchange=function(Q){Q.target.close()},P(Y),W(S)}})}function de(S){return ae(S,!1)}function Ve(S){return ae(S,!0)}function ue(S,L){if(!S.db)return!0;var P=!S.db.objectStoreNames.contains(S.storeName),k=S.version<S.db.version,H=S.version>S.db.version;if(k&&(S.version!==L&&console.warn('The database "'+S.name+`" can't be downgraded from version `+S.db.version+" to version "+S.version+"."),S.version=S.db.version),H||P){if(P){var U=S.db.version+1;U>S.version&&(S.version=U)}return!0}return!1}function le(S){return new p(function(L,P){var k=new FileReader;k.onerror=P,k.onloadend=function(H){var U=btoa(H.target.result||"");L({__local_forage_encoded_blob:!0,data:U,type:S.type})},k.readAsBinaryString(S)})}function ye(S){var L=R(atob(S.data));return d([L],{type:S.type})}function Le(S){return S&&S.__local_forage_encoded_blob}function ht(S){var L=this,P=L._initReady().then(function(){var k=w[L._dbInfo.name];if(k&&k.dbReady)return k.dbReady});return _(P,S,S),P}function Z(S){M(S);for(var L=w[S.name],P=L.forages,k=0;k<P.length;k++){var H=P[k];H._dbInfo.db&&(H._dbInfo.db.close(),H._dbInfo.db=null)}return S.db=null,de(S).then(function(U){return S.db=U,ue(S)?Ve(S):U}).then(function(U){S.db=L.db=U;for(var Y=0;Y<P.length;Y++)P[Y]._dbInfo.db=U}).catch(function(U){throw he(S,U),U})}function j(S,L,P,k){k===void 0&&(k=1);try{var H=S.db.transaction(S.storeName,L);P(null,H)}catch(U){if(k>0&&(!S.db||U.name==="InvalidStateError"||U.name==="NotFoundError"))return p.resolve().then(function(){if(!S.db||U.name==="NotFoundError"&&!S.db.objectStoreNames.contains(S.storeName)&&S.version<=S.db.version)return S.db&&(S.version=S.db.version+1),Ve(S)}).then(function(){return Z(S).then(function(){j(S,L,P,k-1)})}).catch(P);P(U)}}function re(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function fe(S){var L=this,P={db:null};if(S)for(var k in S)P[k]=S[k];var H=w[P.name];H||(H=re(),w[P.name]=H),H.forages.push(L),L._initReady||(L._initReady=L.ready,L.ready=ht);var U=[];function Y(){return p.resolve()}for(var Q=0;Q<H.forages.length;Q++){var ee=H.forages[Q];ee!==L&&U.push(ee._initReady().catch(Y))}var te=H.forages.slice(0);return p.all(U).then(function(){return P.db=H.db,de(P)}).then(function(ie){return P.db=ie,ue(P,L._defaultConfig.version)?Ve(P):ie}).then(function(ie){P.db=H.db=ie,L._dbInfo=P;for(var me=0;me<te.length;me++){var He=te[me];He!==L&&(He._dbInfo.db=P.db,He._dbInfo.version=P.version)}})}function Ee(S,L){var P=this;S=y(S);var k=new p(function(H,U){P.ready().then(function(){j(P._dbInfo,A,function(Y,Q){if(Y)return U(Y);try{var ee=Q.objectStore(P._dbInfo.storeName),te=ee.get(S);te.onsuccess=function(){var ie=te.result;ie===void 0&&(ie=null),Le(ie)&&(ie=ye(ie)),H(ie)},te.onerror=function(){U(te.error)}}catch(ie){U(ie)}})}).catch(U)});return v(k,L),k}function Ae(S,L){var P=this,k=new p(function(H,U){P.ready().then(function(){j(P._dbInfo,A,function(Y,Q){if(Y)return U(Y);try{var ee=Q.objectStore(P._dbInfo.storeName),te=ee.openCursor(),ie=1;te.onsuccess=function(){var me=te.result;if(me){var He=me.value;Le(He)&&(He=ye(He));var tt=S(He,me.key,ie++);tt!==void 0?H(tt):me.continue()}else H()},te.onerror=function(){U(te.error)}}catch(me){U(me)}})}).catch(U)});return v(k,L),k}function Be(S,L,P){var k=this;S=y(S);var H=new p(function(U,Y){var Q;k.ready().then(function(){return Q=k._dbInfo,I.call(L)==="[object Blob]"?$(Q.db).then(function(ee){return ee?L:le(L)}):L}).then(function(ee){j(k._dbInfo,N,function(te,ie){if(te)return Y(te);try{var me=ie.objectStore(k._dbInfo.storeName);ee===null&&(ee=void 0);var He=me.put(ee,S);ie.oncomplete=function(){ee===void 0&&(ee=null),U(ee)},ie.onabort=ie.onerror=function(){var tt=He.error?He.error:He.transaction.error;Y(tt)}}catch(tt){Y(tt)}})}).catch(Y)});return v(H,P),H}function ot(S,L){var P=this;S=y(S);var k=new p(function(H,U){P.ready().then(function(){j(P._dbInfo,N,function(Y,Q){if(Y)return U(Y);try{var ee=Q.objectStore(P._dbInfo.storeName),te=ee.delete(S);Q.oncomplete=function(){H()},Q.onerror=function(){U(te.error)},Q.onabort=function(){var ie=te.error?te.error:te.transaction.error;U(ie)}}catch(ie){U(ie)}})}).catch(U)});return v(k,L),k}function at(S){var L=this,P=new p(function(k,H){L.ready().then(function(){j(L._dbInfo,N,function(U,Y){if(U)return H(U);try{var Q=Y.objectStore(L._dbInfo.storeName),ee=Q.clear();Y.oncomplete=function(){k()},Y.onabort=Y.onerror=function(){var te=ee.error?ee.error:ee.transaction.error;H(te)}}catch(te){H(te)}})}).catch(H)});return v(P,S),P}function We(S){var L=this,P=new p(function(k,H){L.ready().then(function(){j(L._dbInfo,A,function(U,Y){if(U)return H(U);try{var Q=Y.objectStore(L._dbInfo.storeName),ee=Q.count();ee.onsuccess=function(){k(ee.result)},ee.onerror=function(){H(ee.error)}}catch(te){H(te)}})}).catch(H)});return v(P,S),P}function Et(S,L){var P=this,k=new p(function(H,U){if(S<0){H(null);return}P.ready().then(function(){j(P._dbInfo,A,function(Y,Q){if(Y)return U(Y);try{var ee=Q.objectStore(P._dbInfo.storeName),te=!1,ie=ee.openKeyCursor();ie.onsuccess=function(){var me=ie.result;if(!me){H(null);return}S===0||te?H(me.key):(te=!0,me.advance(S))},ie.onerror=function(){U(ie.error)}}catch(me){U(me)}})}).catch(U)});return v(k,L),k}function qe(S){var L=this,P=new p(function(k,H){L.ready().then(function(){j(L._dbInfo,A,function(U,Y){if(U)return H(U);try{var Q=Y.objectStore(L._dbInfo.storeName),ee=Q.openKeyCursor(),te=[];ee.onsuccess=function(){var ie=ee.result;if(!ie){k(te);return}te.push(ie.key),ie.continue()},ee.onerror=function(){H(ee.error)}}catch(ie){H(ie)}})}).catch(H)});return v(P,S),P}function st(S,L){L=T.apply(this,arguments);var P=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||P.name,S.storeName=S.storeName||P.storeName);var k=this,H;if(!S.name)H=p.reject("Invalid arguments");else{var U=S.name===P.name&&k._dbInfo.db,Y=U?p.resolve(k._dbInfo.db):de(S).then(function(Q){var ee=w[S.name],te=ee.forages;ee.db=Q;for(var ie=0;ie<te.length;ie++)te[ie]._dbInfo.db=Q;return Q});S.storeName?H=Y.then(function(Q){if(!!Q.objectStoreNames.contains(S.storeName)){var ee=Q.version+1;M(S);var te=w[S.name],ie=te.forages;Q.close();for(var me=0;me<ie.length;me++){var He=ie[me];He._dbInfo.db=null,He._dbInfo.version=ee}var tt=new p(function(rt,It){var vt=f.open(S.name,ee);vt.onerror=function(Sr){var Vi=vt.result;Vi.close(),It(Sr)},vt.onupgradeneeded=function(){var Sr=vt.result;Sr.deleteObjectStore(S.storeName)},vt.onsuccess=function(){var Sr=vt.result;Sr.close(),rt(Sr)}});return tt.then(function(rt){te.db=rt;for(var It=0;It<ie.length;It++){var vt=ie[It];vt._dbInfo.db=rt,W(vt._dbInfo)}}).catch(function(rt){throw(he(S,rt)||p.resolve()).catch(function(){}),rt})}}):H=Y.then(function(Q){M(S);var ee=w[S.name],te=ee.forages;Q.close();for(var ie=0;ie<te.length;ie++){var me=te[ie];me._dbInfo.db=null}var He=new p(function(tt,rt){var It=f.deleteDatabase(S.name);It.onerror=function(){var vt=It.result;vt&&vt.close(),rt(It.error)},It.onblocked=function(){console.warn('dropInstance blocked for database "'+S.name+'" until all open connections are closed')},It.onsuccess=function(){var vt=It.result;vt&&vt.close(),tt(vt)}});return He.then(function(tt){ee.db=tt;for(var rt=0;rt<te.length;rt++){var It=te[rt];W(It._dbInfo)}}).catch(function(tt){throw(he(S,tt)||p.resolve()).catch(function(){}),tt})})}return v(H,L),H}var De={_driver:"asyncStorage",_initStorage:fe,_support:c(),iterate:Ae,getItem:Ee,setItem:Be,removeItem:ot,clear:at,length:We,key:Et,keys:qe,dropInstance:st};function ft(){return typeof openDatabase=="function"}var et="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ze="~~local_forage_type~",At=/^~~local_forage_type~([^~]+)~/,Lr="__lfsc__:",jn=Lr.length,sn="arbf",rr="blob",Nn="si08",zn="ui08",of="uic8",$i="si16",af="si32",ji="ur16",pi="ui32",Pa="fl32",Aa="fl64",Oa=jn+sn.length,La=Object.prototype.toString;function Fa(S){var L=S.length*.75,P=S.length,k,H=0,U,Y,Q,ee;S[S.length-1]==="="&&(L--,S[S.length-2]==="="&&L--);var te=new ArrayBuffer(L),ie=new Uint8Array(te);for(k=0;k<P;k+=4)U=et.indexOf(S[k]),Y=et.indexOf(S[k+1]),Q=et.indexOf(S[k+2]),ee=et.indexOf(S[k+3]),ie[H++]=U<<2|Y>>4,ie[H++]=(Y&15)<<4|Q>>2,ie[H++]=(Q&3)<<6|ee&63;return te}function Bo(S){var L=new Uint8Array(S),P="",k;for(k=0;k<L.length;k+=3)P+=et[L[k]>>2],P+=et[(L[k]&3)<<4|L[k+1]>>4],P+=et[(L[k+1]&15)<<2|L[k+2]>>6],P+=et[L[k+2]&63];return L.length%3===2?P=P.substring(0,P.length-1)+"=":L.length%3===1&&(P=P.substring(0,P.length-2)+"=="),P}function au(S,L){var P="";if(S&&(P=La.call(S)),S&&(P==="[object ArrayBuffer]"||S.buffer&&La.call(S.buffer)==="[object ArrayBuffer]")){var k,H=Lr;S instanceof ArrayBuffer?(k=S,H+=sn):(k=S.buffer,P==="[object Int8Array]"?H+=Nn:P==="[object Uint8Array]"?H+=zn:P==="[object Uint8ClampedArray]"?H+=of:P==="[object Int16Array]"?H+=$i:P==="[object Uint16Array]"?H+=ji:P==="[object Int32Array]"?H+=af:P==="[object Uint32Array]"?H+=pi:P==="[object Float32Array]"?H+=Pa:P==="[object Float64Array]"?H+=Aa:L(new Error("Failed to get type for BinaryArray"))),L(H+Bo(k))}else if(P==="[object Blob]"){var U=new FileReader;U.onload=function(){var Y=ze+S.type+"~"+Bo(this.result);L(Lr+rr+Y)},U.readAsArrayBuffer(S)}else try{L(JSON.stringify(S))}catch(Y){console.error("Couldn't convert value into a JSON string: ",S),L(null,Y)}}function su(S){if(S.substring(0,jn)!==Lr)return JSON.parse(S);var L=S.substring(Oa),P=S.substring(jn,Oa),k;if(P===rr&&At.test(L)){var H=L.match(At);k=H[1],L=L.substring(H[0].length)}var U=Fa(L);switch(P){case sn:return U;case rr:return d([U],{type:k});case Nn:return new Int8Array(U);case zn:return new Uint8Array(U);case of:return new Uint8ClampedArray(U);case $i:return new Int16Array(U);case ji:return new Uint16Array(U);case af:return new Int32Array(U);case pi:return new Uint32Array(U);case Pa:return new Float32Array(U);case Aa:return new Float64Array(U);default:throw new Error("Unkown type: "+P)}}var Mo={serialize:au,deserialize:su,stringToBuffer:Fa,bufferToString:Bo};function sf(S,L,P,k){S.executeSql("CREATE TABLE IF NOT EXISTS "+L.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],P,k)}function Qd(S){var L=this,P={db:null};if(S)for(var k in S)P[k]=typeof S[k]!="string"?S[k].toString():S[k];var H=new p(function(U,Y){try{P.db=openDatabase(P.name,String(P.version),P.description,P.size)}catch(Q){return Y(Q)}P.db.transaction(function(Q){sf(Q,P,function(){L._dbInfo=P,U()},function(ee,te){Y(te)})},Y)});return P.serializer=Mo,H}function Vn(S,L,P,k,H,U){S.executeSql(P,k,H,function(Y,Q){Q.code===Q.SYNTAX_ERR?Y.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[L.storeName],function(ee,te){te.rows.length?U(ee,Q):sf(ee,L,function(){ee.executeSql(P,k,H,U)},U)},U):U(Y,Q)},U)}function uf(S,L){var P=this;S=y(S);var k=new p(function(H,U){P.ready().then(function(){var Y=P._dbInfo;Y.db.transaction(function(Q){Vn(Q,Y,"SELECT * FROM "+Y.storeName+" WHERE key = ? LIMIT 1",[S],function(ee,te){var ie=te.rows.length?te.rows.item(0).value:null;ie&&(ie=Y.serializer.deserialize(ie)),H(ie)},function(ee,te){U(te)})})}).catch(U)});return v(k,L),k}function lf(S,L){var P=this,k=new p(function(H,U){P.ready().then(function(){var Y=P._dbInfo;Y.db.transaction(function(Q){Vn(Q,Y,"SELECT * FROM "+Y.storeName,[],function(ee,te){for(var ie=te.rows,me=ie.length,He=0;He<me;He++){var tt=ie.item(He),rt=tt.value;if(rt&&(rt=Y.serializer.deserialize(rt)),rt=S(rt,tt.key,He+1),rt!==void 0){H(rt);return}}H()},function(ee,te){U(te)})})}).catch(U)});return v(k,L),k}function ff(S,L,P,k){var H=this;S=y(S);var U=new p(function(Y,Q){H.ready().then(function(){L===void 0&&(L=null);var ee=L,te=H._dbInfo;te.serializer.serialize(L,function(ie,me){me?Q(me):te.db.transaction(function(He){Vn(He,te,"INSERT OR REPLACE INTO "+te.storeName+" (key, value) VALUES (?, ?)",[S,ie],function(){Y(ee)},function(tt,rt){Q(rt)})},function(He){if(He.code===He.QUOTA_ERR){if(k>0){Y(ff.apply(H,[S,ee,P,k-1]));return}Q(He)}})})}).catch(Q)});return v(U,P),U}function ep(S,L,P){return ff.apply(this,[S,L,P,1])}function tp(S,L){var P=this;S=y(S);var k=new p(function(H,U){P.ready().then(function(){var Y=P._dbInfo;Y.db.transaction(function(Q){Vn(Q,Y,"DELETE FROM "+Y.storeName+" WHERE key = ?",[S],function(){H()},function(ee,te){U(te)})})}).catch(U)});return v(k,L),k}function rp(S){var L=this,P=new p(function(k,H){L.ready().then(function(){var U=L._dbInfo;U.db.transaction(function(Y){Vn(Y,U,"DELETE FROM "+U.storeName,[],function(){k()},function(Q,ee){H(ee)})})}).catch(H)});return v(P,S),P}function cf(S){var L=this,P=new p(function(k,H){L.ready().then(function(){var U=L._dbInfo;U.db.transaction(function(Y){Vn(Y,U,"SELECT COUNT(key) as c FROM "+U.storeName,[],function(Q,ee){var te=ee.rows.item(0).c;k(te)},function(Q,ee){H(ee)})})}).catch(H)});return v(P,S),P}function np(S,L){var P=this,k=new p(function(H,U){P.ready().then(function(){var Y=P._dbInfo;Y.db.transaction(function(Q){Vn(Q,Y,"SELECT key FROM "+Y.storeName+" WHERE id = ? LIMIT 1",[S+1],function(ee,te){var ie=te.rows.length?te.rows.item(0).key:null;H(ie)},function(ee,te){U(te)})})}).catch(U)});return v(k,L),k}function ip(S){var L=this,P=new p(function(k,H){L.ready().then(function(){var U=L._dbInfo;U.db.transaction(function(Y){Vn(Y,U,"SELECT key FROM "+U.storeName,[],function(Q,ee){for(var te=[],ie=0;ie<ee.rows.length;ie++)te.push(ee.rows.item(ie).key);k(te)},function(Q,ee){H(ee)})})}).catch(H)});return v(P,S),P}function op(S){return new p(function(L,P){S.transaction(function(k){k.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(H,U){for(var Y=[],Q=0;Q<U.rows.length;Q++)Y.push(U.rows.item(Q).name);L({db:S,storeNames:Y})},function(H,U){P(U)})},function(k){P(k)})})}function uu(S,L){L=T.apply(this,arguments);var P=this.config();S=typeof S!="function"&&S||{},S.name||(S.name=S.name||P.name,S.storeName=S.storeName||P.storeName);var k=this,H;return S.name?H=new p(function(U){var Y;S.name===P.name?Y=k._dbInfo.db:Y=openDatabase(S.name,"","",0),S.storeName?U({db:Y,storeNames:[S.storeName]}):U(op(Y))}).then(function(U){return new p(function(Y,Q){U.db.transaction(function(ee){function te(tt){return new p(function(rt,It){ee.executeSql("DROP TABLE IF EXISTS "+tt,[],function(){rt()},function(vt,Sr){It(Sr)})})}for(var ie=[],me=0,He=U.storeNames.length;me<He;me++)ie.push(te(U.storeNames[me]));p.all(ie).then(function(){Y()}).catch(function(tt){Q(tt)})},function(ee){Q(ee)})})}):H=p.reject("Invalid arguments"),v(H,L),H}var ap={_driver:"webSQLStorage",_initStorage:Qd,_support:ft(),iterate:lf,getItem:uf,setItem:ep,removeItem:tp,clear:rp,length:cf,key:np,keys:ip,dropInstance:uu};function lu(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function hf(S,L){var P=S.name+"/";return S.storeName!==L.storeName&&(P+=S.storeName+"/"),P}function sp(){var S="_localforage_support_test";try{return localStorage.setItem(S,!0),localStorage.removeItem(S),!1}catch{return!0}}function up(){return!sp()||localStorage.length>0}function lp(S){var L=this,P={};if(S)for(var k in S)P[k]=S[k];return P.keyPrefix=hf(S,L._defaultConfig),up()?(L._dbInfo=P,P.serializer=Mo,p.resolve()):p.reject()}function fp(S){var L=this,P=L.ready().then(function(){for(var k=L._dbInfo.keyPrefix,H=localStorage.length-1;H>=0;H--){var U=localStorage.key(H);U.indexOf(k)===0&&localStorage.removeItem(U)}});return v(P,S),P}function cp(S,L){var P=this;S=y(S);var k=P.ready().then(function(){var H=P._dbInfo,U=localStorage.getItem(H.keyPrefix+S);return U&&(U=H.serializer.deserialize(U)),U});return v(k,L),k}function hp(S,L){var P=this,k=P.ready().then(function(){for(var H=P._dbInfo,U=H.keyPrefix,Y=U.length,Q=localStorage.length,ee=1,te=0;te<Q;te++){var ie=localStorage.key(te);if(ie.indexOf(U)===0){var me=localStorage.getItem(ie);if(me&&(me=H.serializer.deserialize(me)),me=S(me,ie.substring(Y),ee++),me!==void 0)return me}}});return v(k,L),k}function dp(S,L){var P=this,k=P.ready().then(function(){var H=P._dbInfo,U;try{U=localStorage.key(S)}catch{U=null}return U&&(U=U.substring(H.keyPrefix.length)),U});return v(k,L),k}function df(S){var L=this,P=L.ready().then(function(){for(var k=L._dbInfo,H=localStorage.length,U=[],Y=0;Y<H;Y++){var Q=localStorage.key(Y);Q.indexOf(k.keyPrefix)===0&&U.push(Q.substring(k.keyPrefix.length))}return U});return v(P,S),P}function pp(S){var L=this,P=L.keys().then(function(k){return k.length});return v(P,S),P}function vp(S,L){var P=this;S=y(S);var k=P.ready().then(function(){var H=P._dbInfo;localStorage.removeItem(H.keyPrefix+S)});return v(k,L),k}function _p(S,L,P){var k=this;S=y(S);var H=k.ready().then(function(){L===void 0&&(L=null);var U=L;return new p(function(Y,Q){var ee=k._dbInfo;ee.serializer.serialize(L,function(te,ie){if(ie)Q(ie);else try{localStorage.setItem(ee.keyPrefix+S,te),Y(U)}catch(me){(me.name==="QuotaExceededError"||me.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Q(me),Q(me)}})})});return v(H,P),H}function mp(S,L){if(L=T.apply(this,arguments),S=typeof S!="function"&&S||{},!S.name){var P=this.config();S.name=S.name||P.name,S.storeName=S.storeName||P.storeName}var k=this,H;return S.name?H=new p(function(U){S.storeName?U(hf(S,k._defaultConfig)):U(S.name+"/")}).then(function(U){for(var Y=localStorage.length-1;Y>=0;Y--){var Q=localStorage.key(Y);Q.indexOf(U)===0&&localStorage.removeItem(Q)}}):H=p.reject("Invalid arguments"),v(H,L),H}var gp={_driver:"localStorageWrapper",_initStorage:lp,_support:lu(),iterate:hp,getItem:cp,setItem:_p,removeItem:vp,clear:fp,length:pp,key:dp,keys:df,dropInstance:mp},yp=function(L,P){return L===P||typeof L=="number"&&typeof P=="number"&&isNaN(L)&&isNaN(P)},Ua=function(L,P){for(var k=L.length,H=0;H<k;){if(yp(L[H],P))return!0;H++}return!1},pf=Array.isArray||function(S){return Object.prototype.toString.call(S)==="[object Array]"},Wn={},vf={},zi={INDEXEDDB:De,WEBSQL:ap,LOCALSTORAGE:gp},xp=[zi.INDEXEDDB._driver,zi.WEBSQL._driver,zi.LOCALSTORAGE._driver],Do=["dropInstance"],ka=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Do),_f={description:"",driver:xp.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Tp(S,L){S[L]=function(){var P=arguments;return S.ready().then(function(){return S[L].apply(S,P)})}}function fu(){for(var S=1;S<arguments.length;S++){var L=arguments[S];if(L)for(var P in L)L.hasOwnProperty(P)&&(pf(L[P])?arguments[0][P]=L[P].slice():arguments[0][P]=L[P])}return arguments[0]}var Ep=function(){function S(L){a(this,S);for(var P in zi)if(zi.hasOwnProperty(P)){var k=zi[P],H=k._driver;this[P]=H,Wn[H]||this.defineDriver(k)}this._defaultConfig=fu({},_f),this._config=fu({},this._defaultConfig,L),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return S.prototype.config=function(P){if((typeof P=="undefined"?"undefined":o(P))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var k in P){if(k==="storeName"&&(P[k]=P[k].replace(/\W/g,"_")),k==="version"&&typeof P[k]!="number")return new Error("Database version must be a number.");this._config[k]=P[k]}return"driver"in P&&P.driver?this.setDriver(this._config.driver):!0}else return typeof P=="string"?this._config[P]:this._config},S.prototype.defineDriver=function(P,k,H){var U=new p(function(Y,Q){try{var ee=P._driver,te=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!P._driver){Q(te);return}for(var ie=ka.concat("_initStorage"),me=0,He=ie.length;me<He;me++){var tt=ie[me],rt=!Ua(Do,tt);if((rt||P[tt])&&typeof P[tt]!="function"){Q(te);return}}var It=function(){for(var Vi=function(gf){return function(){var Sp=new Error("Method "+gf+" is not implemented by the current driver"),yf=p.reject(Sp);return v(yf,arguments[arguments.length-1]),yf}},cu=0,mf=Do.length;cu<mf;cu++){var Ba=Do[cu];P[Ba]||(P[Ba]=Vi(Ba))}};It();var vt=function(Vi){Wn[ee]&&console.info("Redefining LocalForage driver: "+ee),Wn[ee]=P,vf[ee]=Vi,Y()};"_support"in P?P._support&&typeof P._support=="function"?P._support().then(vt,Q):vt(!!P._support):vt(!0)}catch(Sr){Q(Sr)}});return _(U,k,H),U},S.prototype.driver=function(){return this._driver||null},S.prototype.getDriver=function(P,k,H){var U=Wn[P]?p.resolve(Wn[P]):p.reject(new Error("Driver not found."));return _(U,k,H),U},S.prototype.getSerializer=function(P){var k=p.resolve(Mo);return _(k,P),k},S.prototype.ready=function(P){var k=this,H=k._driverSet.then(function(){return k._ready===null&&(k._ready=k._initDriver()),k._ready});return _(H,P,P),H},S.prototype.setDriver=function(P,k,H){var U=this;pf(P)||(P=[P]);var Y=this._getSupportedDrivers(P);function Q(){U._config.driver=U.driver()}function ee(me){return U._extend(me),Q(),U._ready=U._initStorage(U._config),U._ready}function te(me){return function(){var He=0;function tt(){for(;He<me.length;){var rt=me[He];return He++,U._dbInfo=null,U._ready=null,U.getDriver(rt).then(ee).catch(tt)}Q();var It=new Error("No available storage method found.");return U._driverSet=p.reject(It),U._driverSet}return tt()}}var ie=this._driverSet!==null?this._driverSet.catch(function(){return p.resolve()}):p.resolve();return this._driverSet=ie.then(function(){var me=Y[0];return U._dbInfo=null,U._ready=null,U.getDriver(me).then(function(He){U._driver=He._driver,Q(),U._wrapLibraryMethodsWithReady(),U._initDriver=te(Y)})}).catch(function(){Q();var me=new Error("No available storage method found.");return U._driverSet=p.reject(me),U._driverSet}),_(this._driverSet,k,H),this._driverSet},S.prototype.supports=function(P){return!!vf[P]},S.prototype._extend=function(P){fu(this,P)},S.prototype._getSupportedDrivers=function(P){for(var k=[],H=0,U=P.length;H<U;H++){var Y=P[H];this.supports(Y)&&k.push(Y)}return k},S.prototype._wrapLibraryMethodsWithReady=function(){for(var P=0,k=ka.length;P<k;P++)Tp(this,ka[P])},S.prototype.createInstance=function(P){return new S(P)},S}(),wp=new Ep;n.exports=wp},{"3":3}]},{},[4])(4)})})(Ol);const Xs={gameName:"",gameKey:""},_C=[];var Ri=(e=>(e[e.slow=0]="slow",e[e.normal=1]="normal",e[e.fast=2]="fast",e))(Ri||{}),hl=(e=>(e[e.small=0]="small",e[e.medium=1]="medium",e[e.large=2]="large",e))(hl||{});const yB={saveData:[],optionData:{slPage:1,volumeMain:100,textSpeed:Ri.normal,autoSpeed:Ri.normal,textSize:hl.medium,vocalVolume:100,bgmVolume:25}},mC=Y0({name:"userData",initialState:yB,reducers:{setUserData:(e,t)=>{const{key:r,value:n}=t.payload;e[r]=n},resetUserData:(e,t)=>{Object.assign(e,t.payload)},setOptionData:(e,t)=>{const{key:r,value:n}=t.payload;e.optionData[r]=n},setSlPage:(e,t)=>{e.optionData.slPage=t.payload}}}),{setUserData:xB,resetUserData:gC,setOptionData:_n,setSlPage:yC}=mC.actions;var TB=mC.reducer;const gr=xC(()=>{const e=Ue.getState().userData;Ol.exports.setItem(Xs.gameKey,e).then(()=>{lt.info("\u5199\u5165\u672C\u5730\u5B58\u50A8")})},100),Hh=xC(()=>{Ol.exports.getItem(Xs.gameKey).then(e=>{if(!e){gr();return}Ue.dispatch(gC(e))})},100);function xC(e,t){let r;function n(...i){clearTimeout(r);let o;return r=setTimeout(()=>{o=e.apply(n,i)},t),o}return n}const EB=()=>{const e=Ue.getState().userData;Ol.exports.setItem(Xs.gameKey,e).then(()=>{Ol.exports.getItem(Xs.gameKey).then(t=>{if(!t){gr();return}Ue.dispatch(gC(t))}),lt.info("\u540C\u6B65\u672C\u5730\u5B58\u50A8")})};var Bt=(e=>(e[e.Save=0]="Save",e[e.Load=1]="Load",e[e.Option=2]="Option",e))(Bt||{});const wB={showBacklog:!1,showStarter:!0,showTitle:!0,showMenuPanel:!1,showTextBox:!0,currentMenuTag:Bt.Option,titleBg:"",titleBgm:""},TC=Y0({name:"gui",initialState:wB,reducers:{setVisibility:(e,t)=>{Hh();const{component:r,visibility:n}=t.payload;e[r]=n},setMenuPanelTag:(e,t)=>{Hh(),e.currentMenuTag=t.payload},setGuiAsset:(e,t)=>{const{asset:r,value:n}=t.payload;e[r]=n}}}),{setVisibility:tr,setMenuPanelTag:Os,setGuiAsset:xE}=TC.actions;var bB=TC.reducer;const Ue=pB({reducer:{stage:gB,GUI:bB,userData:TB}}),gd=e=>{lt.debug(`\u64AD\u653Ebgm\uFF1A${e}`);let t=document.getElementById("currentBgm");t!==null&&(t.currentTime=0,t.paused||t.pause()),Ue.dispatch(en({key:"bgm",value:e})),setTimeout(()=>{let r=document.getElementById("currentBgm");r!==null&&(r.currentTime=0,r.oncanplay=()=>{r.play()})},1)},EC={currentSentenceId:0,sceneStack:[],currentScene:{sceneName:"",sceneUrl:"",sentenceList:[],assetsList:[],subSceneList:[]}},Oe=EC;var Dt=(e=>(e[e.background=0]="background",e[e.bgm=1]="bgm",e[e.figure=2]="figure",e[e.scene=3]="scene",e[e.tex=4]="tex",e[e.vocal=5]="vocal",e[e.video=6]="video",e))(Dt||{});const Nr=(e,t)=>{if(e.match("http://")||e.match("https://"))return e;{let r;switch(t){case 0:r=`./game/background/${e}`;break;case 3:r=`./game/scene/${e}`;break;case 5:r=`./game/vocal/${e}`;break;case 2:r=`./game/figure/${e}`;break;case 1:r=`./game/bgm/${e}`;break;case 6:r=`./game/video/${e}`;break;default:r="";break}return r}};var K0={exports:{}},wC=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}},SB=wC,Lo=Object.prototype.toString;function Z0(e){return Array.isArray(e)}function $m(e){return typeof e=="undefined"}function CB(e){return e!==null&&!$m(e)&&e.constructor!==null&&!$m(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function bC(e){return Lo.call(e)==="[object ArrayBuffer]"}function IB(e){return Lo.call(e)==="[object FormData]"}function RB(e){var t;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&bC(e.buffer),t}function NB(e){return typeof e=="string"}function PB(e){return typeof e=="number"}function SC(e){return e!==null&&typeof e=="object"}function ah(e){if(Lo.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function AB(e){return Lo.call(e)==="[object Date]"}function OB(e){return Lo.call(e)==="[object File]"}function LB(e){return Lo.call(e)==="[object Blob]"}function CC(e){return Lo.call(e)==="[object Function]"}function FB(e){return SC(e)&&CC(e.pipe)}function UB(e){return Lo.call(e)==="[object URLSearchParams]"}function kB(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function BB(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function J0(e,t){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),Z0(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function jm(){var e={};function t(i,o){ah(e[o])&&ah(i)?e[o]=jm(e[o],i):ah(i)?e[o]=jm({},i):Z0(i)?e[o]=i.slice():e[o]=i}for(var r=0,n=arguments.length;r<n;r++)J0(arguments[r],t);return e}function MB(e,t,r){return J0(t,function(i,o){r&&typeof i=="function"?e[o]=SB(i,r):e[o]=i}),e}function DB(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var $r={isArray:Z0,isArrayBuffer:bC,isBuffer:CB,isFormData:IB,isArrayBufferView:RB,isString:NB,isNumber:PB,isObject:SC,isPlainObject:ah,isUndefined:$m,isDate:AB,isFile:OB,isBlob:LB,isFunction:CC,isStream:FB,isURLSearchParams:UB,isStandardBrowserEnv:BB,forEach:J0,merge:jm,extend:MB,trim:kB,stripBOM:DB},es=$r;function TE(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var IC=function(t,r,n){if(!r)return t;var i;if(n)i=n(r);else if(es.isURLSearchParams(r))i=r.toString();else{var o=[];es.forEach(r,function(f,c){f===null||typeof f=="undefined"||(es.isArray(f)?c=c+"[]":f=[f],es.forEach(f,function(p){es.isDate(p)?p=p.toISOString():es.isObject(p)&&(p=JSON.stringify(p)),o.push(TE(c)+"="+TE(p))}))}),i=o.join("&")}if(i){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t},GB=$r;function yd(){this.handlers=[]}yd.prototype.use=function(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};yd.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};yd.prototype.forEach=function(t){GB.forEach(this.handlers,function(n){n!==null&&t(n)})};var HB=yd,XB=$r,$B=function(t,r){XB.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},RC=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t},NC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jB=RC,PC=function(t,r,n,i,o){var a=new Error(t);return jB(a,r,n,i,o)},zB=PC,VB=function(t,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):r(zB("Request failed with status code "+n.status,n.config,null,n.request,n))},xc=$r,WB=xc.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,a,u){var f=[];f.push(r+"="+encodeURIComponent(n)),xc.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),xc.isString(o)&&f.push("path="+o),xc.isString(a)&&f.push("domain="+a),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),YB=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},qB=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},KB=YB,ZB=qB,JB=function(t,r){return t&&!KB(r)?ZB(t,r):r},c_=$r,QB=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],eM=function(t){var r={},n,i,o;return t&&c_.forEach(t.split(`
`),function(u){if(o=u.indexOf(":"),n=c_.trim(u.substr(0,o)).toLowerCase(),i=c_.trim(u.substr(o+1)),n){if(r[n]&&QB.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r},EE=$r,tM=EE.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(a){var u=EE.isString(a)?i(a):a;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}();function Q0(e){this.message=e}Q0.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Q0.prototype.__CANCEL__=!0;var xd=Q0,Tc=$r,rM=VB,nM=WB,iM=IC,oM=JB,aM=eM,sM=tM,h_=PC,uM=NC,lM=xd,wE=function(t){return new Promise(function(n,i){var o=t.data,a=t.headers,u=t.responseType,f;function c(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}Tc.isFormData(o)&&delete a["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(p+":"+v)}var _=oM(t.baseURL,t.url);d.open(t.method.toUpperCase(),iM(_,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function y(){if(!!d){var g="getAllResponseHeaders"in d?aM(d.getAllResponseHeaders()):null,x=!u||u==="text"||u==="json"?d.responseText:d.response,w={data:x,status:d.status,statusText:d.statusText,headers:g,config:t,request:d};rM(function(A){n(A),c()},function(A){i(A),c()},w),d=null}}if("onloadend"in d?d.onloadend=y:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(y)},d.onabort=function(){!d||(i(h_("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){i(h_("Network Error",t,null,d)),d=null},d.ontimeout=function(){var x=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",w=t.transitional||uM;t.timeoutErrorMessage&&(x=t.timeoutErrorMessage),i(h_(x,t,w.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",d)),d=null},Tc.isStandardBrowserEnv()){var T=(t.withCredentials||sM(_))&&t.xsrfCookieName?nM.read(t.xsrfCookieName):void 0;T&&(a[t.xsrfHeaderName]=T)}"setRequestHeader"in d&&Tc.forEach(a,function(x,w){typeof o=="undefined"&&w.toLowerCase()==="content-type"?delete a[w]:d.setRequestHeader(w,x)}),Tc.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),u&&u!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(f=function(g){!d||(i(!g||g&&g.type?new lM("canceled"):g),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f))),o||(o=null),d.send(o)})},fr=$r,bE=$B,fM=RC,cM=NC,hM={"Content-Type":"application/x-www-form-urlencoded"};function SE(e,t){!fr.isUndefined(e)&&fr.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function dM(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=wE),e}function pM(e,t,r){if(fr.isString(e))try{return(t||JSON.parse)(e),fr.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}var Td={transitional:cM,adapter:dM(),transformRequest:[function(t,r){return bE(r,"Accept"),bE(r,"Content-Type"),fr.isFormData(t)||fr.isArrayBuffer(t)||fr.isBuffer(t)||fr.isStream(t)||fr.isFile(t)||fr.isBlob(t)?t:fr.isArrayBufferView(t)?t.buffer:fr.isURLSearchParams(t)?(SE(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):fr.isObject(t)||r&&r["Content-Type"]==="application/json"?(SE(r,"application/json"),pM(t)):t}],transformResponse:[function(t){var r=this.transitional||Td.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&fr.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?fM(a,this,"E_JSON_PARSE"):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};fr.forEach(["delete","get","head"],function(t){Td.headers[t]={}});fr.forEach(["post","put","patch"],function(t){Td.headers[t]=fr.merge(hM)});var ey=Td,vM=$r,_M=ey,mM=function(t,r,n){var i=this||_M;return vM.forEach(n,function(a){t=a.call(i,t,r)}),t},AC=function(t){return!!(t&&t.__CANCEL__)},CE=$r,d_=mM,gM=AC,yM=ey,xM=xd;function p_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xM("canceled")}var TM=function(t){p_(t),t.headers=t.headers||{},t.data=d_.call(t,t.data,t.headers,t.transformRequest),t.headers=CE.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),CE.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||yM.adapter;return r(t).then(function(i){return p_(t),i.data=d_.call(t,i.data,i.headers,t.transformResponse),i},function(i){return gM(i)||(p_(t),i&&i.response&&(i.response.data=d_.call(t,i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Jr=$r,OC=function(t,r){r=r||{};var n={};function i(d,p){return Jr.isPlainObject(d)&&Jr.isPlainObject(p)?Jr.merge(d,p):Jr.isPlainObject(p)?Jr.merge({},p):Jr.isArray(p)?p.slice():p}function o(d){if(Jr.isUndefined(r[d])){if(!Jr.isUndefined(t[d]))return i(void 0,t[d])}else return i(t[d],r[d])}function a(d){if(!Jr.isUndefined(r[d]))return i(void 0,r[d])}function u(d){if(Jr.isUndefined(r[d])){if(!Jr.isUndefined(t[d]))return i(void 0,t[d])}else return i(void 0,r[d])}function f(d){if(d in r)return i(t[d],r[d]);if(d in t)return i(void 0,t[d])}var c={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f};return Jr.forEach(Object.keys(t).concat(Object.keys(r)),function(p){var v=c[p]||o,_=v(p);Jr.isUndefined(_)&&v!==f||(n[p]=_)}),n},LC={version:"0.26.1"},EM=LC.version,ty={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){ty[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var IE={};ty.transitional=function(t,r,n){function i(o,a){return"[Axios v"+EM+"] Transitional option '"+o+"'"+a+(n?". "+n:"")}return function(o,a,u){if(t===!1)throw new Error(i(a," has been removed"+(r?" in "+r:"")));return r&&!IE[a]&&(IE[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,a,u):!0}};function wM(e,t,r){if(typeof e!="object")throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],a=t[o];if(a){var u=e[o],f=u===void 0||a(u,o,e);if(f!==!0)throw new TypeError("option "+o+" must be "+f);continue}if(r!==!0)throw Error("Unknown option "+o)}}var bM={assertOptions:wM,validators:ty},FC=$r,SM=IC,RE=HB,NE=TM,Ed=OC,UC=bM,ts=UC.validators;function Ql(e){this.defaults=e,this.interceptors={request:new RE,response:new RE}}Ql.prototype.request=function(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Ed(this.defaults,r),r.method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var n=r.transitional;n!==void 0&&UC.assertOptions(n,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(o=o&&_.synchronous,i.unshift(_.fulfilled,_.rejected))});var a=[];this.interceptors.response.forEach(function(_){a.push(_.fulfilled,_.rejected)});var u;if(!o){var f=[NE,void 0];for(Array.prototype.unshift.apply(f,i),f=f.concat(a),u=Promise.resolve(r);f.length;)u=u.then(f.shift(),f.shift());return u}for(var c=r;i.length;){var d=i.shift(),p=i.shift();try{c=d(c)}catch(v){p(v);break}}try{u=NE(c)}catch(v){return Promise.reject(v)}for(;a.length;)u=u.then(a.shift(),a.shift());return u};Ql.prototype.getUri=function(t){return t=Ed(this.defaults,t),SM(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")};FC.forEach(["delete","get","head","options"],function(t){Ql.prototype[t]=function(r,n){return this.request(Ed(n||{},{method:t,url:r,data:(n||{}).data}))}});FC.forEach(["post","put","patch"],function(t){Ql.prototype[t]=function(r,n,i){return this.request(Ed(i||{},{method:t,url:r,data:n}))}});var CM=Ql,IM=xd;function $s(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(i){t=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(a){r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i){r.reason||(r.reason=new IM(i),t(r.reason))})}$s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};$s.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};$s.prototype.unsubscribe=function(t){if(!!this._listeners){var r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}};$s.source=function(){var t,r=new $s(function(i){t=i});return{token:r,cancel:t}};var RM=$s,NM=function(t){return function(n){return t.apply(null,n)}},PM=$r,AM=function(t){return PM.isObject(t)&&t.isAxiosError===!0},PE=$r,OM=wC,sh=CM,LM=OC,FM=ey;function kC(e){var t=new sh(e),r=OM(sh.prototype.request,t);return PE.extend(r,sh.prototype,t),PE.extend(r,t),r.create=function(i){return kC(LM(e,i))},r}var ci=kC(FM);ci.Axios=sh;ci.Cancel=xd;ci.CancelToken=RM;ci.isCancel=AC;ci.VERSION=LC.version;ci.all=function(t){return Promise.all(t)};ci.spread=NM;ci.isAxiosError=AM;K0.exports=ci;K0.exports.default=ci;var BC=K0.exports;const hi=e=>new Promise(t=>{BC.get(e).then(r=>{const n=r.data.toString();t(n)})});var se=(e=>(e[e.say=0]="say",e[e.changeBg=1]="changeBg",e[e.changeFigure=2]="changeFigure",e[e.bgm=3]="bgm",e[e.video=4]="video",e[e.pixi=5]="pixi",e[e.pixiInit=6]="pixiInit",e[e.intro=7]="intro",e[e.miniAvatar=8]="miniAvatar",e[e.changeScene=9]="changeScene",e[e.choose=10]="choose",e[e.end=11]="end",e[e.perform_bgAni=12]="perform_bgAni",e[e.perform_FigAni=13]="perform_FigAni",e[e.setBgTransform=14]="setBgTransform",e[e.setFigTransform=15]="setFigTransform",e[e.setBgFilter=16]="setBgFilter",e[e.setFigFilter=17]="setFigFilter",e[e.label=18]="label",e[e.jumpLabel=19]="jumpLabel",e[e.chooseLabel=20]="chooseLabel",e[e.setVar=21]="setVar",e[e.if=22]="if",e[e.callScene=23]="callScene",e))(se||{});const v_=e=>{let t={type:se.say,additionalArgs:[]};const r=UM(e);return t.type=r,r===se.say&&t.additionalArgs.push({key:"speaker",value:e}),t=kM(t,r),t};function UM(e){if(e.match(/if/))return se.if;switch(e){case"intro":return se.intro;case"changeBg":return se.changeBg;case"changeFigure":return se.changeFigure;case"miniAvatar":return se.miniAvatar;case"changeScene":return se.changeScene;case"choose":return se.choose;case"end":return se.end;case"bgm":return se.bgm;case"playVideo":return se.video;case"setBgAni":return se.perform_bgAni;case"setFigAni":return se.perform_FigAni;case"setBgTransform":return se.setBgTransform;case"setBgFilter":return se.setBgFilter;case"setFigTransform":return se.setFigTransform;case"setFigFilter":return se.setFigFilter;case"pixiInit":return se.pixiInit;case"pixiPerform":return se.pixi;case"label":return se.label;case"jumpLabel":return se.jumpLabel;case"chooseLabel":return se.chooseLabel;case"setVar":return se.setVar;case"callScene":return se.callScene;default:return se.say}}function kM(e,t){return[se.bgm,se.pixi,se.pixiInit,se.label,se.if,se.miniAvatar,se.setBgTransform,se.setBgFilter,se.setFigFilter,se.setFigTransform,se.perform_FigAni,se.perform_bgAni].includes(t)&&e.additionalArgs.push({key:"next",value:!0}),e}const BM=e=>{const t=[];let n=e.replace(/ /g,"").split("-");return n=n.filter(i=>i!==""),n.forEach(i=>{const o=i.split("=")[0],a=i.split("=")[1];i.match(/.ogg|.mp3|.wav/)?t.push({key:"vocal",value:Nr(i,Dt.vocal)}):a===void 0?t.push({key:o,value:!0}):a==="true"||a==="false"?t.push({key:o,value:a==="true"}):isNaN(Number(a))?t.push({key:o,value:a}):t.push({key:o,value:Number(a)})}),t},MM=(e,t)=>{if(e==="none"||e==="")return"";switch(t){case se.changeBg:return Nr(e,Dt.background);case se.changeFigure:return Nr(e,Dt.figure);case se.bgm:return Nr(e,Dt.bgm);case se.callScene:return Nr(e,Dt.scene);case se.changeScene:return Nr(e,Dt.scene);case se.miniAvatar:return Nr(e,Dt.figure);case se.video:return Nr(e,Dt.video);case se.choose:return DM(e);default:return e}};function DM(e){const t=e.split("|"),r=[],n=[];for(const a of t)r.push(a.split(":")[0]),n.push(a.split(":")[1]);const i=n.map(a=>a.match(/\./)?Nr(a,Dt.scene):a);let o="";for(let a=0;a<r.length;a++)a!==0&&(o=o+"|"),o=o+`${r[a]}:${i[a]}`;return o}const GM=(e,t,r)=>{const n=[];return e===se.say&&r.forEach(i=>{i.key==="vocal"&&n.push({name:i.value,url:i.value,lineNumber:0,type:Dt.vocal})}),t==="none"||t===""||(e===se.changeBg&&n.push({name:t,url:t,lineNumber:0,type:Dt.background}),e===se.changeFigure&&n.push({name:t,url:t,lineNumber:0,type:Dt.figure}),e===se.miniAvatar&&n.push({name:t,url:t,lineNumber:0,type:Dt.figure}),e===se.video&&n.push({name:t,url:t,lineNumber:0,type:Dt.video}),e===se.bgm&&n.push({name:t,url:t,lineNumber:0,type:Dt.bgm})),n},HM=(e,t)=>{const r=[];return(e===se.changeScene||e===se.callScene)&&r.push(t),e===se.choose&&t.split("|").map(o=>o.split(":")[1]).forEach(o=>{o.match(/\./)&&r.push(o)}),r},XM=e=>{let t,r,n;const i=[];let o,a,u,f=e.split(";")[0];const c=/:/.exec(f);if(c===null){const p=/ /.exec(f);if(p){u=f.substring(0,p.index),f=f.substring(p.index,f.length),a=v_(u),t=a.type;for(const v of a.additionalArgs)i.push(v)}else if(u=f.substring(0,f.length),f=f.substring(0,f.length),a=v_(u),t=a.type,t!==se.say)for(const v of a.additionalArgs)i.push(v)}else{u=f.substring(0,c.index),f=f.substring(c.index+1,f.length),a=v_(u),t=a.type;for(const p of a.additionalArgs)i.push(p)}const d=/ -/.exec(f);if(d){const p=f.substring(d.index,e.length);f=f.substring(0,d.index);for(const v of BM(p))i.push(v)}return r=MM(f,t),o=GM(t,r,i),n=HM(t,r),{command:t,commandRaw:u,content:r,args:i,sentenceAssets:o,subScene:n}},$M=e=>{for(const t of e){const r=document.createElement("link");r.setAttribute("rel","prefetch"),r.setAttribute("href",t.url);const n=document.getElementsByTagName("head");n.length&&n[0].appendChild(r)}},jM=e=>{for(const t of e)_C.includes(t)||hi(t).then(r=>{di(r,t,t)})};var Gr={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(e,t){(function(){var r,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",p=1,v=2,_=4,y=1,T=2,g=1,x=2,w=4,I=8,A=16,N=32,R=64,B=128,$=256,M=512,W=30,he="...",ae=800,de=16,Ve=1,ue=2,le=3,ye=1/0,Le=9007199254740991,ht=17976931348623157e292,Z=0/0,j=4294967295,re=j-1,fe=j>>>1,Ee=[["ary",B],["bind",g],["bindKey",x],["curry",I],["curryRight",A],["flip",M],["partial",N],["partialRight",R],["rearg",$]],Ae="[object Arguments]",Be="[object Array]",ot="[object AsyncFunction]",at="[object Boolean]",We="[object Date]",Et="[object DOMException]",qe="[object Error]",st="[object Function]",De="[object GeneratorFunction]",ft="[object Map]",et="[object Number]",ze="[object Null]",At="[object Object]",Lr="[object Promise]",jn="[object Proxy]",sn="[object RegExp]",rr="[object Set]",Nn="[object String]",zn="[object Symbol]",of="[object Undefined]",$i="[object WeakMap]",af="[object WeakSet]",ji="[object ArrayBuffer]",pi="[object DataView]",Pa="[object Float32Array]",Aa="[object Float64Array]",Oa="[object Int8Array]",La="[object Int16Array]",Fa="[object Int32Array]",Bo="[object Uint8Array]",au="[object Uint8ClampedArray]",su="[object Uint16Array]",Mo="[object Uint32Array]",sf=/\b__p \+= '';/g,Qd=/\b(__p \+=) '' \+/g,Vn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,uf=/&(?:amp|lt|gt|quot|#39);/g,lf=/[&<>"']/g,ff=RegExp(uf.source),ep=RegExp(lf.source),tp=/<%-([\s\S]+?)%>/g,rp=/<%([\s\S]+?)%>/g,cf=/<%=([\s\S]+?)%>/g,np=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ip=/^\w*$/,op=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uu=/[\\^$.*+?()[\]{}|]/g,ap=RegExp(uu.source),lu=/^\s+/,hf=/\s/,sp=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,up=/\{\n\/\* \[wrapped with (.+)\] \*/,lp=/,? & /,fp=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,cp=/[()=,{}\[\]\/\s]/,hp=/\\(\\)?/g,dp=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,df=/\w*$/,pp=/^[-+]0x[0-9a-f]+$/i,vp=/^0b[01]+$/i,_p=/^\[object .+?Constructor\]$/,mp=/^0o[0-7]+$/i,gp=/^(?:0|[1-9]\d*)$/,yp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ua=/($^)/,pf=/['\n\r\u2028\u2029\\]/g,Wn="\\ud800-\\udfff",vf="\\u0300-\\u036f",zi="\\ufe20-\\ufe2f",xp="\\u20d0-\\u20ff",Do=vf+zi+xp,ka="\\u2700-\\u27bf",_f="a-z\\xdf-\\xf6\\xf8-\\xff",Tp="\\xac\\xb1\\xd7\\xf7",fu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ep="\\u2000-\\u206f",wp=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",S="A-Z\\xc0-\\xd6\\xd8-\\xde",L="\\ufe0e\\ufe0f",P=Tp+fu+Ep+wp,k="['\u2019]",H="["+Wn+"]",U="["+P+"]",Y="["+Do+"]",Q="\\d+",ee="["+ka+"]",te="["+_f+"]",ie="[^"+Wn+P+Q+ka+_f+S+"]",me="\\ud83c[\\udffb-\\udfff]",He="(?:"+Y+"|"+me+")",tt="[^"+Wn+"]",rt="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",vt="["+S+"]",Sr="\\u200d",Vi="(?:"+te+"|"+ie+")",cu="(?:"+vt+"|"+ie+")",mf="(?:"+k+"(?:d|ll|m|re|s|t|ve))?",Ba="(?:"+k+"(?:D|LL|M|RE|S|T|VE))?",bp=He+"?",gf="["+L+"]?",Sp="(?:"+Sr+"(?:"+[tt,rt,It].join("|")+")"+gf+bp+")*",yf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yR="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ey=gf+bp+Sp,xR="(?:"+[ee,rt,It].join("|")+")"+Ey,TR="(?:"+[tt+Y+"?",Y,rt,It,H].join("|")+")",ER=RegExp(k,"g"),wR=RegExp(Y,"g"),Cp=RegExp(me+"(?="+me+")|"+TR+Ey,"g"),bR=RegExp([vt+"?"+te+"+"+mf+"(?="+[U,vt,"$"].join("|")+")",cu+"+"+Ba+"(?="+[U,vt+Vi,"$"].join("|")+")",vt+"?"+Vi+"+"+mf,vt+"+"+Ba,yR,yf,Q,xR].join("|"),"g"),SR=RegExp("["+Sr+Wn+Do+L+"]"),CR=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,IR=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],RR=-1,wt={};wt[Pa]=wt[Aa]=wt[Oa]=wt[La]=wt[Fa]=wt[Bo]=wt[au]=wt[su]=wt[Mo]=!0,wt[Ae]=wt[Be]=wt[ji]=wt[at]=wt[pi]=wt[We]=wt[qe]=wt[st]=wt[ft]=wt[et]=wt[At]=wt[sn]=wt[rr]=wt[Nn]=wt[$i]=!1;var yt={};yt[Ae]=yt[Be]=yt[ji]=yt[pi]=yt[at]=yt[We]=yt[Pa]=yt[Aa]=yt[Oa]=yt[La]=yt[Fa]=yt[ft]=yt[et]=yt[At]=yt[sn]=yt[rr]=yt[Nn]=yt[zn]=yt[Bo]=yt[au]=yt[su]=yt[Mo]=!0,yt[qe]=yt[st]=yt[$i]=!1;var NR={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},PR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},AR={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},OR={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},LR=parseFloat,FR=parseInt,wy=typeof gn=="object"&&gn&&gn.Object===Object&&gn,UR=typeof self=="object"&&self&&self.Object===Object&&self,sr=wy||UR||Function("return this")(),Ip=t&&!t.nodeType&&t,Go=Ip&&!0&&e&&!e.nodeType&&e,by=Go&&Go.exports===Ip,Rp=by&&wy.process,un=function(){try{var D=Go&&Go.require&&Go.require("util").types;return D||Rp&&Rp.binding&&Rp.binding("util")}catch{}}(),Sy=un&&un.isArrayBuffer,Cy=un&&un.isDate,Iy=un&&un.isMap,Ry=un&&un.isRegExp,Ny=un&&un.isSet,Py=un&&un.isTypedArray;function zr(D,V,z){switch(z.length){case 0:return D.call(V);case 1:return D.call(V,z[0]);case 2:return D.call(V,z[0],z[1]);case 3:return D.call(V,z[0],z[1],z[2])}return D.apply(V,z)}function kR(D,V,z,pe){for(var ke=-1,ut=D==null?0:D.length;++ke<ut;){var Zt=D[ke];V(pe,Zt,z(Zt),D)}return pe}function ln(D,V){for(var z=-1,pe=D==null?0:D.length;++z<pe&&V(D[z],z,D)!==!1;);return D}function BR(D,V){for(var z=D==null?0:D.length;z--&&V(D[z],z,D)!==!1;);return D}function Ay(D,V){for(var z=-1,pe=D==null?0:D.length;++z<pe;)if(!V(D[z],z,D))return!1;return!0}function Wi(D,V){for(var z=-1,pe=D==null?0:D.length,ke=0,ut=[];++z<pe;){var Zt=D[z];V(Zt,z,D)&&(ut[ke++]=Zt)}return ut}function xf(D,V){var z=D==null?0:D.length;return!!z&&Ma(D,V,0)>-1}function Np(D,V,z){for(var pe=-1,ke=D==null?0:D.length;++pe<ke;)if(z(V,D[pe]))return!0;return!1}function Rt(D,V){for(var z=-1,pe=D==null?0:D.length,ke=Array(pe);++z<pe;)ke[z]=V(D[z],z,D);return ke}function Yi(D,V){for(var z=-1,pe=V.length,ke=D.length;++z<pe;)D[ke+z]=V[z];return D}function Pp(D,V,z,pe){var ke=-1,ut=D==null?0:D.length;for(pe&&ut&&(z=D[++ke]);++ke<ut;)z=V(z,D[ke],ke,D);return z}function MR(D,V,z,pe){var ke=D==null?0:D.length;for(pe&&ke&&(z=D[--ke]);ke--;)z=V(z,D[ke],ke,D);return z}function Ap(D,V){for(var z=-1,pe=D==null?0:D.length;++z<pe;)if(V(D[z],z,D))return!0;return!1}var DR=Op("length");function GR(D){return D.split("")}function HR(D){return D.match(fp)||[]}function Oy(D,V,z){var pe;return z(D,function(ke,ut,Zt){if(V(ke,ut,Zt))return pe=ut,!1}),pe}function Tf(D,V,z,pe){for(var ke=D.length,ut=z+(pe?1:-1);pe?ut--:++ut<ke;)if(V(D[ut],ut,D))return ut;return-1}function Ma(D,V,z){return V===V?QR(D,V,z):Tf(D,Ly,z)}function XR(D,V,z,pe){for(var ke=z-1,ut=D.length;++ke<ut;)if(pe(D[ke],V))return ke;return-1}function Ly(D){return D!==D}function Fy(D,V){var z=D==null?0:D.length;return z?Fp(D,V)/z:Z}function Op(D){return function(V){return V==null?r:V[D]}}function Lp(D){return function(V){return D==null?r:D[V]}}function Uy(D,V,z,pe,ke){return ke(D,function(ut,Zt,gt){z=pe?(pe=!1,ut):V(z,ut,Zt,gt)}),z}function $R(D,V){var z=D.length;for(D.sort(V);z--;)D[z]=D[z].value;return D}function Fp(D,V){for(var z,pe=-1,ke=D.length;++pe<ke;){var ut=V(D[pe]);ut!==r&&(z=z===r?ut:z+ut)}return z}function Up(D,V){for(var z=-1,pe=Array(D);++z<D;)pe[z]=V(z);return pe}function jR(D,V){return Rt(V,function(z){return[z,D[z]]})}function ky(D){return D&&D.slice(0,Gy(D)+1).replace(lu,"")}function Vr(D){return function(V){return D(V)}}function kp(D,V){return Rt(V,function(z){return D[z]})}function hu(D,V){return D.has(V)}function By(D,V){for(var z=-1,pe=D.length;++z<pe&&Ma(V,D[z],0)>-1;);return z}function My(D,V){for(var z=D.length;z--&&Ma(V,D[z],0)>-1;);return z}function zR(D,V){for(var z=D.length,pe=0;z--;)D[z]===V&&++pe;return pe}var VR=Lp(NR),WR=Lp(PR);function YR(D){return"\\"+OR[D]}function qR(D,V){return D==null?r:D[V]}function Da(D){return SR.test(D)}function KR(D){return CR.test(D)}function ZR(D){for(var V,z=[];!(V=D.next()).done;)z.push(V.value);return z}function Bp(D){var V=-1,z=Array(D.size);return D.forEach(function(pe,ke){z[++V]=[ke,pe]}),z}function Dy(D,V){return function(z){return D(V(z))}}function qi(D,V){for(var z=-1,pe=D.length,ke=0,ut=[];++z<pe;){var Zt=D[z];(Zt===V||Zt===d)&&(D[z]=d,ut[ke++]=z)}return ut}function Ef(D){var V=-1,z=Array(D.size);return D.forEach(function(pe){z[++V]=pe}),z}function JR(D){var V=-1,z=Array(D.size);return D.forEach(function(pe){z[++V]=[pe,pe]}),z}function QR(D,V,z){for(var pe=z-1,ke=D.length;++pe<ke;)if(D[pe]===V)return pe;return-1}function eN(D,V,z){for(var pe=z+1;pe--;)if(D[pe]===V)return pe;return pe}function Ga(D){return Da(D)?rN(D):DR(D)}function Pn(D){return Da(D)?nN(D):GR(D)}function Gy(D){for(var V=D.length;V--&&hf.test(D.charAt(V)););return V}var tN=Lp(AR);function rN(D){for(var V=Cp.lastIndex=0;Cp.test(D);)++V;return V}function nN(D){return D.match(Cp)||[]}function iN(D){return D.match(bR)||[]}var oN=function D(V){V=V==null?sr:Ha.defaults(sr.Object(),V,Ha.pick(sr,IR));var z=V.Array,pe=V.Date,ke=V.Error,ut=V.Function,Zt=V.Math,gt=V.Object,Mp=V.RegExp,aN=V.String,fn=V.TypeError,wf=z.prototype,sN=ut.prototype,Xa=gt.prototype,bf=V["__core-js_shared__"],Sf=sN.toString,dt=Xa.hasOwnProperty,uN=0,Hy=function(){var s=/[^.]+$/.exec(bf&&bf.keys&&bf.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),Cf=Xa.toString,lN=Sf.call(gt),fN=sr._,cN=Mp("^"+Sf.call(dt).replace(uu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),If=by?V.Buffer:r,Ki=V.Symbol,Rf=V.Uint8Array,Xy=If?If.allocUnsafe:r,Nf=Dy(gt.getPrototypeOf,gt),$y=gt.create,jy=Xa.propertyIsEnumerable,Pf=wf.splice,zy=Ki?Ki.isConcatSpreadable:r,du=Ki?Ki.iterator:r,Ho=Ki?Ki.toStringTag:r,Af=function(){try{var s=Vo(gt,"defineProperty");return s({},"",{}),s}catch{}}(),hN=V.clearTimeout!==sr.clearTimeout&&V.clearTimeout,dN=pe&&pe.now!==sr.Date.now&&pe.now,pN=V.setTimeout!==sr.setTimeout&&V.setTimeout,Of=Zt.ceil,Lf=Zt.floor,Dp=gt.getOwnPropertySymbols,vN=If?If.isBuffer:r,Vy=V.isFinite,_N=wf.join,mN=Dy(gt.keys,gt),Jt=Zt.max,vr=Zt.min,gN=pe.now,yN=V.parseInt,Wy=Zt.random,xN=wf.reverse,Gp=Vo(V,"DataView"),pu=Vo(V,"Map"),Hp=Vo(V,"Promise"),$a=Vo(V,"Set"),vu=Vo(V,"WeakMap"),_u=Vo(gt,"create"),Ff=vu&&new vu,ja={},TN=Wo(Gp),EN=Wo(pu),wN=Wo(Hp),bN=Wo($a),SN=Wo(vu),Uf=Ki?Ki.prototype:r,mu=Uf?Uf.valueOf:r,Yy=Uf?Uf.toString:r;function b(s){if(kt(s)&&!Me(s)&&!(s instanceof Ke)){if(s instanceof cn)return s;if(dt.call(s,"__wrapped__"))return q1(s)}return new cn(s)}var za=function(){function s(){}return function(l){if(!Ot(l))return{};if($y)return $y(l);s.prototype=l;var h=new s;return s.prototype=r,h}}();function kf(){}function cn(s,l){this.__wrapped__=s,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}b.templateSettings={escape:tp,evaluate:rp,interpolate:cf,variable:"",imports:{_:b}},b.prototype=kf.prototype,b.prototype.constructor=b,cn.prototype=za(kf.prototype),cn.prototype.constructor=cn;function Ke(s){this.__wrapped__=s,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function CN(){var s=new Ke(this.__wrapped__);return s.__actions__=Fr(this.__actions__),s.__dir__=this.__dir__,s.__filtered__=this.__filtered__,s.__iteratees__=Fr(this.__iteratees__),s.__takeCount__=this.__takeCount__,s.__views__=Fr(this.__views__),s}function IN(){if(this.__filtered__){var s=new Ke(this);s.__dir__=-1,s.__filtered__=!0}else s=this.clone(),s.__dir__*=-1;return s}function RN(){var s=this.__wrapped__.value(),l=this.__dir__,h=Me(s),m=l<0,E=h?s.length:0,C=GP(0,E,this.__views__),O=C.start,F=C.end,G=F-O,q=m?F:O-1,K=this.__iteratees__,J=K.length,ce=0,ge=vr(G,this.__takeCount__);if(!h||!m&&E==G&&ge==G)return g1(s,this.__actions__);var Re=[];e:for(;G--&&ce<ge;){q+=l;for(var Xe=-1,Ne=s[q];++Xe<J;){var Ye=K[Xe],Je=Ye.iteratee,qr=Ye.type,Rr=Je(Ne);if(qr==ue)Ne=Rr;else if(!Rr){if(qr==Ve)continue e;break e}}Re[ce++]=Ne}return Re}Ke.prototype=za(kf.prototype),Ke.prototype.constructor=Ke;function Xo(s){var l=-1,h=s==null?0:s.length;for(this.clear();++l<h;){var m=s[l];this.set(m[0],m[1])}}function NN(){this.__data__=_u?_u(null):{},this.size=0}function PN(s){var l=this.has(s)&&delete this.__data__[s];return this.size-=l?1:0,l}function AN(s){var l=this.__data__;if(_u){var h=l[s];return h===f?r:h}return dt.call(l,s)?l[s]:r}function ON(s){var l=this.__data__;return _u?l[s]!==r:dt.call(l,s)}function LN(s,l){var h=this.__data__;return this.size+=this.has(s)?0:1,h[s]=_u&&l===r?f:l,this}Xo.prototype.clear=NN,Xo.prototype.delete=PN,Xo.prototype.get=AN,Xo.prototype.has=ON,Xo.prototype.set=LN;function vi(s){var l=-1,h=s==null?0:s.length;for(this.clear();++l<h;){var m=s[l];this.set(m[0],m[1])}}function FN(){this.__data__=[],this.size=0}function UN(s){var l=this.__data__,h=Bf(l,s);if(h<0)return!1;var m=l.length-1;return h==m?l.pop():Pf.call(l,h,1),--this.size,!0}function kN(s){var l=this.__data__,h=Bf(l,s);return h<0?r:l[h][1]}function BN(s){return Bf(this.__data__,s)>-1}function MN(s,l){var h=this.__data__,m=Bf(h,s);return m<0?(++this.size,h.push([s,l])):h[m][1]=l,this}vi.prototype.clear=FN,vi.prototype.delete=UN,vi.prototype.get=kN,vi.prototype.has=BN,vi.prototype.set=MN;function _i(s){var l=-1,h=s==null?0:s.length;for(this.clear();++l<h;){var m=s[l];this.set(m[0],m[1])}}function DN(){this.size=0,this.__data__={hash:new Xo,map:new(pu||vi),string:new Xo}}function GN(s){var l=qf(this,s).delete(s);return this.size-=l?1:0,l}function HN(s){return qf(this,s).get(s)}function XN(s){return qf(this,s).has(s)}function $N(s,l){var h=qf(this,s),m=h.size;return h.set(s,l),this.size+=h.size==m?0:1,this}_i.prototype.clear=DN,_i.prototype.delete=GN,_i.prototype.get=HN,_i.prototype.has=XN,_i.prototype.set=$N;function $o(s){var l=-1,h=s==null?0:s.length;for(this.__data__=new _i;++l<h;)this.add(s[l])}function jN(s){return this.__data__.set(s,f),this}function zN(s){return this.__data__.has(s)}$o.prototype.add=$o.prototype.push=jN,$o.prototype.has=zN;function An(s){var l=this.__data__=new vi(s);this.size=l.size}function VN(){this.__data__=new vi,this.size=0}function WN(s){var l=this.__data__,h=l.delete(s);return this.size=l.size,h}function YN(s){return this.__data__.get(s)}function qN(s){return this.__data__.has(s)}function KN(s,l){var h=this.__data__;if(h instanceof vi){var m=h.__data__;if(!pu||m.length<i-1)return m.push([s,l]),this.size=++h.size,this;h=this.__data__=new _i(m)}return h.set(s,l),this.size=h.size,this}An.prototype.clear=VN,An.prototype.delete=WN,An.prototype.get=YN,An.prototype.has=qN,An.prototype.set=KN;function qy(s,l){var h=Me(s),m=!h&&Yo(s),E=!h&&!m&&to(s),C=!h&&!m&&!E&&qa(s),O=h||m||E||C,F=O?Up(s.length,aN):[],G=F.length;for(var q in s)(l||dt.call(s,q))&&!(O&&(q=="length"||E&&(q=="offset"||q=="parent")||C&&(q=="buffer"||q=="byteLength"||q=="byteOffset")||xi(q,G)))&&F.push(q);return F}function Ky(s){var l=s.length;return l?s[Jp(0,l-1)]:r}function ZN(s,l){return Kf(Fr(s),jo(l,0,s.length))}function JN(s){return Kf(Fr(s))}function Xp(s,l,h){(h!==r&&!On(s[l],h)||h===r&&!(l in s))&&mi(s,l,h)}function gu(s,l,h){var m=s[l];(!(dt.call(s,l)&&On(m,h))||h===r&&!(l in s))&&mi(s,l,h)}function Bf(s,l){for(var h=s.length;h--;)if(On(s[h][0],l))return h;return-1}function QN(s,l,h,m){return Zi(s,function(E,C,O){l(m,E,h(E),O)}),m}function Zy(s,l){return s&&qn(l,nr(l),s)}function eP(s,l){return s&&qn(l,kr(l),s)}function mi(s,l,h){l=="__proto__"&&Af?Af(s,l,{configurable:!0,enumerable:!0,value:h,writable:!0}):s[l]=h}function $p(s,l){for(var h=-1,m=l.length,E=z(m),C=s==null;++h<m;)E[h]=C?r:wv(s,l[h]);return E}function jo(s,l,h){return s===s&&(h!==r&&(s=s<=h?s:h),l!==r&&(s=s>=l?s:l)),s}function hn(s,l,h,m,E,C){var O,F=l&p,G=l&v,q=l&_;if(h&&(O=E?h(s,m,E,C):h(s)),O!==r)return O;if(!Ot(s))return s;var K=Me(s);if(K){if(O=XP(s),!F)return Fr(s,O)}else{var J=_r(s),ce=J==st||J==De;if(to(s))return T1(s,F);if(J==At||J==Ae||ce&&!E){if(O=G||ce?{}:G1(s),!F)return G?AP(s,eP(O,s)):PP(s,Zy(O,s))}else{if(!yt[J])return E?s:{};O=$P(s,J,F)}}C||(C=new An);var ge=C.get(s);if(ge)return ge;C.set(s,O),vx(s)?s.forEach(function(Ne){O.add(hn(Ne,l,h,Ne,s,C))}):dx(s)&&s.forEach(function(Ne,Ye){O.set(Ye,hn(Ne,l,h,Ye,s,C))});var Re=q?G?lv:uv:G?kr:nr,Xe=K?r:Re(s);return ln(Xe||s,function(Ne,Ye){Xe&&(Ye=Ne,Ne=s[Ye]),gu(O,Ye,hn(Ne,l,h,Ye,s,C))}),O}function tP(s){var l=nr(s);return function(h){return Jy(h,s,l)}}function Jy(s,l,h){var m=h.length;if(s==null)return!m;for(s=gt(s);m--;){var E=h[m],C=l[E],O=s[E];if(O===r&&!(E in s)||!C(O))return!1}return!0}function Qy(s,l,h){if(typeof s!="function")throw new fn(a);return Su(function(){s.apply(r,h)},l)}function yu(s,l,h,m){var E=-1,C=xf,O=!0,F=s.length,G=[],q=l.length;if(!F)return G;h&&(l=Rt(l,Vr(h))),m?(C=Np,O=!1):l.length>=i&&(C=hu,O=!1,l=new $o(l));e:for(;++E<F;){var K=s[E],J=h==null?K:h(K);if(K=m||K!==0?K:0,O&&J===J){for(var ce=q;ce--;)if(l[ce]===J)continue e;G.push(K)}else C(l,J,m)||G.push(K)}return G}var Zi=C1(Yn),e1=C1(zp,!0);function rP(s,l){var h=!0;return Zi(s,function(m,E,C){return h=!!l(m,E,C),h}),h}function Mf(s,l,h){for(var m=-1,E=s.length;++m<E;){var C=s[m],O=l(C);if(O!=null&&(F===r?O===O&&!Yr(O):h(O,F)))var F=O,G=C}return G}function nP(s,l,h,m){var E=s.length;for(h=Ge(h),h<0&&(h=-h>E?0:E+h),m=m===r||m>E?E:Ge(m),m<0&&(m+=E),m=h>m?0:mx(m);h<m;)s[h++]=l;return s}function t1(s,l){var h=[];return Zi(s,function(m,E,C){l(m,E,C)&&h.push(m)}),h}function ur(s,l,h,m,E){var C=-1,O=s.length;for(h||(h=zP),E||(E=[]);++C<O;){var F=s[C];l>0&&h(F)?l>1?ur(F,l-1,h,m,E):Yi(E,F):m||(E[E.length]=F)}return E}var jp=I1(),r1=I1(!0);function Yn(s,l){return s&&jp(s,l,nr)}function zp(s,l){return s&&r1(s,l,nr)}function Df(s,l){return Wi(l,function(h){return Ti(s[h])})}function zo(s,l){l=Qi(l,s);for(var h=0,m=l.length;s!=null&&h<m;)s=s[Kn(l[h++])];return h&&h==m?s:r}function n1(s,l,h){var m=l(s);return Me(s)?m:Yi(m,h(s))}function Cr(s){return s==null?s===r?of:ze:Ho&&Ho in gt(s)?DP(s):JP(s)}function Vp(s,l){return s>l}function iP(s,l){return s!=null&&dt.call(s,l)}function oP(s,l){return s!=null&&l in gt(s)}function aP(s,l,h){return s>=vr(l,h)&&s<Jt(l,h)}function Wp(s,l,h){for(var m=h?Np:xf,E=s[0].length,C=s.length,O=C,F=z(C),G=1/0,q=[];O--;){var K=s[O];O&&l&&(K=Rt(K,Vr(l))),G=vr(K.length,G),F[O]=!h&&(l||E>=120&&K.length>=120)?new $o(O&&K):r}K=s[0];var J=-1,ce=F[0];e:for(;++J<E&&q.length<G;){var ge=K[J],Re=l?l(ge):ge;if(ge=h||ge!==0?ge:0,!(ce?hu(ce,Re):m(q,Re,h))){for(O=C;--O;){var Xe=F[O];if(!(Xe?hu(Xe,Re):m(s[O],Re,h)))continue e}ce&&ce.push(Re),q.push(ge)}}return q}function sP(s,l,h,m){return Yn(s,function(E,C,O){l(m,h(E),C,O)}),m}function xu(s,l,h){l=Qi(l,s),s=j1(s,l);var m=s==null?s:s[Kn(pn(l))];return m==null?r:zr(m,s,h)}function i1(s){return kt(s)&&Cr(s)==Ae}function uP(s){return kt(s)&&Cr(s)==ji}function lP(s){return kt(s)&&Cr(s)==We}function Tu(s,l,h,m,E){return s===l?!0:s==null||l==null||!kt(s)&&!kt(l)?s!==s&&l!==l:fP(s,l,h,m,Tu,E)}function fP(s,l,h,m,E,C){var O=Me(s),F=Me(l),G=O?Be:_r(s),q=F?Be:_r(l);G=G==Ae?At:G,q=q==Ae?At:q;var K=G==At,J=q==At,ce=G==q;if(ce&&to(s)){if(!to(l))return!1;O=!0,K=!1}if(ce&&!K)return C||(C=new An),O||qa(s)?B1(s,l,h,m,E,C):BP(s,l,G,h,m,E,C);if(!(h&y)){var ge=K&&dt.call(s,"__wrapped__"),Re=J&&dt.call(l,"__wrapped__");if(ge||Re){var Xe=ge?s.value():s,Ne=Re?l.value():l;return C||(C=new An),E(Xe,Ne,h,m,C)}}return ce?(C||(C=new An),MP(s,l,h,m,E,C)):!1}function cP(s){return kt(s)&&_r(s)==ft}function Yp(s,l,h,m){var E=h.length,C=E,O=!m;if(s==null)return!C;for(s=gt(s);E--;){var F=h[E];if(O&&F[2]?F[1]!==s[F[0]]:!(F[0]in s))return!1}for(;++E<C;){F=h[E];var G=F[0],q=s[G],K=F[1];if(O&&F[2]){if(q===r&&!(G in s))return!1}else{var J=new An;if(m)var ce=m(q,K,G,s,l,J);if(!(ce===r?Tu(K,q,y|T,m,J):ce))return!1}}return!0}function o1(s){if(!Ot(s)||WP(s))return!1;var l=Ti(s)?cN:_p;return l.test(Wo(s))}function hP(s){return kt(s)&&Cr(s)==sn}function dP(s){return kt(s)&&_r(s)==rr}function pP(s){return kt(s)&&rc(s.length)&&!!wt[Cr(s)]}function a1(s){return typeof s=="function"?s:s==null?Br:typeof s=="object"?Me(s)?l1(s[0],s[1]):u1(s):Rx(s)}function qp(s){if(!bu(s))return mN(s);var l=[];for(var h in gt(s))dt.call(s,h)&&h!="constructor"&&l.push(h);return l}function vP(s){if(!Ot(s))return ZP(s);var l=bu(s),h=[];for(var m in s)m=="constructor"&&(l||!dt.call(s,m))||h.push(m);return h}function Kp(s,l){return s<l}function s1(s,l){var h=-1,m=Ur(s)?z(s.length):[];return Zi(s,function(E,C,O){m[++h]=l(E,C,O)}),m}function u1(s){var l=cv(s);return l.length==1&&l[0][2]?X1(l[0][0],l[0][1]):function(h){return h===s||Yp(h,s,l)}}function l1(s,l){return dv(s)&&H1(l)?X1(Kn(s),l):function(h){var m=wv(h,s);return m===r&&m===l?bv(h,s):Tu(l,m,y|T)}}function Gf(s,l,h,m,E){s!==l&&jp(l,function(C,O){if(E||(E=new An),Ot(C))_P(s,l,O,h,Gf,m,E);else{var F=m?m(vv(s,O),C,O+"",s,l,E):r;F===r&&(F=C),Xp(s,O,F)}},kr)}function _P(s,l,h,m,E,C,O){var F=vv(s,h),G=vv(l,h),q=O.get(G);if(q){Xp(s,h,q);return}var K=C?C(F,G,h+"",s,l,O):r,J=K===r;if(J){var ce=Me(G),ge=!ce&&to(G),Re=!ce&&!ge&&qa(G);K=G,ce||ge||Re?Me(F)?K=F:zt(F)?K=Fr(F):ge?(J=!1,K=T1(G,!0)):Re?(J=!1,K=E1(G,!0)):K=[]:Cu(G)||Yo(G)?(K=F,Yo(F)?K=gx(F):(!Ot(F)||Ti(F))&&(K=G1(G))):J=!1}J&&(O.set(G,K),E(K,G,m,C,O),O.delete(G)),Xp(s,h,K)}function f1(s,l){var h=s.length;if(!!h)return l+=l<0?h:0,xi(l,h)?s[l]:r}function c1(s,l,h){l.length?l=Rt(l,function(C){return Me(C)?function(O){return zo(O,C.length===1?C[0]:C)}:C}):l=[Br];var m=-1;l=Rt(l,Vr(Ce()));var E=s1(s,function(C,O,F){var G=Rt(l,function(q){return q(C)});return{criteria:G,index:++m,value:C}});return $R(E,function(C,O){return NP(C,O,h)})}function mP(s,l){return h1(s,l,function(h,m){return bv(s,m)})}function h1(s,l,h){for(var m=-1,E=l.length,C={};++m<E;){var O=l[m],F=zo(s,O);h(F,O)&&Eu(C,Qi(O,s),F)}return C}function gP(s){return function(l){return zo(l,s)}}function Zp(s,l,h,m){var E=m?XR:Ma,C=-1,O=l.length,F=s;for(s===l&&(l=Fr(l)),h&&(F=Rt(s,Vr(h)));++C<O;)for(var G=0,q=l[C],K=h?h(q):q;(G=E(F,K,G,m))>-1;)F!==s&&Pf.call(F,G,1),Pf.call(s,G,1);return s}function d1(s,l){for(var h=s?l.length:0,m=h-1;h--;){var E=l[h];if(h==m||E!==C){var C=E;xi(E)?Pf.call(s,E,1):tv(s,E)}}return s}function Jp(s,l){return s+Lf(Wy()*(l-s+1))}function yP(s,l,h,m){for(var E=-1,C=Jt(Of((l-s)/(h||1)),0),O=z(C);C--;)O[m?C:++E]=s,s+=h;return O}function Qp(s,l){var h="";if(!s||l<1||l>Le)return h;do l%2&&(h+=s),l=Lf(l/2),l&&(s+=s);while(l);return h}function je(s,l){return _v($1(s,l,Br),s+"")}function xP(s){return Ky(Ka(s))}function TP(s,l){var h=Ka(s);return Kf(h,jo(l,0,h.length))}function Eu(s,l,h,m){if(!Ot(s))return s;l=Qi(l,s);for(var E=-1,C=l.length,O=C-1,F=s;F!=null&&++E<C;){var G=Kn(l[E]),q=h;if(G==="__proto__"||G==="constructor"||G==="prototype")return s;if(E!=O){var K=F[G];q=m?m(K,G,F):r,q===r&&(q=Ot(K)?K:xi(l[E+1])?[]:{})}gu(F,G,q),F=F[G]}return s}var p1=Ff?function(s,l){return Ff.set(s,l),s}:Br,EP=Af?function(s,l){return Af(s,"toString",{configurable:!0,enumerable:!1,value:Cv(l),writable:!0})}:Br;function wP(s){return Kf(Ka(s))}function dn(s,l,h){var m=-1,E=s.length;l<0&&(l=-l>E?0:E+l),h=h>E?E:h,h<0&&(h+=E),E=l>h?0:h-l>>>0,l>>>=0;for(var C=z(E);++m<E;)C[m]=s[m+l];return C}function bP(s,l){var h;return Zi(s,function(m,E,C){return h=l(m,E,C),!h}),!!h}function Hf(s,l,h){var m=0,E=s==null?m:s.length;if(typeof l=="number"&&l===l&&E<=fe){for(;m<E;){var C=m+E>>>1,O=s[C];O!==null&&!Yr(O)&&(h?O<=l:O<l)?m=C+1:E=C}return E}return ev(s,l,Br,h)}function ev(s,l,h,m){var E=0,C=s==null?0:s.length;if(C===0)return 0;l=h(l);for(var O=l!==l,F=l===null,G=Yr(l),q=l===r;E<C;){var K=Lf((E+C)/2),J=h(s[K]),ce=J!==r,ge=J===null,Re=J===J,Xe=Yr(J);if(O)var Ne=m||Re;else q?Ne=Re&&(m||ce):F?Ne=Re&&ce&&(m||!ge):G?Ne=Re&&ce&&!ge&&(m||!Xe):ge||Xe?Ne=!1:Ne=m?J<=l:J<l;Ne?E=K+1:C=K}return vr(C,re)}function v1(s,l){for(var h=-1,m=s.length,E=0,C=[];++h<m;){var O=s[h],F=l?l(O):O;if(!h||!On(F,G)){var G=F;C[E++]=O===0?0:O}}return C}function _1(s){return typeof s=="number"?s:Yr(s)?Z:+s}function Wr(s){if(typeof s=="string")return s;if(Me(s))return Rt(s,Wr)+"";if(Yr(s))return Yy?Yy.call(s):"";var l=s+"";return l=="0"&&1/s==-ye?"-0":l}function Ji(s,l,h){var m=-1,E=xf,C=s.length,O=!0,F=[],G=F;if(h)O=!1,E=Np;else if(C>=i){var q=l?null:UP(s);if(q)return Ef(q);O=!1,E=hu,G=new $o}else G=l?[]:F;e:for(;++m<C;){var K=s[m],J=l?l(K):K;if(K=h||K!==0?K:0,O&&J===J){for(var ce=G.length;ce--;)if(G[ce]===J)continue e;l&&G.push(J),F.push(K)}else E(G,J,h)||(G!==F&&G.push(J),F.push(K))}return F}function tv(s,l){return l=Qi(l,s),s=j1(s,l),s==null||delete s[Kn(pn(l))]}function m1(s,l,h,m){return Eu(s,l,h(zo(s,l)),m)}function Xf(s,l,h,m){for(var E=s.length,C=m?E:-1;(m?C--:++C<E)&&l(s[C],C,s););return h?dn(s,m?0:C,m?C+1:E):dn(s,m?C+1:0,m?E:C)}function g1(s,l){var h=s;return h instanceof Ke&&(h=h.value()),Pp(l,function(m,E){return E.func.apply(E.thisArg,Yi([m],E.args))},h)}function rv(s,l,h){var m=s.length;if(m<2)return m?Ji(s[0]):[];for(var E=-1,C=z(m);++E<m;)for(var O=s[E],F=-1;++F<m;)F!=E&&(C[E]=yu(C[E]||O,s[F],l,h));return Ji(ur(C,1),l,h)}function y1(s,l,h){for(var m=-1,E=s.length,C=l.length,O={};++m<E;){var F=m<C?l[m]:r;h(O,s[m],F)}return O}function nv(s){return zt(s)?s:[]}function iv(s){return typeof s=="function"?s:Br}function Qi(s,l){return Me(s)?s:dv(s,l)?[s]:Y1(ct(s))}var SP=je;function eo(s,l,h){var m=s.length;return h=h===r?m:h,!l&&h>=m?s:dn(s,l,h)}var x1=hN||function(s){return sr.clearTimeout(s)};function T1(s,l){if(l)return s.slice();var h=s.length,m=Xy?Xy(h):new s.constructor(h);return s.copy(m),m}function ov(s){var l=new s.constructor(s.byteLength);return new Rf(l).set(new Rf(s)),l}function CP(s,l){var h=l?ov(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.byteLength)}function IP(s){var l=new s.constructor(s.source,df.exec(s));return l.lastIndex=s.lastIndex,l}function RP(s){return mu?gt(mu.call(s)):{}}function E1(s,l){var h=l?ov(s.buffer):s.buffer;return new s.constructor(h,s.byteOffset,s.length)}function w1(s,l){if(s!==l){var h=s!==r,m=s===null,E=s===s,C=Yr(s),O=l!==r,F=l===null,G=l===l,q=Yr(l);if(!F&&!q&&!C&&s>l||C&&O&&G&&!F&&!q||m&&O&&G||!h&&G||!E)return 1;if(!m&&!C&&!q&&s<l||q&&h&&E&&!m&&!C||F&&h&&E||!O&&E||!G)return-1}return 0}function NP(s,l,h){for(var m=-1,E=s.criteria,C=l.criteria,O=E.length,F=h.length;++m<O;){var G=w1(E[m],C[m]);if(G){if(m>=F)return G;var q=h[m];return G*(q=="desc"?-1:1)}}return s.index-l.index}function b1(s,l,h,m){for(var E=-1,C=s.length,O=h.length,F=-1,G=l.length,q=Jt(C-O,0),K=z(G+q),J=!m;++F<G;)K[F]=l[F];for(;++E<O;)(J||E<C)&&(K[h[E]]=s[E]);for(;q--;)K[F++]=s[E++];return K}function S1(s,l,h,m){for(var E=-1,C=s.length,O=-1,F=h.length,G=-1,q=l.length,K=Jt(C-F,0),J=z(K+q),ce=!m;++E<K;)J[E]=s[E];for(var ge=E;++G<q;)J[ge+G]=l[G];for(;++O<F;)(ce||E<C)&&(J[ge+h[O]]=s[E++]);return J}function Fr(s,l){var h=-1,m=s.length;for(l||(l=z(m));++h<m;)l[h]=s[h];return l}function qn(s,l,h,m){var E=!h;h||(h={});for(var C=-1,O=l.length;++C<O;){var F=l[C],G=m?m(h[F],s[F],F,h,s):r;G===r&&(G=s[F]),E?mi(h,F,G):gu(h,F,G)}return h}function PP(s,l){return qn(s,hv(s),l)}function AP(s,l){return qn(s,M1(s),l)}function $f(s,l){return function(h,m){var E=Me(h)?kR:QN,C=l?l():{};return E(h,s,Ce(m,2),C)}}function Va(s){return je(function(l,h){var m=-1,E=h.length,C=E>1?h[E-1]:r,O=E>2?h[2]:r;for(C=s.length>3&&typeof C=="function"?(E--,C):r,O&&Ir(h[0],h[1],O)&&(C=E<3?r:C,E=1),l=gt(l);++m<E;){var F=h[m];F&&s(l,F,m,C)}return l})}function C1(s,l){return function(h,m){if(h==null)return h;if(!Ur(h))return s(h,m);for(var E=h.length,C=l?E:-1,O=gt(h);(l?C--:++C<E)&&m(O[C],C,O)!==!1;);return h}}function I1(s){return function(l,h,m){for(var E=-1,C=gt(l),O=m(l),F=O.length;F--;){var G=O[s?F:++E];if(h(C[G],G,C)===!1)break}return l}}function OP(s,l,h){var m=l&g,E=wu(s);function C(){var O=this&&this!==sr&&this instanceof C?E:s;return O.apply(m?h:this,arguments)}return C}function R1(s){return function(l){l=ct(l);var h=Da(l)?Pn(l):r,m=h?h[0]:l.charAt(0),E=h?eo(h,1).join(""):l.slice(1);return m[s]()+E}}function Wa(s){return function(l){return Pp(Cx(Sx(l).replace(ER,"")),s,"")}}function wu(s){return function(){var l=arguments;switch(l.length){case 0:return new s;case 1:return new s(l[0]);case 2:return new s(l[0],l[1]);case 3:return new s(l[0],l[1],l[2]);case 4:return new s(l[0],l[1],l[2],l[3]);case 5:return new s(l[0],l[1],l[2],l[3],l[4]);case 6:return new s(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new s(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var h=za(s.prototype),m=s.apply(h,l);return Ot(m)?m:h}}function LP(s,l,h){var m=wu(s);function E(){for(var C=arguments.length,O=z(C),F=C,G=Ya(E);F--;)O[F]=arguments[F];var q=C<3&&O[0]!==G&&O[C-1]!==G?[]:qi(O,G);if(C-=q.length,C<h)return L1(s,l,jf,E.placeholder,r,O,q,r,r,h-C);var K=this&&this!==sr&&this instanceof E?m:s;return zr(K,this,O)}return E}function N1(s){return function(l,h,m){var E=gt(l);if(!Ur(l)){var C=Ce(h,3);l=nr(l),h=function(F){return C(E[F],F,E)}}var O=s(l,h,m);return O>-1?E[C?l[O]:O]:r}}function P1(s){return yi(function(l){var h=l.length,m=h,E=cn.prototype.thru;for(s&&l.reverse();m--;){var C=l[m];if(typeof C!="function")throw new fn(a);if(E&&!O&&Yf(C)=="wrapper")var O=new cn([],!0)}for(m=O?m:h;++m<h;){C=l[m];var F=Yf(C),G=F=="wrapper"?fv(C):r;G&&pv(G[0])&&G[1]==(B|I|N|$)&&!G[4].length&&G[9]==1?O=O[Yf(G[0])].apply(O,G[3]):O=C.length==1&&pv(C)?O[F]():O.thru(C)}return function(){var q=arguments,K=q[0];if(O&&q.length==1&&Me(K))return O.plant(K).value();for(var J=0,ce=h?l[J].apply(this,q):K;++J<h;)ce=l[J].call(this,ce);return ce}})}function jf(s,l,h,m,E,C,O,F,G,q){var K=l&B,J=l&g,ce=l&x,ge=l&(I|A),Re=l&M,Xe=ce?r:wu(s);function Ne(){for(var Ye=arguments.length,Je=z(Ye),qr=Ye;qr--;)Je[qr]=arguments[qr];if(ge)var Rr=Ya(Ne),Kr=zR(Je,Rr);if(m&&(Je=b1(Je,m,E,ge)),C&&(Je=S1(Je,C,O,ge)),Ye-=Kr,ge&&Ye<q){var Vt=qi(Je,Rr);return L1(s,l,jf,Ne.placeholder,h,Je,Vt,F,G,q-Ye)}var Ln=J?h:this,wi=ce?Ln[s]:s;return Ye=Je.length,F?Je=QP(Je,F):Re&&Ye>1&&Je.reverse(),K&&G<Ye&&(Je.length=G),this&&this!==sr&&this instanceof Ne&&(wi=Xe||wu(wi)),wi.apply(Ln,Je)}return Ne}function A1(s,l){return function(h,m){return sP(h,s,l(m),{})}}function zf(s,l){return function(h,m){var E;if(h===r&&m===r)return l;if(h!==r&&(E=h),m!==r){if(E===r)return m;typeof h=="string"||typeof m=="string"?(h=Wr(h),m=Wr(m)):(h=_1(h),m=_1(m)),E=s(h,m)}return E}}function av(s){return yi(function(l){return l=Rt(l,Vr(Ce())),je(function(h){var m=this;return s(l,function(E){return zr(E,m,h)})})})}function Vf(s,l){l=l===r?" ":Wr(l);var h=l.length;if(h<2)return h?Qp(l,s):l;var m=Qp(l,Of(s/Ga(l)));return Da(l)?eo(Pn(m),0,s).join(""):m.slice(0,s)}function FP(s,l,h,m){var E=l&g,C=wu(s);function O(){for(var F=-1,G=arguments.length,q=-1,K=m.length,J=z(K+G),ce=this&&this!==sr&&this instanceof O?C:s;++q<K;)J[q]=m[q];for(;G--;)J[q++]=arguments[++F];return zr(ce,E?h:this,J)}return O}function O1(s){return function(l,h,m){return m&&typeof m!="number"&&Ir(l,h,m)&&(h=m=r),l=Ei(l),h===r?(h=l,l=0):h=Ei(h),m=m===r?l<h?1:-1:Ei(m),yP(l,h,m,s)}}function Wf(s){return function(l,h){return typeof l=="string"&&typeof h=="string"||(l=vn(l),h=vn(h)),s(l,h)}}function L1(s,l,h,m,E,C,O,F,G,q){var K=l&I,J=K?O:r,ce=K?r:O,ge=K?C:r,Re=K?r:C;l|=K?N:R,l&=~(K?R:N),l&w||(l&=~(g|x));var Xe=[s,l,E,ge,J,Re,ce,F,G,q],Ne=h.apply(r,Xe);return pv(s)&&z1(Ne,Xe),Ne.placeholder=m,V1(Ne,s,l)}function sv(s){var l=Zt[s];return function(h,m){if(h=vn(h),m=m==null?0:vr(Ge(m),292),m&&Vy(h)){var E=(ct(h)+"e").split("e"),C=l(E[0]+"e"+(+E[1]+m));return E=(ct(C)+"e").split("e"),+(E[0]+"e"+(+E[1]-m))}return l(h)}}var UP=$a&&1/Ef(new $a([,-0]))[1]==ye?function(s){return new $a(s)}:Nv;function F1(s){return function(l){var h=_r(l);return h==ft?Bp(l):h==rr?JR(l):jR(l,s(l))}}function gi(s,l,h,m,E,C,O,F){var G=l&x;if(!G&&typeof s!="function")throw new fn(a);var q=m?m.length:0;if(q||(l&=~(N|R),m=E=r),O=O===r?O:Jt(Ge(O),0),F=F===r?F:Ge(F),q-=E?E.length:0,l&R){var K=m,J=E;m=E=r}var ce=G?r:fv(s),ge=[s,l,h,m,E,K,J,C,O,F];if(ce&&KP(ge,ce),s=ge[0],l=ge[1],h=ge[2],m=ge[3],E=ge[4],F=ge[9]=ge[9]===r?G?0:s.length:Jt(ge[9]-q,0),!F&&l&(I|A)&&(l&=~(I|A)),!l||l==g)var Re=OP(s,l,h);else l==I||l==A?Re=LP(s,l,F):(l==N||l==(g|N))&&!E.length?Re=FP(s,l,h,m):Re=jf.apply(r,ge);var Xe=ce?p1:z1;return V1(Xe(Re,ge),s,l)}function U1(s,l,h,m){return s===r||On(s,Xa[h])&&!dt.call(m,h)?l:s}function k1(s,l,h,m,E,C){return Ot(s)&&Ot(l)&&(C.set(l,s),Gf(s,l,r,k1,C),C.delete(l)),s}function kP(s){return Cu(s)?r:s}function B1(s,l,h,m,E,C){var O=h&y,F=s.length,G=l.length;if(F!=G&&!(O&&G>F))return!1;var q=C.get(s),K=C.get(l);if(q&&K)return q==l&&K==s;var J=-1,ce=!0,ge=h&T?new $o:r;for(C.set(s,l),C.set(l,s);++J<F;){var Re=s[J],Xe=l[J];if(m)var Ne=O?m(Xe,Re,J,l,s,C):m(Re,Xe,J,s,l,C);if(Ne!==r){if(Ne)continue;ce=!1;break}if(ge){if(!Ap(l,function(Ye,Je){if(!hu(ge,Je)&&(Re===Ye||E(Re,Ye,h,m,C)))return ge.push(Je)})){ce=!1;break}}else if(!(Re===Xe||E(Re,Xe,h,m,C))){ce=!1;break}}return C.delete(s),C.delete(l),ce}function BP(s,l,h,m,E,C,O){switch(h){case pi:if(s.byteLength!=l.byteLength||s.byteOffset!=l.byteOffset)return!1;s=s.buffer,l=l.buffer;case ji:return!(s.byteLength!=l.byteLength||!C(new Rf(s),new Rf(l)));case at:case We:case et:return On(+s,+l);case qe:return s.name==l.name&&s.message==l.message;case sn:case Nn:return s==l+"";case ft:var F=Bp;case rr:var G=m&y;if(F||(F=Ef),s.size!=l.size&&!G)return!1;var q=O.get(s);if(q)return q==l;m|=T,O.set(s,l);var K=B1(F(s),F(l),m,E,C,O);return O.delete(s),K;case zn:if(mu)return mu.call(s)==mu.call(l)}return!1}function MP(s,l,h,m,E,C){var O=h&y,F=uv(s),G=F.length,q=uv(l),K=q.length;if(G!=K&&!O)return!1;for(var J=G;J--;){var ce=F[J];if(!(O?ce in l:dt.call(l,ce)))return!1}var ge=C.get(s),Re=C.get(l);if(ge&&Re)return ge==l&&Re==s;var Xe=!0;C.set(s,l),C.set(l,s);for(var Ne=O;++J<G;){ce=F[J];var Ye=s[ce],Je=l[ce];if(m)var qr=O?m(Je,Ye,ce,l,s,C):m(Ye,Je,ce,s,l,C);if(!(qr===r?Ye===Je||E(Ye,Je,h,m,C):qr)){Xe=!1;break}Ne||(Ne=ce=="constructor")}if(Xe&&!Ne){var Rr=s.constructor,Kr=l.constructor;Rr!=Kr&&"constructor"in s&&"constructor"in l&&!(typeof Rr=="function"&&Rr instanceof Rr&&typeof Kr=="function"&&Kr instanceof Kr)&&(Xe=!1)}return C.delete(s),C.delete(l),Xe}function yi(s){return _v($1(s,r,J1),s+"")}function uv(s){return n1(s,nr,hv)}function lv(s){return n1(s,kr,M1)}var fv=Ff?function(s){return Ff.get(s)}:Nv;function Yf(s){for(var l=s.name+"",h=ja[l],m=dt.call(ja,l)?h.length:0;m--;){var E=h[m],C=E.func;if(C==null||C==s)return E.name}return l}function Ya(s){var l=dt.call(b,"placeholder")?b:s;return l.placeholder}function Ce(){var s=b.iteratee||Iv;return s=s===Iv?a1:s,arguments.length?s(arguments[0],arguments[1]):s}function qf(s,l){var h=s.__data__;return VP(l)?h[typeof l=="string"?"string":"hash"]:h.map}function cv(s){for(var l=nr(s),h=l.length;h--;){var m=l[h],E=s[m];l[h]=[m,E,H1(E)]}return l}function Vo(s,l){var h=qR(s,l);return o1(h)?h:r}function DP(s){var l=dt.call(s,Ho),h=s[Ho];try{s[Ho]=r;var m=!0}catch{}var E=Cf.call(s);return m&&(l?s[Ho]=h:delete s[Ho]),E}var hv=Dp?function(s){return s==null?[]:(s=gt(s),Wi(Dp(s),function(l){return jy.call(s,l)}))}:Pv,M1=Dp?function(s){for(var l=[];s;)Yi(l,hv(s)),s=Nf(s);return l}:Pv,_r=Cr;(Gp&&_r(new Gp(new ArrayBuffer(1)))!=pi||pu&&_r(new pu)!=ft||Hp&&_r(Hp.resolve())!=Lr||$a&&_r(new $a)!=rr||vu&&_r(new vu)!=$i)&&(_r=function(s){var l=Cr(s),h=l==At?s.constructor:r,m=h?Wo(h):"";if(m)switch(m){case TN:return pi;case EN:return ft;case wN:return Lr;case bN:return rr;case SN:return $i}return l});function GP(s,l,h){for(var m=-1,E=h.length;++m<E;){var C=h[m],O=C.size;switch(C.type){case"drop":s+=O;break;case"dropRight":l-=O;break;case"take":l=vr(l,s+O);break;case"takeRight":s=Jt(s,l-O);break}}return{start:s,end:l}}function HP(s){var l=s.match(up);return l?l[1].split(lp):[]}function D1(s,l,h){l=Qi(l,s);for(var m=-1,E=l.length,C=!1;++m<E;){var O=Kn(l[m]);if(!(C=s!=null&&h(s,O)))break;s=s[O]}return C||++m!=E?C:(E=s==null?0:s.length,!!E&&rc(E)&&xi(O,E)&&(Me(s)||Yo(s)))}function XP(s){var l=s.length,h=new s.constructor(l);return l&&typeof s[0]=="string"&&dt.call(s,"index")&&(h.index=s.index,h.input=s.input),h}function G1(s){return typeof s.constructor=="function"&&!bu(s)?za(Nf(s)):{}}function $P(s,l,h){var m=s.constructor;switch(l){case ji:return ov(s);case at:case We:return new m(+s);case pi:return CP(s,h);case Pa:case Aa:case Oa:case La:case Fa:case Bo:case au:case su:case Mo:return E1(s,h);case ft:return new m;case et:case Nn:return new m(s);case sn:return IP(s);case rr:return new m;case zn:return RP(s)}}function jP(s,l){var h=l.length;if(!h)return s;var m=h-1;return l[m]=(h>1?"& ":"")+l[m],l=l.join(h>2?", ":" "),s.replace(sp,`{
/* [wrapped with `+l+`] */
`)}function zP(s){return Me(s)||Yo(s)||!!(zy&&s&&s[zy])}function xi(s,l){var h=typeof s;return l=l==null?Le:l,!!l&&(h=="number"||h!="symbol"&&gp.test(s))&&s>-1&&s%1==0&&s<l}function Ir(s,l,h){if(!Ot(h))return!1;var m=typeof l;return(m=="number"?Ur(h)&&xi(l,h.length):m=="string"&&l in h)?On(h[l],s):!1}function dv(s,l){if(Me(s))return!1;var h=typeof s;return h=="number"||h=="symbol"||h=="boolean"||s==null||Yr(s)?!0:ip.test(s)||!np.test(s)||l!=null&&s in gt(l)}function VP(s){var l=typeof s;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?s!=="__proto__":s===null}function pv(s){var l=Yf(s),h=b[l];if(typeof h!="function"||!(l in Ke.prototype))return!1;if(s===h)return!0;var m=fv(h);return!!m&&s===m[0]}function WP(s){return!!Hy&&Hy in s}var YP=bf?Ti:Av;function bu(s){var l=s&&s.constructor,h=typeof l=="function"&&l.prototype||Xa;return s===h}function H1(s){return s===s&&!Ot(s)}function X1(s,l){return function(h){return h==null?!1:h[s]===l&&(l!==r||s in gt(h))}}function qP(s){var l=ec(s,function(m){return h.size===c&&h.clear(),m}),h=l.cache;return l}function KP(s,l){var h=s[1],m=l[1],E=h|m,C=E<(g|x|B),O=m==B&&h==I||m==B&&h==$&&s[7].length<=l[8]||m==(B|$)&&l[7].length<=l[8]&&h==I;if(!(C||O))return s;m&g&&(s[2]=l[2],E|=h&g?0:w);var F=l[3];if(F){var G=s[3];s[3]=G?b1(G,F,l[4]):F,s[4]=G?qi(s[3],d):l[4]}return F=l[5],F&&(G=s[5],s[5]=G?S1(G,F,l[6]):F,s[6]=G?qi(s[5],d):l[6]),F=l[7],F&&(s[7]=F),m&B&&(s[8]=s[8]==null?l[8]:vr(s[8],l[8])),s[9]==null&&(s[9]=l[9]),s[0]=l[0],s[1]=E,s}function ZP(s){var l=[];if(s!=null)for(var h in gt(s))l.push(h);return l}function JP(s){return Cf.call(s)}function $1(s,l,h){return l=Jt(l===r?s.length-1:l,0),function(){for(var m=arguments,E=-1,C=Jt(m.length-l,0),O=z(C);++E<C;)O[E]=m[l+E];E=-1;for(var F=z(l+1);++E<l;)F[E]=m[E];return F[l]=h(O),zr(s,this,F)}}function j1(s,l){return l.length<2?s:zo(s,dn(l,0,-1))}function QP(s,l){for(var h=s.length,m=vr(l.length,h),E=Fr(s);m--;){var C=l[m];s[m]=xi(C,h)?E[C]:r}return s}function vv(s,l){if(!(l==="constructor"&&typeof s[l]=="function")&&l!="__proto__")return s[l]}var z1=W1(p1),Su=pN||function(s,l){return sr.setTimeout(s,l)},_v=W1(EP);function V1(s,l,h){var m=l+"";return _v(s,jP(m,eA(HP(m),h)))}function W1(s){var l=0,h=0;return function(){var m=gN(),E=de-(m-h);if(h=m,E>0){if(++l>=ae)return arguments[0]}else l=0;return s.apply(r,arguments)}}function Kf(s,l){var h=-1,m=s.length,E=m-1;for(l=l===r?m:l;++h<l;){var C=Jp(h,E),O=s[C];s[C]=s[h],s[h]=O}return s.length=l,s}var Y1=qP(function(s){var l=[];return s.charCodeAt(0)===46&&l.push(""),s.replace(op,function(h,m,E,C){l.push(E?C.replace(hp,"$1"):m||h)}),l});function Kn(s){if(typeof s=="string"||Yr(s))return s;var l=s+"";return l=="0"&&1/s==-ye?"-0":l}function Wo(s){if(s!=null){try{return Sf.call(s)}catch{}try{return s+""}catch{}}return""}function eA(s,l){return ln(Ee,function(h){var m="_."+h[0];l&h[1]&&!xf(s,m)&&s.push(m)}),s.sort()}function q1(s){if(s instanceof Ke)return s.clone();var l=new cn(s.__wrapped__,s.__chain__);return l.__actions__=Fr(s.__actions__),l.__index__=s.__index__,l.__values__=s.__values__,l}function tA(s,l,h){(h?Ir(s,l,h):l===r)?l=1:l=Jt(Ge(l),0);var m=s==null?0:s.length;if(!m||l<1)return[];for(var E=0,C=0,O=z(Of(m/l));E<m;)O[C++]=dn(s,E,E+=l);return O}function rA(s){for(var l=-1,h=s==null?0:s.length,m=0,E=[];++l<h;){var C=s[l];C&&(E[m++]=C)}return E}function nA(){var s=arguments.length;if(!s)return[];for(var l=z(s-1),h=arguments[0],m=s;m--;)l[m-1]=arguments[m];return Yi(Me(h)?Fr(h):[h],ur(l,1))}var iA=je(function(s,l){return zt(s)?yu(s,ur(l,1,zt,!0)):[]}),oA=je(function(s,l){var h=pn(l);return zt(h)&&(h=r),zt(s)?yu(s,ur(l,1,zt,!0),Ce(h,2)):[]}),aA=je(function(s,l){var h=pn(l);return zt(h)&&(h=r),zt(s)?yu(s,ur(l,1,zt,!0),r,h):[]});function sA(s,l,h){var m=s==null?0:s.length;return m?(l=h||l===r?1:Ge(l),dn(s,l<0?0:l,m)):[]}function uA(s,l,h){var m=s==null?0:s.length;return m?(l=h||l===r?1:Ge(l),l=m-l,dn(s,0,l<0?0:l)):[]}function lA(s,l){return s&&s.length?Xf(s,Ce(l,3),!0,!0):[]}function fA(s,l){return s&&s.length?Xf(s,Ce(l,3),!0):[]}function cA(s,l,h,m){var E=s==null?0:s.length;return E?(h&&typeof h!="number"&&Ir(s,l,h)&&(h=0,m=E),nP(s,l,h,m)):[]}function K1(s,l,h){var m=s==null?0:s.length;if(!m)return-1;var E=h==null?0:Ge(h);return E<0&&(E=Jt(m+E,0)),Tf(s,Ce(l,3),E)}function Z1(s,l,h){var m=s==null?0:s.length;if(!m)return-1;var E=m-1;return h!==r&&(E=Ge(h),E=h<0?Jt(m+E,0):vr(E,m-1)),Tf(s,Ce(l,3),E,!0)}function J1(s){var l=s==null?0:s.length;return l?ur(s,1):[]}function hA(s){var l=s==null?0:s.length;return l?ur(s,ye):[]}function dA(s,l){var h=s==null?0:s.length;return h?(l=l===r?1:Ge(l),ur(s,l)):[]}function pA(s){for(var l=-1,h=s==null?0:s.length,m={};++l<h;){var E=s[l];m[E[0]]=E[1]}return m}function Q1(s){return s&&s.length?s[0]:r}function vA(s,l,h){var m=s==null?0:s.length;if(!m)return-1;var E=h==null?0:Ge(h);return E<0&&(E=Jt(m+E,0)),Ma(s,l,E)}function _A(s){var l=s==null?0:s.length;return l?dn(s,0,-1):[]}var mA=je(function(s){var l=Rt(s,nv);return l.length&&l[0]===s[0]?Wp(l):[]}),gA=je(function(s){var l=pn(s),h=Rt(s,nv);return l===pn(h)?l=r:h.pop(),h.length&&h[0]===s[0]?Wp(h,Ce(l,2)):[]}),yA=je(function(s){var l=pn(s),h=Rt(s,nv);return l=typeof l=="function"?l:r,l&&h.pop(),h.length&&h[0]===s[0]?Wp(h,r,l):[]});function xA(s,l){return s==null?"":_N.call(s,l)}function pn(s){var l=s==null?0:s.length;return l?s[l-1]:r}function TA(s,l,h){var m=s==null?0:s.length;if(!m)return-1;var E=m;return h!==r&&(E=Ge(h),E=E<0?Jt(m+E,0):vr(E,m-1)),l===l?eN(s,l,E):Tf(s,Ly,E,!0)}function EA(s,l){return s&&s.length?f1(s,Ge(l)):r}var wA=je(ex);function ex(s,l){return s&&s.length&&l&&l.length?Zp(s,l):s}function bA(s,l,h){return s&&s.length&&l&&l.length?Zp(s,l,Ce(h,2)):s}function SA(s,l,h){return s&&s.length&&l&&l.length?Zp(s,l,r,h):s}var CA=yi(function(s,l){var h=s==null?0:s.length,m=$p(s,l);return d1(s,Rt(l,function(E){return xi(E,h)?+E:E}).sort(w1)),m});function IA(s,l){var h=[];if(!(s&&s.length))return h;var m=-1,E=[],C=s.length;for(l=Ce(l,3);++m<C;){var O=s[m];l(O,m,s)&&(h.push(O),E.push(m))}return d1(s,E),h}function mv(s){return s==null?s:xN.call(s)}function RA(s,l,h){var m=s==null?0:s.length;return m?(h&&typeof h!="number"&&Ir(s,l,h)?(l=0,h=m):(l=l==null?0:Ge(l),h=h===r?m:Ge(h)),dn(s,l,h)):[]}function NA(s,l){return Hf(s,l)}function PA(s,l,h){return ev(s,l,Ce(h,2))}function AA(s,l){var h=s==null?0:s.length;if(h){var m=Hf(s,l);if(m<h&&On(s[m],l))return m}return-1}function OA(s,l){return Hf(s,l,!0)}function LA(s,l,h){return ev(s,l,Ce(h,2),!0)}function FA(s,l){var h=s==null?0:s.length;if(h){var m=Hf(s,l,!0)-1;if(On(s[m],l))return m}return-1}function UA(s){return s&&s.length?v1(s):[]}function kA(s,l){return s&&s.length?v1(s,Ce(l,2)):[]}function BA(s){var l=s==null?0:s.length;return l?dn(s,1,l):[]}function MA(s,l,h){return s&&s.length?(l=h||l===r?1:Ge(l),dn(s,0,l<0?0:l)):[]}function DA(s,l,h){var m=s==null?0:s.length;return m?(l=h||l===r?1:Ge(l),l=m-l,dn(s,l<0?0:l,m)):[]}function GA(s,l){return s&&s.length?Xf(s,Ce(l,3),!1,!0):[]}function HA(s,l){return s&&s.length?Xf(s,Ce(l,3)):[]}var XA=je(function(s){return Ji(ur(s,1,zt,!0))}),$A=je(function(s){var l=pn(s);return zt(l)&&(l=r),Ji(ur(s,1,zt,!0),Ce(l,2))}),jA=je(function(s){var l=pn(s);return l=typeof l=="function"?l:r,Ji(ur(s,1,zt,!0),r,l)});function zA(s){return s&&s.length?Ji(s):[]}function VA(s,l){return s&&s.length?Ji(s,Ce(l,2)):[]}function WA(s,l){return l=typeof l=="function"?l:r,s&&s.length?Ji(s,r,l):[]}function gv(s){if(!(s&&s.length))return[];var l=0;return s=Wi(s,function(h){if(zt(h))return l=Jt(h.length,l),!0}),Up(l,function(h){return Rt(s,Op(h))})}function tx(s,l){if(!(s&&s.length))return[];var h=gv(s);return l==null?h:Rt(h,function(m){return zr(l,r,m)})}var YA=je(function(s,l){return zt(s)?yu(s,l):[]}),qA=je(function(s){return rv(Wi(s,zt))}),KA=je(function(s){var l=pn(s);return zt(l)&&(l=r),rv(Wi(s,zt),Ce(l,2))}),ZA=je(function(s){var l=pn(s);return l=typeof l=="function"?l:r,rv(Wi(s,zt),r,l)}),JA=je(gv);function QA(s,l){return y1(s||[],l||[],gu)}function eO(s,l){return y1(s||[],l||[],Eu)}var tO=je(function(s){var l=s.length,h=l>1?s[l-1]:r;return h=typeof h=="function"?(s.pop(),h):r,tx(s,h)});function rx(s){var l=b(s);return l.__chain__=!0,l}function rO(s,l){return l(s),s}function Zf(s,l){return l(s)}var nO=yi(function(s){var l=s.length,h=l?s[0]:0,m=this.__wrapped__,E=function(C){return $p(C,s)};return l>1||this.__actions__.length||!(m instanceof Ke)||!xi(h)?this.thru(E):(m=m.slice(h,+h+(l?1:0)),m.__actions__.push({func:Zf,args:[E],thisArg:r}),new cn(m,this.__chain__).thru(function(C){return l&&!C.length&&C.push(r),C}))});function iO(){return rx(this)}function oO(){return new cn(this.value(),this.__chain__)}function aO(){this.__values__===r&&(this.__values__=_x(this.value()));var s=this.__index__>=this.__values__.length,l=s?r:this.__values__[this.__index__++];return{done:s,value:l}}function sO(){return this}function uO(s){for(var l,h=this;h instanceof kf;){var m=q1(h);m.__index__=0,m.__values__=r,l?E.__wrapped__=m:l=m;var E=m;h=h.__wrapped__}return E.__wrapped__=s,l}function lO(){var s=this.__wrapped__;if(s instanceof Ke){var l=s;return this.__actions__.length&&(l=new Ke(this)),l=l.reverse(),l.__actions__.push({func:Zf,args:[mv],thisArg:r}),new cn(l,this.__chain__)}return this.thru(mv)}function fO(){return g1(this.__wrapped__,this.__actions__)}var cO=$f(function(s,l,h){dt.call(s,h)?++s[h]:mi(s,h,1)});function hO(s,l,h){var m=Me(s)?Ay:rP;return h&&Ir(s,l,h)&&(l=r),m(s,Ce(l,3))}function dO(s,l){var h=Me(s)?Wi:t1;return h(s,Ce(l,3))}var pO=N1(K1),vO=N1(Z1);function _O(s,l){return ur(Jf(s,l),1)}function mO(s,l){return ur(Jf(s,l),ye)}function gO(s,l,h){return h=h===r?1:Ge(h),ur(Jf(s,l),h)}function nx(s,l){var h=Me(s)?ln:Zi;return h(s,Ce(l,3))}function ix(s,l){var h=Me(s)?BR:e1;return h(s,Ce(l,3))}var yO=$f(function(s,l,h){dt.call(s,h)?s[h].push(l):mi(s,h,[l])});function xO(s,l,h,m){s=Ur(s)?s:Ka(s),h=h&&!m?Ge(h):0;var E=s.length;return h<0&&(h=Jt(E+h,0)),nc(s)?h<=E&&s.indexOf(l,h)>-1:!!E&&Ma(s,l,h)>-1}var TO=je(function(s,l,h){var m=-1,E=typeof l=="function",C=Ur(s)?z(s.length):[];return Zi(s,function(O){C[++m]=E?zr(l,O,h):xu(O,l,h)}),C}),EO=$f(function(s,l,h){mi(s,h,l)});function Jf(s,l){var h=Me(s)?Rt:s1;return h(s,Ce(l,3))}function wO(s,l,h,m){return s==null?[]:(Me(l)||(l=l==null?[]:[l]),h=m?r:h,Me(h)||(h=h==null?[]:[h]),c1(s,l,h))}var bO=$f(function(s,l,h){s[h?0:1].push(l)},function(){return[[],[]]});function SO(s,l,h){var m=Me(s)?Pp:Uy,E=arguments.length<3;return m(s,Ce(l,4),h,E,Zi)}function CO(s,l,h){var m=Me(s)?MR:Uy,E=arguments.length<3;return m(s,Ce(l,4),h,E,e1)}function IO(s,l){var h=Me(s)?Wi:t1;return h(s,tc(Ce(l,3)))}function RO(s){var l=Me(s)?Ky:xP;return l(s)}function NO(s,l,h){(h?Ir(s,l,h):l===r)?l=1:l=Ge(l);var m=Me(s)?ZN:TP;return m(s,l)}function PO(s){var l=Me(s)?JN:wP;return l(s)}function AO(s){if(s==null)return 0;if(Ur(s))return nc(s)?Ga(s):s.length;var l=_r(s);return l==ft||l==rr?s.size:qp(s).length}function OO(s,l,h){var m=Me(s)?Ap:bP;return h&&Ir(s,l,h)&&(l=r),m(s,Ce(l,3))}var LO=je(function(s,l){if(s==null)return[];var h=l.length;return h>1&&Ir(s,l[0],l[1])?l=[]:h>2&&Ir(l[0],l[1],l[2])&&(l=[l[0]]),c1(s,ur(l,1),[])}),Qf=dN||function(){return sr.Date.now()};function FO(s,l){if(typeof l!="function")throw new fn(a);return s=Ge(s),function(){if(--s<1)return l.apply(this,arguments)}}function ox(s,l,h){return l=h?r:l,l=s&&l==null?s.length:l,gi(s,B,r,r,r,r,l)}function ax(s,l){var h;if(typeof l!="function")throw new fn(a);return s=Ge(s),function(){return--s>0&&(h=l.apply(this,arguments)),s<=1&&(l=r),h}}var yv=je(function(s,l,h){var m=g;if(h.length){var E=qi(h,Ya(yv));m|=N}return gi(s,m,l,h,E)}),sx=je(function(s,l,h){var m=g|x;if(h.length){var E=qi(h,Ya(sx));m|=N}return gi(l,m,s,h,E)});function ux(s,l,h){l=h?r:l;var m=gi(s,I,r,r,r,r,r,l);return m.placeholder=ux.placeholder,m}function lx(s,l,h){l=h?r:l;var m=gi(s,A,r,r,r,r,r,l);return m.placeholder=lx.placeholder,m}function fx(s,l,h){var m,E,C,O,F,G,q=0,K=!1,J=!1,ce=!0;if(typeof s!="function")throw new fn(a);l=vn(l)||0,Ot(h)&&(K=!!h.leading,J="maxWait"in h,C=J?Jt(vn(h.maxWait)||0,l):C,ce="trailing"in h?!!h.trailing:ce);function ge(Vt){var Ln=m,wi=E;return m=E=r,q=Vt,O=s.apply(wi,Ln),O}function Re(Vt){return q=Vt,F=Su(Ye,l),K?ge(Vt):O}function Xe(Vt){var Ln=Vt-G,wi=Vt-q,Nx=l-Ln;return J?vr(Nx,C-wi):Nx}function Ne(Vt){var Ln=Vt-G,wi=Vt-q;return G===r||Ln>=l||Ln<0||J&&wi>=C}function Ye(){var Vt=Qf();if(Ne(Vt))return Je(Vt);F=Su(Ye,Xe(Vt))}function Je(Vt){return F=r,ce&&m?ge(Vt):(m=E=r,O)}function qr(){F!==r&&x1(F),q=0,m=G=E=F=r}function Rr(){return F===r?O:Je(Qf())}function Kr(){var Vt=Qf(),Ln=Ne(Vt);if(m=arguments,E=this,G=Vt,Ln){if(F===r)return Re(G);if(J)return x1(F),F=Su(Ye,l),ge(G)}return F===r&&(F=Su(Ye,l)),O}return Kr.cancel=qr,Kr.flush=Rr,Kr}var UO=je(function(s,l){return Qy(s,1,l)}),kO=je(function(s,l,h){return Qy(s,vn(l)||0,h)});function BO(s){return gi(s,M)}function ec(s,l){if(typeof s!="function"||l!=null&&typeof l!="function")throw new fn(a);var h=function(){var m=arguments,E=l?l.apply(this,m):m[0],C=h.cache;if(C.has(E))return C.get(E);var O=s.apply(this,m);return h.cache=C.set(E,O)||C,O};return h.cache=new(ec.Cache||_i),h}ec.Cache=_i;function tc(s){if(typeof s!="function")throw new fn(a);return function(){var l=arguments;switch(l.length){case 0:return!s.call(this);case 1:return!s.call(this,l[0]);case 2:return!s.call(this,l[0],l[1]);case 3:return!s.call(this,l[0],l[1],l[2])}return!s.apply(this,l)}}function MO(s){return ax(2,s)}var DO=SP(function(s,l){l=l.length==1&&Me(l[0])?Rt(l[0],Vr(Ce())):Rt(ur(l,1),Vr(Ce()));var h=l.length;return je(function(m){for(var E=-1,C=vr(m.length,h);++E<C;)m[E]=l[E].call(this,m[E]);return zr(s,this,m)})}),xv=je(function(s,l){var h=qi(l,Ya(xv));return gi(s,N,r,l,h)}),cx=je(function(s,l){var h=qi(l,Ya(cx));return gi(s,R,r,l,h)}),GO=yi(function(s,l){return gi(s,$,r,r,r,l)});function HO(s,l){if(typeof s!="function")throw new fn(a);return l=l===r?l:Ge(l),je(s,l)}function XO(s,l){if(typeof s!="function")throw new fn(a);return l=l==null?0:Jt(Ge(l),0),je(function(h){var m=h[l],E=eo(h,0,l);return m&&Yi(E,m),zr(s,this,E)})}function $O(s,l,h){var m=!0,E=!0;if(typeof s!="function")throw new fn(a);return Ot(h)&&(m="leading"in h?!!h.leading:m,E="trailing"in h?!!h.trailing:E),fx(s,l,{leading:m,maxWait:l,trailing:E})}function jO(s){return ox(s,1)}function zO(s,l){return xv(iv(l),s)}function VO(){if(!arguments.length)return[];var s=arguments[0];return Me(s)?s:[s]}function WO(s){return hn(s,_)}function YO(s,l){return l=typeof l=="function"?l:r,hn(s,_,l)}function qO(s){return hn(s,p|_)}function KO(s,l){return l=typeof l=="function"?l:r,hn(s,p|_,l)}function ZO(s,l){return l==null||Jy(s,l,nr(l))}function On(s,l){return s===l||s!==s&&l!==l}var JO=Wf(Vp),QO=Wf(function(s,l){return s>=l}),Yo=i1(function(){return arguments}())?i1:function(s){return kt(s)&&dt.call(s,"callee")&&!jy.call(s,"callee")},Me=z.isArray,e3=Sy?Vr(Sy):uP;function Ur(s){return s!=null&&rc(s.length)&&!Ti(s)}function zt(s){return kt(s)&&Ur(s)}function t3(s){return s===!0||s===!1||kt(s)&&Cr(s)==at}var to=vN||Av,r3=Cy?Vr(Cy):lP;function n3(s){return kt(s)&&s.nodeType===1&&!Cu(s)}function i3(s){if(s==null)return!0;if(Ur(s)&&(Me(s)||typeof s=="string"||typeof s.splice=="function"||to(s)||qa(s)||Yo(s)))return!s.length;var l=_r(s);if(l==ft||l==rr)return!s.size;if(bu(s))return!qp(s).length;for(var h in s)if(dt.call(s,h))return!1;return!0}function o3(s,l){return Tu(s,l)}function a3(s,l,h){h=typeof h=="function"?h:r;var m=h?h(s,l):r;return m===r?Tu(s,l,r,h):!!m}function Tv(s){if(!kt(s))return!1;var l=Cr(s);return l==qe||l==Et||typeof s.message=="string"&&typeof s.name=="string"&&!Cu(s)}function s3(s){return typeof s=="number"&&Vy(s)}function Ti(s){if(!Ot(s))return!1;var l=Cr(s);return l==st||l==De||l==ot||l==jn}function hx(s){return typeof s=="number"&&s==Ge(s)}function rc(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=Le}function Ot(s){var l=typeof s;return s!=null&&(l=="object"||l=="function")}function kt(s){return s!=null&&typeof s=="object"}var dx=Iy?Vr(Iy):cP;function u3(s,l){return s===l||Yp(s,l,cv(l))}function l3(s,l,h){return h=typeof h=="function"?h:r,Yp(s,l,cv(l),h)}function f3(s){return px(s)&&s!=+s}function c3(s){if(YP(s))throw new ke(o);return o1(s)}function h3(s){return s===null}function d3(s){return s==null}function px(s){return typeof s=="number"||kt(s)&&Cr(s)==et}function Cu(s){if(!kt(s)||Cr(s)!=At)return!1;var l=Nf(s);if(l===null)return!0;var h=dt.call(l,"constructor")&&l.constructor;return typeof h=="function"&&h instanceof h&&Sf.call(h)==lN}var Ev=Ry?Vr(Ry):hP;function p3(s){return hx(s)&&s>=-Le&&s<=Le}var vx=Ny?Vr(Ny):dP;function nc(s){return typeof s=="string"||!Me(s)&&kt(s)&&Cr(s)==Nn}function Yr(s){return typeof s=="symbol"||kt(s)&&Cr(s)==zn}var qa=Py?Vr(Py):pP;function v3(s){return s===r}function _3(s){return kt(s)&&_r(s)==$i}function m3(s){return kt(s)&&Cr(s)==af}var g3=Wf(Kp),y3=Wf(function(s,l){return s<=l});function _x(s){if(!s)return[];if(Ur(s))return nc(s)?Pn(s):Fr(s);if(du&&s[du])return ZR(s[du]());var l=_r(s),h=l==ft?Bp:l==rr?Ef:Ka;return h(s)}function Ei(s){if(!s)return s===0?s:0;if(s=vn(s),s===ye||s===-ye){var l=s<0?-1:1;return l*ht}return s===s?s:0}function Ge(s){var l=Ei(s),h=l%1;return l===l?h?l-h:l:0}function mx(s){return s?jo(Ge(s),0,j):0}function vn(s){if(typeof s=="number")return s;if(Yr(s))return Z;if(Ot(s)){var l=typeof s.valueOf=="function"?s.valueOf():s;s=Ot(l)?l+"":l}if(typeof s!="string")return s===0?s:+s;s=ky(s);var h=vp.test(s);return h||mp.test(s)?FR(s.slice(2),h?2:8):pp.test(s)?Z:+s}function gx(s){return qn(s,kr(s))}function x3(s){return s?jo(Ge(s),-Le,Le):s===0?s:0}function ct(s){return s==null?"":Wr(s)}var T3=Va(function(s,l){if(bu(l)||Ur(l)){qn(l,nr(l),s);return}for(var h in l)dt.call(l,h)&&gu(s,h,l[h])}),yx=Va(function(s,l){qn(l,kr(l),s)}),ic=Va(function(s,l,h,m){qn(l,kr(l),s,m)}),E3=Va(function(s,l,h,m){qn(l,nr(l),s,m)}),w3=yi($p);function b3(s,l){var h=za(s);return l==null?h:Zy(h,l)}var S3=je(function(s,l){s=gt(s);var h=-1,m=l.length,E=m>2?l[2]:r;for(E&&Ir(l[0],l[1],E)&&(m=1);++h<m;)for(var C=l[h],O=kr(C),F=-1,G=O.length;++F<G;){var q=O[F],K=s[q];(K===r||On(K,Xa[q])&&!dt.call(s,q))&&(s[q]=C[q])}return s}),C3=je(function(s){return s.push(r,k1),zr(xx,r,s)});function I3(s,l){return Oy(s,Ce(l,3),Yn)}function R3(s,l){return Oy(s,Ce(l,3),zp)}function N3(s,l){return s==null?s:jp(s,Ce(l,3),kr)}function P3(s,l){return s==null?s:r1(s,Ce(l,3),kr)}function A3(s,l){return s&&Yn(s,Ce(l,3))}function O3(s,l){return s&&zp(s,Ce(l,3))}function L3(s){return s==null?[]:Df(s,nr(s))}function F3(s){return s==null?[]:Df(s,kr(s))}function wv(s,l,h){var m=s==null?r:zo(s,l);return m===r?h:m}function U3(s,l){return s!=null&&D1(s,l,iP)}function bv(s,l){return s!=null&&D1(s,l,oP)}var k3=A1(function(s,l,h){l!=null&&typeof l.toString!="function"&&(l=Cf.call(l)),s[l]=h},Cv(Br)),B3=A1(function(s,l,h){l!=null&&typeof l.toString!="function"&&(l=Cf.call(l)),dt.call(s,l)?s[l].push(h):s[l]=[h]},Ce),M3=je(xu);function nr(s){return Ur(s)?qy(s):qp(s)}function kr(s){return Ur(s)?qy(s,!0):vP(s)}function D3(s,l){var h={};return l=Ce(l,3),Yn(s,function(m,E,C){mi(h,l(m,E,C),m)}),h}function G3(s,l){var h={};return l=Ce(l,3),Yn(s,function(m,E,C){mi(h,E,l(m,E,C))}),h}var H3=Va(function(s,l,h){Gf(s,l,h)}),xx=Va(function(s,l,h,m){Gf(s,l,h,m)}),X3=yi(function(s,l){var h={};if(s==null)return h;var m=!1;l=Rt(l,function(C){return C=Qi(C,s),m||(m=C.length>1),C}),qn(s,lv(s),h),m&&(h=hn(h,p|v|_,kP));for(var E=l.length;E--;)tv(h,l[E]);return h});function $3(s,l){return Tx(s,tc(Ce(l)))}var j3=yi(function(s,l){return s==null?{}:mP(s,l)});function Tx(s,l){if(s==null)return{};var h=Rt(lv(s),function(m){return[m]});return l=Ce(l),h1(s,h,function(m,E){return l(m,E[0])})}function z3(s,l,h){l=Qi(l,s);var m=-1,E=l.length;for(E||(E=1,s=r);++m<E;){var C=s==null?r:s[Kn(l[m])];C===r&&(m=E,C=h),s=Ti(C)?C.call(s):C}return s}function V3(s,l,h){return s==null?s:Eu(s,l,h)}function W3(s,l,h,m){return m=typeof m=="function"?m:r,s==null?s:Eu(s,l,h,m)}var Ex=F1(nr),wx=F1(kr);function Y3(s,l,h){var m=Me(s),E=m||to(s)||qa(s);if(l=Ce(l,4),h==null){var C=s&&s.constructor;E?h=m?new C:[]:Ot(s)?h=Ti(C)?za(Nf(s)):{}:h={}}return(E?ln:Yn)(s,function(O,F,G){return l(h,O,F,G)}),h}function q3(s,l){return s==null?!0:tv(s,l)}function K3(s,l,h){return s==null?s:m1(s,l,iv(h))}function Z3(s,l,h,m){return m=typeof m=="function"?m:r,s==null?s:m1(s,l,iv(h),m)}function Ka(s){return s==null?[]:kp(s,nr(s))}function J3(s){return s==null?[]:kp(s,kr(s))}function Q3(s,l,h){return h===r&&(h=l,l=r),h!==r&&(h=vn(h),h=h===h?h:0),l!==r&&(l=vn(l),l=l===l?l:0),jo(vn(s),l,h)}function eL(s,l,h){return l=Ei(l),h===r?(h=l,l=0):h=Ei(h),s=vn(s),aP(s,l,h)}function tL(s,l,h){if(h&&typeof h!="boolean"&&Ir(s,l,h)&&(l=h=r),h===r&&(typeof l=="boolean"?(h=l,l=r):typeof s=="boolean"&&(h=s,s=r)),s===r&&l===r?(s=0,l=1):(s=Ei(s),l===r?(l=s,s=0):l=Ei(l)),s>l){var m=s;s=l,l=m}if(h||s%1||l%1){var E=Wy();return vr(s+E*(l-s+LR("1e-"+((E+"").length-1))),l)}return Jp(s,l)}var rL=Wa(function(s,l,h){return l=l.toLowerCase(),s+(h?bx(l):l)});function bx(s){return Sv(ct(s).toLowerCase())}function Sx(s){return s=ct(s),s&&s.replace(yp,VR).replace(wR,"")}function nL(s,l,h){s=ct(s),l=Wr(l);var m=s.length;h=h===r?m:jo(Ge(h),0,m);var E=h;return h-=l.length,h>=0&&s.slice(h,E)==l}function iL(s){return s=ct(s),s&&ep.test(s)?s.replace(lf,WR):s}function oL(s){return s=ct(s),s&&ap.test(s)?s.replace(uu,"\\$&"):s}var aL=Wa(function(s,l,h){return s+(h?"-":"")+l.toLowerCase()}),sL=Wa(function(s,l,h){return s+(h?" ":"")+l.toLowerCase()}),uL=R1("toLowerCase");function lL(s,l,h){s=ct(s),l=Ge(l);var m=l?Ga(s):0;if(!l||m>=l)return s;var E=(l-m)/2;return Vf(Lf(E),h)+s+Vf(Of(E),h)}function fL(s,l,h){s=ct(s),l=Ge(l);var m=l?Ga(s):0;return l&&m<l?s+Vf(l-m,h):s}function cL(s,l,h){s=ct(s),l=Ge(l);var m=l?Ga(s):0;return l&&m<l?Vf(l-m,h)+s:s}function hL(s,l,h){return h||l==null?l=0:l&&(l=+l),yN(ct(s).replace(lu,""),l||0)}function dL(s,l,h){return(h?Ir(s,l,h):l===r)?l=1:l=Ge(l),Qp(ct(s),l)}function pL(){var s=arguments,l=ct(s[0]);return s.length<3?l:l.replace(s[1],s[2])}var vL=Wa(function(s,l,h){return s+(h?"_":"")+l.toLowerCase()});function _L(s,l,h){return h&&typeof h!="number"&&Ir(s,l,h)&&(l=h=r),h=h===r?j:h>>>0,h?(s=ct(s),s&&(typeof l=="string"||l!=null&&!Ev(l))&&(l=Wr(l),!l&&Da(s))?eo(Pn(s),0,h):s.split(l,h)):[]}var mL=Wa(function(s,l,h){return s+(h?" ":"")+Sv(l)});function gL(s,l,h){return s=ct(s),h=h==null?0:jo(Ge(h),0,s.length),l=Wr(l),s.slice(h,h+l.length)==l}function yL(s,l,h){var m=b.templateSettings;h&&Ir(s,l,h)&&(l=r),s=ct(s),l=ic({},l,m,U1);var E=ic({},l.imports,m.imports,U1),C=nr(E),O=kp(E,C),F,G,q=0,K=l.interpolate||Ua,J="__p += '",ce=Mp((l.escape||Ua).source+"|"+K.source+"|"+(K===cf?dp:Ua).source+"|"+(l.evaluate||Ua).source+"|$","g"),ge="//# sourceURL="+(dt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++RR+"]")+`
`;s.replace(ce,function(Ne,Ye,Je,qr,Rr,Kr){return Je||(Je=qr),J+=s.slice(q,Kr).replace(pf,YR),Ye&&(F=!0,J+=`' +
__e(`+Ye+`) +
'`),Rr&&(G=!0,J+=`';
`+Rr+`;
__p += '`),Je&&(J+=`' +
((__t = (`+Je+`)) == null ? '' : __t) +
'`),q=Kr+Ne.length,Ne}),J+=`';
`;var Re=dt.call(l,"variable")&&l.variable;if(!Re)J=`with (obj) {
`+J+`
}
`;else if(cp.test(Re))throw new ke(u);J=(G?J.replace(sf,""):J).replace(Qd,"$1").replace(Vn,"$1;"),J="function("+(Re||"obj")+`) {
`+(Re?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(F?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+J+`return __p
}`;var Xe=Ix(function(){return ut(C,ge+"return "+J).apply(r,O)});if(Xe.source=J,Tv(Xe))throw Xe;return Xe}function xL(s){return ct(s).toLowerCase()}function TL(s){return ct(s).toUpperCase()}function EL(s,l,h){if(s=ct(s),s&&(h||l===r))return ky(s);if(!s||!(l=Wr(l)))return s;var m=Pn(s),E=Pn(l),C=By(m,E),O=My(m,E)+1;return eo(m,C,O).join("")}function wL(s,l,h){if(s=ct(s),s&&(h||l===r))return s.slice(0,Gy(s)+1);if(!s||!(l=Wr(l)))return s;var m=Pn(s),E=My(m,Pn(l))+1;return eo(m,0,E).join("")}function bL(s,l,h){if(s=ct(s),s&&(h||l===r))return s.replace(lu,"");if(!s||!(l=Wr(l)))return s;var m=Pn(s),E=By(m,Pn(l));return eo(m,E).join("")}function SL(s,l){var h=W,m=he;if(Ot(l)){var E="separator"in l?l.separator:E;h="length"in l?Ge(l.length):h,m="omission"in l?Wr(l.omission):m}s=ct(s);var C=s.length;if(Da(s)){var O=Pn(s);C=O.length}if(h>=C)return s;var F=h-Ga(m);if(F<1)return m;var G=O?eo(O,0,F).join(""):s.slice(0,F);if(E===r)return G+m;if(O&&(F+=G.length-F),Ev(E)){if(s.slice(F).search(E)){var q,K=G;for(E.global||(E=Mp(E.source,ct(df.exec(E))+"g")),E.lastIndex=0;q=E.exec(K);)var J=q.index;G=G.slice(0,J===r?F:J)}}else if(s.indexOf(Wr(E),F)!=F){var ce=G.lastIndexOf(E);ce>-1&&(G=G.slice(0,ce))}return G+m}function CL(s){return s=ct(s),s&&ff.test(s)?s.replace(uf,tN):s}var IL=Wa(function(s,l,h){return s+(h?" ":"")+l.toUpperCase()}),Sv=R1("toUpperCase");function Cx(s,l,h){return s=ct(s),l=h?r:l,l===r?KR(s)?iN(s):HR(s):s.match(l)||[]}var Ix=je(function(s,l){try{return zr(s,r,l)}catch(h){return Tv(h)?h:new ke(h)}}),RL=yi(function(s,l){return ln(l,function(h){h=Kn(h),mi(s,h,yv(s[h],s))}),s});function NL(s){var l=s==null?0:s.length,h=Ce();return s=l?Rt(s,function(m){if(typeof m[1]!="function")throw new fn(a);return[h(m[0]),m[1]]}):[],je(function(m){for(var E=-1;++E<l;){var C=s[E];if(zr(C[0],this,m))return zr(C[1],this,m)}})}function PL(s){return tP(hn(s,p))}function Cv(s){return function(){return s}}function AL(s,l){return s==null||s!==s?l:s}var OL=P1(),LL=P1(!0);function Br(s){return s}function Iv(s){return a1(typeof s=="function"?s:hn(s,p))}function FL(s){return u1(hn(s,p))}function UL(s,l){return l1(s,hn(l,p))}var kL=je(function(s,l){return function(h){return xu(h,s,l)}}),BL=je(function(s,l){return function(h){return xu(s,h,l)}});function Rv(s,l,h){var m=nr(l),E=Df(l,m);h==null&&!(Ot(l)&&(E.length||!m.length))&&(h=l,l=s,s=this,E=Df(l,nr(l)));var C=!(Ot(h)&&"chain"in h)||!!h.chain,O=Ti(s);return ln(E,function(F){var G=l[F];s[F]=G,O&&(s.prototype[F]=function(){var q=this.__chain__;if(C||q){var K=s(this.__wrapped__),J=K.__actions__=Fr(this.__actions__);return J.push({func:G,args:arguments,thisArg:s}),K.__chain__=q,K}return G.apply(s,Yi([this.value()],arguments))})}),s}function ML(){return sr._===this&&(sr._=fN),this}function Nv(){}function DL(s){return s=Ge(s),je(function(l){return f1(l,s)})}var GL=av(Rt),HL=av(Ay),XL=av(Ap);function Rx(s){return dv(s)?Op(Kn(s)):gP(s)}function $L(s){return function(l){return s==null?r:zo(s,l)}}var jL=O1(),zL=O1(!0);function Pv(){return[]}function Av(){return!1}function VL(){return{}}function WL(){return""}function YL(){return!0}function qL(s,l){if(s=Ge(s),s<1||s>Le)return[];var h=j,m=vr(s,j);l=Ce(l),s-=j;for(var E=Up(m,l);++h<s;)l(h);return E}function KL(s){return Me(s)?Rt(s,Kn):Yr(s)?[s]:Fr(Y1(ct(s)))}function ZL(s){var l=++uN;return ct(s)+l}var JL=zf(function(s,l){return s+l},0),QL=sv("ceil"),eF=zf(function(s,l){return s/l},1),tF=sv("floor");function rF(s){return s&&s.length?Mf(s,Br,Vp):r}function nF(s,l){return s&&s.length?Mf(s,Ce(l,2),Vp):r}function iF(s){return Fy(s,Br)}function oF(s,l){return Fy(s,Ce(l,2))}function aF(s){return s&&s.length?Mf(s,Br,Kp):r}function sF(s,l){return s&&s.length?Mf(s,Ce(l,2),Kp):r}var uF=zf(function(s,l){return s*l},1),lF=sv("round"),fF=zf(function(s,l){return s-l},0);function cF(s){return s&&s.length?Fp(s,Br):0}function hF(s,l){return s&&s.length?Fp(s,Ce(l,2)):0}return b.after=FO,b.ary=ox,b.assign=T3,b.assignIn=yx,b.assignInWith=ic,b.assignWith=E3,b.at=w3,b.before=ax,b.bind=yv,b.bindAll=RL,b.bindKey=sx,b.castArray=VO,b.chain=rx,b.chunk=tA,b.compact=rA,b.concat=nA,b.cond=NL,b.conforms=PL,b.constant=Cv,b.countBy=cO,b.create=b3,b.curry=ux,b.curryRight=lx,b.debounce=fx,b.defaults=S3,b.defaultsDeep=C3,b.defer=UO,b.delay=kO,b.difference=iA,b.differenceBy=oA,b.differenceWith=aA,b.drop=sA,b.dropRight=uA,b.dropRightWhile=lA,b.dropWhile=fA,b.fill=cA,b.filter=dO,b.flatMap=_O,b.flatMapDeep=mO,b.flatMapDepth=gO,b.flatten=J1,b.flattenDeep=hA,b.flattenDepth=dA,b.flip=BO,b.flow=OL,b.flowRight=LL,b.fromPairs=pA,b.functions=L3,b.functionsIn=F3,b.groupBy=yO,b.initial=_A,b.intersection=mA,b.intersectionBy=gA,b.intersectionWith=yA,b.invert=k3,b.invertBy=B3,b.invokeMap=TO,b.iteratee=Iv,b.keyBy=EO,b.keys=nr,b.keysIn=kr,b.map=Jf,b.mapKeys=D3,b.mapValues=G3,b.matches=FL,b.matchesProperty=UL,b.memoize=ec,b.merge=H3,b.mergeWith=xx,b.method=kL,b.methodOf=BL,b.mixin=Rv,b.negate=tc,b.nthArg=DL,b.omit=X3,b.omitBy=$3,b.once=MO,b.orderBy=wO,b.over=GL,b.overArgs=DO,b.overEvery=HL,b.overSome=XL,b.partial=xv,b.partialRight=cx,b.partition=bO,b.pick=j3,b.pickBy=Tx,b.property=Rx,b.propertyOf=$L,b.pull=wA,b.pullAll=ex,b.pullAllBy=bA,b.pullAllWith=SA,b.pullAt=CA,b.range=jL,b.rangeRight=zL,b.rearg=GO,b.reject=IO,b.remove=IA,b.rest=HO,b.reverse=mv,b.sampleSize=NO,b.set=V3,b.setWith=W3,b.shuffle=PO,b.slice=RA,b.sortBy=LO,b.sortedUniq=UA,b.sortedUniqBy=kA,b.split=_L,b.spread=XO,b.tail=BA,b.take=MA,b.takeRight=DA,b.takeRightWhile=GA,b.takeWhile=HA,b.tap=rO,b.throttle=$O,b.thru=Zf,b.toArray=_x,b.toPairs=Ex,b.toPairsIn=wx,b.toPath=KL,b.toPlainObject=gx,b.transform=Y3,b.unary=jO,b.union=XA,b.unionBy=$A,b.unionWith=jA,b.uniq=zA,b.uniqBy=VA,b.uniqWith=WA,b.unset=q3,b.unzip=gv,b.unzipWith=tx,b.update=K3,b.updateWith=Z3,b.values=Ka,b.valuesIn=J3,b.without=YA,b.words=Cx,b.wrap=zO,b.xor=qA,b.xorBy=KA,b.xorWith=ZA,b.zip=JA,b.zipObject=QA,b.zipObjectDeep=eO,b.zipWith=tO,b.entries=Ex,b.entriesIn=wx,b.extend=yx,b.extendWith=ic,Rv(b,b),b.add=JL,b.attempt=Ix,b.camelCase=rL,b.capitalize=bx,b.ceil=QL,b.clamp=Q3,b.clone=WO,b.cloneDeep=qO,b.cloneDeepWith=KO,b.cloneWith=YO,b.conformsTo=ZO,b.deburr=Sx,b.defaultTo=AL,b.divide=eF,b.endsWith=nL,b.eq=On,b.escape=iL,b.escapeRegExp=oL,b.every=hO,b.find=pO,b.findIndex=K1,b.findKey=I3,b.findLast=vO,b.findLastIndex=Z1,b.findLastKey=R3,b.floor=tF,b.forEach=nx,b.forEachRight=ix,b.forIn=N3,b.forInRight=P3,b.forOwn=A3,b.forOwnRight=O3,b.get=wv,b.gt=JO,b.gte=QO,b.has=U3,b.hasIn=bv,b.head=Q1,b.identity=Br,b.includes=xO,b.indexOf=vA,b.inRange=eL,b.invoke=M3,b.isArguments=Yo,b.isArray=Me,b.isArrayBuffer=e3,b.isArrayLike=Ur,b.isArrayLikeObject=zt,b.isBoolean=t3,b.isBuffer=to,b.isDate=r3,b.isElement=n3,b.isEmpty=i3,b.isEqual=o3,b.isEqualWith=a3,b.isError=Tv,b.isFinite=s3,b.isFunction=Ti,b.isInteger=hx,b.isLength=rc,b.isMap=dx,b.isMatch=u3,b.isMatchWith=l3,b.isNaN=f3,b.isNative=c3,b.isNil=d3,b.isNull=h3,b.isNumber=px,b.isObject=Ot,b.isObjectLike=kt,b.isPlainObject=Cu,b.isRegExp=Ev,b.isSafeInteger=p3,b.isSet=vx,b.isString=nc,b.isSymbol=Yr,b.isTypedArray=qa,b.isUndefined=v3,b.isWeakMap=_3,b.isWeakSet=m3,b.join=xA,b.kebabCase=aL,b.last=pn,b.lastIndexOf=TA,b.lowerCase=sL,b.lowerFirst=uL,b.lt=g3,b.lte=y3,b.max=rF,b.maxBy=nF,b.mean=iF,b.meanBy=oF,b.min=aF,b.minBy=sF,b.stubArray=Pv,b.stubFalse=Av,b.stubObject=VL,b.stubString=WL,b.stubTrue=YL,b.multiply=uF,b.nth=EA,b.noConflict=ML,b.noop=Nv,b.now=Qf,b.pad=lL,b.padEnd=fL,b.padStart=cL,b.parseInt=hL,b.random=tL,b.reduce=SO,b.reduceRight=CO,b.repeat=dL,b.replace=pL,b.result=z3,b.round=lF,b.runInContext=D,b.sample=RO,b.size=AO,b.snakeCase=vL,b.some=OO,b.sortedIndex=NA,b.sortedIndexBy=PA,b.sortedIndexOf=AA,b.sortedLastIndex=OA,b.sortedLastIndexBy=LA,b.sortedLastIndexOf=FA,b.startCase=mL,b.startsWith=gL,b.subtract=fF,b.sum=cF,b.sumBy=hF,b.template=yL,b.times=qL,b.toFinite=Ei,b.toInteger=Ge,b.toLength=mx,b.toLower=xL,b.toNumber=vn,b.toSafeInteger=x3,b.toString=ct,b.toUpper=TL,b.trim=EL,b.trimEnd=wL,b.trimStart=bL,b.truncate=SL,b.unescape=CL,b.uniqueId=ZL,b.upperCase=IL,b.upperFirst=Sv,b.each=nx,b.eachRight=ix,b.first=Q1,Rv(b,function(){var s={};return Yn(b,function(l,h){dt.call(b.prototype,h)||(s[h]=l)}),s}(),{chain:!1}),b.VERSION=n,ln(["bind","bindKey","curry","curryRight","partial","partialRight"],function(s){b[s].placeholder=b}),ln(["drop","take"],function(s,l){Ke.prototype[s]=function(h){h=h===r?1:Jt(Ge(h),0);var m=this.__filtered__&&!l?new Ke(this):this.clone();return m.__filtered__?m.__takeCount__=vr(h,m.__takeCount__):m.__views__.push({size:vr(h,j),type:s+(m.__dir__<0?"Right":"")}),m},Ke.prototype[s+"Right"]=function(h){return this.reverse()[s](h).reverse()}}),ln(["filter","map","takeWhile"],function(s,l){var h=l+1,m=h==Ve||h==le;Ke.prototype[s]=function(E){var C=this.clone();return C.__iteratees__.push({iteratee:Ce(E,3),type:h}),C.__filtered__=C.__filtered__||m,C}}),ln(["head","last"],function(s,l){var h="take"+(l?"Right":"");Ke.prototype[s]=function(){return this[h](1).value()[0]}}),ln(["initial","tail"],function(s,l){var h="drop"+(l?"":"Right");Ke.prototype[s]=function(){return this.__filtered__?new Ke(this):this[h](1)}}),Ke.prototype.compact=function(){return this.filter(Br)},Ke.prototype.find=function(s){return this.filter(s).head()},Ke.prototype.findLast=function(s){return this.reverse().find(s)},Ke.prototype.invokeMap=je(function(s,l){return typeof s=="function"?new Ke(this):this.map(function(h){return xu(h,s,l)})}),Ke.prototype.reject=function(s){return this.filter(tc(Ce(s)))},Ke.prototype.slice=function(s,l){s=Ge(s);var h=this;return h.__filtered__&&(s>0||l<0)?new Ke(h):(s<0?h=h.takeRight(-s):s&&(h=h.drop(s)),l!==r&&(l=Ge(l),h=l<0?h.dropRight(-l):h.take(l-s)),h)},Ke.prototype.takeRightWhile=function(s){return this.reverse().takeWhile(s).reverse()},Ke.prototype.toArray=function(){return this.take(j)},Yn(Ke.prototype,function(s,l){var h=/^(?:filter|find|map|reject)|While$/.test(l),m=/^(?:head|last)$/.test(l),E=b[m?"take"+(l=="last"?"Right":""):l],C=m||/^find/.test(l);!E||(b.prototype[l]=function(){var O=this.__wrapped__,F=m?[1]:arguments,G=O instanceof Ke,q=F[0],K=G||Me(O),J=function(Ye){var Je=E.apply(b,Yi([Ye],F));return m&&ce?Je[0]:Je};K&&h&&typeof q=="function"&&q.length!=1&&(G=K=!1);var ce=this.__chain__,ge=!!this.__actions__.length,Re=C&&!ce,Xe=G&&!ge;if(!C&&K){O=Xe?O:new Ke(this);var Ne=s.apply(O,F);return Ne.__actions__.push({func:Zf,args:[J],thisArg:r}),new cn(Ne,ce)}return Re&&Xe?s.apply(this,F):(Ne=this.thru(J),Re?m?Ne.value()[0]:Ne.value():Ne)})}),ln(["pop","push","shift","sort","splice","unshift"],function(s){var l=wf[s],h=/^(?:push|sort|unshift)$/.test(s)?"tap":"thru",m=/^(?:pop|shift)$/.test(s);b.prototype[s]=function(){var E=arguments;if(m&&!this.__chain__){var C=this.value();return l.apply(Me(C)?C:[],E)}return this[h](function(O){return l.apply(Me(O)?O:[],E)})}}),Yn(Ke.prototype,function(s,l){var h=b[l];if(h){var m=h.name+"";dt.call(ja,m)||(ja[m]=[]),ja[m].push({name:l,func:h})}}),ja[jf(r,x).name]=[{name:"wrapper",func:r}],Ke.prototype.clone=CN,Ke.prototype.reverse=IN,Ke.prototype.value=RN,b.prototype.at=nO,b.prototype.chain=iO,b.prototype.commit=oO,b.prototype.next=aO,b.prototype.plant=uO,b.prototype.reverse=lO,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=fO,b.prototype.first=b.prototype.head,du&&(b.prototype[du]=sO),b},Ha=oN();Go?((Go.exports=Ha)._=Ha,Ip._=Ha):sr._=Ha}).call(gn)})(Gr,Gr.exports);var ya=Gr.exports;const di=(e,t,r)=>{const n=e.split(`
`);let i=[],o=[];const a=n.map(f=>{const c=XM(f);return i=[...i,...c.sentenceAssets],o=[...o,...c.subScene],c});i=ya.uniqWith(i),$M(i),_C.push(r),o=ya.uniqWith(o),jM(o);const u={sceneName:t,sceneUrl:r,sentenceList:a,assetsList:i,subSceneList:o};return lt.info(`\u89E3\u6790\u573A\u666F\uFF1A${t}\uFF0C\u6570\u636E\u4E3A\uFF1A`,u),u},tn=[],_e={performList:[],timeoutList:[],isAuto:!1,isFast:!1,autoInterval:null,fastInterval:null,autoTimeout:null,currentPixi:null},ry=e=>{e&&tn.splice(0,tn.length),Oe.currentSentenceId=0,Oe.sceneStack=[],Oe.currentScene=EC.currentScene;for(const o of _e.performList)o.stopFunction();_e.performList=[];for(const o of _e.timeoutList)clearTimeout(o);_e.timeoutList=[],_e.isAuto=!1,_e.isFast=!1;const t=_e.autoInterval;t!==null&&clearInterval(t),_e.autoInterval=null;const r=_e.fastInterval;r!==null&&clearInterval(r),_e.fastInterval=null;const n=_e.autoTimeout;n!==null&&clearInterval(n),_e.autoTimeout=null;const i=Gr.exports.cloneDeep(pC);Ue.dispatch(ru(i))},zM="_TextBox_EventHandler_1295f_2",VM="_TextBox_main_1295f_10",WM="_showSoftly_1295f_1",YM="_TextBox_textElement_1295f_37",qM="_TextBox_textElement_start_1295f_42",KM="_TextDelayShow_1295f_1",ZM="_TextBox_textElement_Settled_1295f_47",JM="_TextBox_showName_1295f_51",QM="_miniAvatarContainer_1295f_67",e6="_miniAvatarImg_1295f_75";var Pi={TextBox_EventHandler:zM,TextBox_main:VM,showSoftly:WM,TextBox_textElement:YM,TextBox_textElement_start:qM,TextDelayShow:KM,TextBox_textElement_Settled:ZM,TextBox_showName:JM,miniAvatarContainer:QM,miniAvatarImg:e6};const ny=()=>Math.random().toString().substring(0,10),wd=e=>{for(let t=0;t<_e.performList.length;t++){const r=_e.performList[t];!r.isHoldOn&&r.performName===e&&(r.stopFunction(),clearTimeout(r.stopTimeout),_e.performList.splice(t,1),t--)}},t6=e=>{lt.debug("\u5355\u6B21\u64AD\u653E\u8BED\u97F3");const t=ny();let r="";for(const i of e.args)i.key==="vocal"&&(r=i.value.toString());let n=document.getElementById("currentVocal");n!==null&&(n.currentTime=0,n.pause()),Ue.dispatch(en({key:"vocal",value:r})),setTimeout(()=>{let i=document.getElementById("currentVocal");if(i!==null){i.currentTime=0;const o={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!0,stopFunction:()=>{i.oncanplay=()=>{},i.pause()},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};_e.performList.push(o),i.oncanplay=()=>{i.play()},i.onended=()=>{for(const a of _e.performList)a.performName===t&&(a.isOver=!0,a.stopFunction(),wd(a.performName))}}},1)},AE=e=>{const t=Ue.getState().stage,r=Ue.getState().userData,n=Ue.dispatch;n(en({key:"showText",value:e.content})),n(en({key:"vocal",value:""}));let i=t.showName;for(const f of e.args)f.key==="speaker"&&(i=f.value),f.key==="clear"&&f.value===!0&&(i=""),f.key==="vocal"&&t6(e);n(en({key:"showName",value:i})),setTimeout(()=>{[...document.querySelectorAll("."+Pi.TextBox_textElement_start)].forEach(d=>{d.className=Pi.TextBox_textElement})},0);const o=ny(),a=55-20*r.optionData.textSpeed,u=750-r.optionData.textSpeed*250;return{performName:o,duration:e.content.length*a+u,isOver:!1,isHoldOn:!1,stopFunction:()=>{[...document.querySelectorAll("."+Pi.TextBox_textElement)].forEach(d=>{d.className=Pi.TextBox_textElement_Settled})},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},r6={performName:"",duration:100,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0},n6="_MainStage_main_19lz6_1",i6="_MainStage_bgContainer_19lz6_9",o6="_MainStage_showBgSoftly_19lz6_1",a6="_MainStage_bgContainer_Settled_19lz6_19",s6="_MainStage_oldBgContainer_19lz6_29",u6="_MainStage_oldBgFadeout_19lz6_1",l6="_MainStage_oldBgContainer_Settled_19lz6_39";var uh={MainStage_main:n6,MainStage_bgContainer:i6,MainStage_showBgSoftly:o6,MainStage_bgContainer_Settled:a6,MainStage_oldBgContainer:s6,MainStage_oldBgFadeout:u6,MainStage_oldBgContainer_Settled:l6};const f6=e=>{const r=Ue.getState().stage.bgName,n=Ue.dispatch;return n(en({key:"oldBgName",value:r})),n(en({key:"bgName",value:e.content})),{performName:"none",duration:1e3,isOver:!1,isHoldOn:!1,stopFunction:()=>{const i=document.getElementById("MainStage_bg_MainContainer");i&&(i.className=uh.MainStage_bgContainer_Settled)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},c6=e=>{let t="center",r=e.content;for(const i of e.args)i.key==="left"&&i.value===!0&&(t="left"),i.key==="right"&&i.value===!0&&(t="right"),i.key==="clear"&&i.value===!0&&(r=""),r==="none"&&(r="");const n=Ue.dispatch;switch(t){case"center":n(en({key:"figName",value:r}));break;case"left":n(en({key:"figNameLeft",value:r}));break;case"right":n(en({key:"figNameRight",value:r}));break}return{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},h6=e=>{let t=e.content;return gd(t),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},d6=(e,t)=>{Oe.sceneStack.push({sceneName:Oe.currentScene.sceneName,sceneUrl:Oe.currentScene.sceneUrl,continueLine:Oe.currentSentenceId}),hi(e).then(r=>{Oe.currentScene=di(r,t,e),Oe.currentSentenceId=0,lt.debug("\u73B0\u5728\u8C03\u7528\u573A\u666F\uFF0C\u8C03\u7528\u7ED3\u679C\uFF1A",Oe),In()})},p6=e=>{const t=e.content.split("/"),r=t[t.length-1];return d6(e.content,r),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},MC=(e,t)=>{hi(e).then(r=>{Oe.currentScene=di(r,t,e),Oe.currentSentenceId=0,lt.debug("\u73B0\u5728\u5207\u6362\u573A\u666F\uFF0C\u5207\u6362\u540E\u7684\u7ED3\u679C\uFF1A",Oe),In()})},v6=e=>{const t=e.content.split("/"),r=t[t.length-1];return MC(e.content,r),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},_6="_FullScreenPerform_main_14crw_2",m6="_FullScreenPerform_element_14crw_9",g6="_fullScreen_video_14crw_17",y6="_introContainer_14crw_25",x6="_introElement_14crw_38",T6="_intro_showSoftly_14crw_1",E6="_videoContainer_14crw_52";var Ll={FullScreenPerform_main:_6,FullScreenPerform_element:m6,fullScreen_video:g6,introContainer:y6,introElement:x6,intro_showSoftly:T6,videoContainer:E6},bd={exports:{}},ef={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w6=jt.exports,DC=60103;ef.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var OE=Symbol.for;DC=OE("react.element"),ef.Fragment=OE("react.fragment")}var b6=w6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S6=Object.prototype.hasOwnProperty,C6={key:!0,ref:!0,__self:!0,__source:!0};function GC(e,t,r){var n,i={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)S6.call(t,n)&&!C6.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:DC,type:e,key:o,ref:a,props:i,_owner:b6.current}}ef.jsx=GC;ef.jsxs=GC;bd.exports=ef;const X=bd.exports.jsx,Pe=bd.exports.jsxs,nu=bd.exports.Fragment,I6=e=>{const t=e.content.split(/\|/),r=t.map((o,a)=>X("div",{style:{animationDelay:`${1500*a}ms`},className:Ll.introElement,children:o},"introtext"+a+Math.random().toString())),n=X("div",{children:r});Gs.render(n,document.getElementById("introContainer"));const i=document.getElementById("introContainer");return i&&(i.style.display="block"),{performName:"introPerform",duration:1e3+1500*t.length,isOver:!1,isHoldOn:!1,stopFunction:()=>{const o=document.getElementById("introContainer");o&&(o.style.display="none"),setTimeout(In,1)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}};function R6(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}function N6(e){var t=this;return new t(function(r,n){if(!(e&&typeof e.length!="undefined"))return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(i.length===0)return r([]);var o=i.length;function a(f,c){if(c&&(typeof c=="object"||typeof c=="function")){var d=c.then;if(typeof d=="function"){d.call(c,function(p){a(f,p)},function(p){i[f]={status:"rejected",reason:p},--o===0&&r(i)});return}}i[f]={status:"fulfilled",value:c},--o===0&&r(i)}for(var u=0;u<i.length;u++)a(u,i[u])})}var P6=setTimeout;function HC(e){return Boolean(e&&typeof e.length!="undefined")}function A6(){}function O6(e,t){return function(){e.apply(t,arguments)}}function $t(e){if(!(this instanceof $t))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],$C(e,this)}function XC(e,t){for(;e._state===3;)e=e._value;if(e._state===0){e._deferreds.push(t);return}e._handled=!0,$t._immediateFn(function(){var r=e._state===1?t.onFulfilled:t.onRejected;if(r===null){(e._state===1?zm:Fl)(t.promise,e._value);return}var n;try{n=r(e._value)}catch(i){Fl(t.promise,i);return}zm(t.promise,n)})}function zm(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(typeof t=="object"||typeof t=="function")){var r=t.then;if(t instanceof $t){e._state=3,e._value=t,Vm(e);return}else if(typeof r=="function"){$C(O6(r,t),e);return}}e._state=1,e._value=t,Vm(e)}catch(n){Fl(e,n)}}function Fl(e,t){e._state=2,e._value=t,Vm(e)}function Vm(e){e._state===2&&e._deferreds.length===0&&$t._immediateFn(function(){e._handled||$t._unhandledRejectionFn(e._value)});for(var t=0,r=e._deferreds.length;t<r;t++)XC(e,e._deferreds[t]);e._deferreds=null}function L6(e,t,r){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.promise=r}function $C(e,t){var r=!1;try{e(function(n){r||(r=!0,zm(t,n))},function(n){r||(r=!0,Fl(t,n))})}catch(n){if(r)return;r=!0,Fl(t,n)}}$t.prototype.catch=function(e){return this.then(null,e)};$t.prototype.then=function(e,t){var r=new this.constructor(A6);return XC(this,new L6(e,t,r)),r};$t.prototype.finally=R6;$t.all=function(e){return new $t(function(t,r){if(!HC(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(n.length===0)return t([]);var i=n.length;function o(u,f){try{if(f&&(typeof f=="object"||typeof f=="function")){var c=f.then;if(typeof c=="function"){c.call(f,function(d){o(u,d)},r);return}}n[u]=f,--i===0&&t(n)}catch(d){r(d)}}for(var a=0;a<n.length;a++)o(a,n[a])})};$t.allSettled=N6;$t.resolve=function(e){return e&&typeof e=="object"&&e.constructor===$t?e:new $t(function(t){t(e)})};$t.reject=function(e){return new $t(function(t,r){r(e)})};$t.race=function(e){return new $t(function(t,r){if(!HC(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)$t.resolve(e[n]).then(t,r)})};$t._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){P6(e,0)};$t._unhandledRejectionFn=function(t){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};/*!
 * @pixi/polyfill - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis=="undefined"&&(typeof self!="undefined"?self.globalThis=self:typeof global!="undefined"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=$t);Object.assign||(Object.assign=Dg);var F6=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var U6=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-U6}}var __=Date.now(),LE=["ms","moz","webkit","o"];for(var m_=0;m_<LE.length&&!globalThis.requestAnimationFrame;++m_){var g_=LE[m_];globalThis.requestAnimationFrame=globalThis[g_+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[g_+"CancelAnimationFrame"]||globalThis[g_+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var t=Date.now(),r=F6+__-t;return r<0&&(r=0),__=t,globalThis.self.setTimeout(function(){__=Date.now(),e(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)});Math.sign||(Math.sign=function(t){return t=Number(t),t===0||isNaN(t)?t:t>0?1:-1});Number.isInteger||(Number.isInteger=function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var y_=/iPhone/i,FE=/iPod/i,UE=/iPad/i,kE=/\biOS-universal(?:.+)Mac\b/i,x_=/\bAndroid(?:.+)Mobile\b/i,BE=/Android/i,rs=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ec=/Silk/i,bi=/Windows Phone/i,ME=/\bWindows(?:.+)ARM\b/i,DE=/BlackBerry/i,GE=/BB10/i,HE=/Opera Mini/i,XE=/\b(CriOS|Chrome)(?:.+)Mobile/i,$E=/Mobile(?:.+)Firefox\b/i,jE=function(e){return typeof e!="undefined"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream=="undefined"};function k6(e){return function(t){return t.test(e)}}function B6(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator!="undefined"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]!="undefined"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]!="undefined"&&(r=n[0]);var i=k6(r),o={apple:{phone:i(y_)&&!i(bi),ipod:i(FE),tablet:!i(y_)&&(i(UE)||jE(t))&&!i(bi),universal:i(kE),device:(i(y_)||i(FE)||i(UE)||i(kE)||jE(t))&&!i(bi)},amazon:{phone:i(rs),tablet:!i(rs)&&i(Ec),device:i(rs)||i(Ec)},android:{phone:!i(bi)&&i(rs)||!i(bi)&&i(x_),tablet:!i(bi)&&!i(rs)&&!i(x_)&&(i(Ec)||i(BE)),device:!i(bi)&&(i(rs)||i(Ec)||i(x_)||i(BE))||i(/\bokhttp\b/i)},windows:{phone:i(bi),tablet:i(ME),device:i(bi)||i(ME)},other:{blackberry:i(DE),blackberry10:i(GE),opera:i(HE),firefox:i($E),chrome:i(XE),device:i(DE)||i(GE)||i(HE)||i($E)||i(XE)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}/*!
 * @pixi/settings - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ri=B6(globalThis.navigator);function M6(e){var t=!0;if(ri.tablet||ri.phone){if(ri.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(t=!1)}}if(ri.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(t=!1)}}}return t?e:4}function D6(){return!ri.apple.device}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zE;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(zE||(zE={}));var VE;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(VE||(VE={}));var WE;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(WE||(WE={}));var YE;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(YE||(YE={}));var qE;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(qE||(qE={}));var KE;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(KE||(KE={}));var ZE;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ZE||(ZE={}));var JE;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(JE||(JE={}));var QE;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(QE||(QE={}));var Wm;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Wm||(Wm={}));var Ym;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ym||(Ym={}));var qm;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(qm||(qm={}));var ew;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ew||(ew={}));var tw;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(tw||(tw={}));var Km;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(Km||(Km={}));var dl;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(dl||(dl={}));var rw;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(rw||(rw={}));var Zm;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Zm||(Zm={}));var nw;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(nw||(nw={}));var Te={MIPMAP_TEXTURES:qm.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Zm.NONE,SPRITE_MAX_TEXTURES:M6(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Km.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Ym.CLAMP,SCALE_MODE:Wm.LINEAR,PRECISION_VERTEX:dl.HIGH,PRECISION_FRAGMENT:ri.apple.device?dl.HIGH:dl.MEDIUM,CAN_UPLOAD_SAME_BUFFER:D6(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},jC={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(f,c,d){this.fn=f,this.context=c,this.once=d||!1}function o(f,c,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var _=new i(d,p||f,v),y=r?r+c:c;return f._events[y]?f._events[y].fn?f._events[y]=[f._events[y],_]:f._events[y].push(_):(f._events[y]=_,f._eventsCount++),f}function a(f,c){--f._eventsCount===0?f._events=new n:delete f._events[c]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)t.call(d,p)&&c.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},u.prototype.listeners=function(c){var d=r?r+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,_=p.length,y=new Array(_);v<_;v++)y[v]=p[v].fn;return y},u.prototype.listenerCount=function(c){var d=r?r+c:c,p=this._events[d];return p?p.fn?1:p.length:0},u.prototype.emit=function(c,d,p,v,_,y){var T=r?r+c:c;if(!this._events[T])return!1;var g=this._events[T],x=arguments.length,w,I;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,p),!0;case 4:return g.fn.call(g.context,d,p,v),!0;case 5:return g.fn.call(g.context,d,p,v,_),!0;case 6:return g.fn.call(g.context,d,p,v,_,y),!0}for(I=1,w=new Array(x-1);I<x;I++)w[I-1]=arguments[I];g.fn.apply(g.context,w)}else{var A=g.length,N;for(I=0;I<A;I++)switch(g[I].once&&this.removeListener(c,g[I].fn,void 0,!0),x){case 1:g[I].fn.call(g[I].context);break;case 2:g[I].fn.call(g[I].context,d);break;case 3:g[I].fn.call(g[I].context,d,p);break;case 4:g[I].fn.call(g[I].context,d,p,v);break;default:if(!w)for(N=1,w=new Array(x-1);N<x;N++)w[N-1]=arguments[N];g[I].fn.apply(g[I].context,w)}}return!0},u.prototype.on=function(c,d,p){return o(this,c,d,p,!1)},u.prototype.once=function(c,d,p){return o(this,c,d,p,!0)},u.prototype.removeListener=function(c,d,p,v){var _=r?r+c:c;if(!this._events[_])return this;if(!d)return a(this,_),this;var y=this._events[_];if(y.fn)y.fn===d&&(!v||y.once)&&(!p||y.context===p)&&a(this,_);else{for(var T=0,g=[],x=y.length;T<x;T++)(y[T].fn!==d||v&&!y[T].once||p&&y[T].context!==p)&&g.push(y[T]);g.length?this._events[_]=g.length===1?g[0]:g:a(this,_)}return this},u.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(jC);var tf=jC.exports,iy={exports:{}};iy.exports=Sd;iy.exports.default=Sd;function Sd(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,o=zC(e,0,i,r,!0),a=[];if(!o||o.next===o.prev)return a;var u,f,c,d,p,v,_;if(n&&(o=j6(e,t,o,r)),e.length>80*r){u=c=e[0],f=d=e[1];for(var y=r;y<i;y+=r)p=e[y],v=e[y+1],p<u&&(u=p),v<f&&(f=v),p>c&&(c=p),v>d&&(d=v);_=Math.max(c-u,d-f),_=_!==0?1/_:0}return Ul(o,a,r,u,f,_),a}function zC(e,t,r,n,i){var o,a;if(i===eg(e,t,r,n)>0)for(o=t;o<r;o+=n)a=iw(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=iw(o,e[o],e[o+1],a);return a&&Cd(a,a.next)&&(Bl(a),a=a.next),a}function No(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(Cd(r,r.next)||Ut(r.prev,r,r.next)===0)){if(Bl(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function Ul(e,t,r,n,i,o,a){if(!!e){!a&&o&&q6(e,n,i,o);for(var u=e,f,c;e.prev!==e.next;){if(f=e.prev,c=e.next,o?H6(e,n,i,o):G6(e)){t.push(f.i/r),t.push(e.i/r),t.push(c.i/r),Bl(e),e=c.next,u=c.next;continue}if(e=c,e===u){a?a===1?(e=X6(No(e),t,r),Ul(e,t,r,n,i,o,2)):a===2&&$6(e,t,r,n,i,o):Ul(No(e),t,r,n,i,o,1);break}}}}function G6(e){var t=e.prev,r=e,n=e.next;if(Ut(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(vs(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&Ut(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function H6(e,t,r,n){var i=e.prev,o=e,a=e.next;if(Ut(i,o,a)>=0)return!1;for(var u=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,f=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,d=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,p=Jm(u,f,t,r,n),v=Jm(c,d,t,r,n),_=e.prevZ,y=e.nextZ;_&&_.z>=p&&y&&y.z<=v;){if(_!==e.prev&&_!==e.next&&vs(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&Ut(_.prev,_,_.next)>=0||(_=_.prevZ,y!==e.prev&&y!==e.next&&vs(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&Ut(y.prev,y,y.next)>=0))return!1;y=y.nextZ}for(;_&&_.z>=p;){if(_!==e.prev&&_!==e.next&&vs(i.x,i.y,o.x,o.y,a.x,a.y,_.x,_.y)&&Ut(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;y&&y.z<=v;){if(y!==e.prev&&y!==e.next&&vs(i.x,i.y,o.x,o.y,a.x,a.y,y.x,y.y)&&Ut(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function X6(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!Cd(i,o)&&VC(i,n,n.next,o)&&kl(i,o)&&kl(o,i)&&(t.push(i.i/r),t.push(n.i/r),t.push(o.i/r),Bl(n),Bl(n.next),n=e=o),n=n.next}while(n!==e);return No(n)}function $6(e,t,r,n,i,o){var a=e;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&J6(a,u)){var f=WC(a,u);a=No(a,a.next),f=No(f,f.next),Ul(a,t,r,n,i,o),Ul(f,t,r,n,i,o);return}u=u.next}a=a.next}while(a!==e)}function j6(e,t,r,n){var i=[],o,a,u,f,c;for(o=0,a=t.length;o<a;o++)u=t[o]*n,f=o<a-1?t[o+1]*n:e.length,c=zC(e,u,f,n,!1),c===c.next&&(c.steiner=!0),i.push(Z6(c));for(i.sort(z6),o=0;o<i.length;o++)r=V6(i[o],r),r=No(r,r.next);return r}function z6(e,t){return e.x-t.x}function V6(e,t){var r=W6(e,t);if(!r)return t;var n=WC(r,e),i=No(r,r.next);return No(n,n.next),t===r?i:t}function W6(e,t){var r=t,n=e.x,i=e.y,o=-1/0,a;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>o){if(o=u,u===n){if(i===r.y)return r;if(i===r.next.y)return r.next}a=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!a)return null;if(n===o)return a;var f=a,c=a.x,d=a.y,p=1/0,v;r=a;do n>=r.x&&r.x>=c&&n!==r.x&&vs(i<d?n:o,i,c,d,i<d?o:n,i,r.x,r.y)&&(v=Math.abs(i-r.y)/(n-r.x),kl(r,e)&&(v<p||v===p&&(r.x>a.x||r.x===a.x&&Y6(a,r)))&&(a=r,p=v)),r=r.next;while(r!==f);return a}function Y6(e,t){return Ut(e.prev,e,t.prev)<0&&Ut(t.next,e,e.next)<0}function q6(e,t,r,n){var i=e;do i.z===null&&(i.z=Jm(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,K6(i)}function K6(e){var t,r,n,i,o,a,u,f,c=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,u=0,t=0;t<c&&(u++,n=n.nextZ,!!n);t++);for(f=c;u>0||f>0&&n;)u!==0&&(f===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,f--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1);return e}function Jm(e,t,r,n,i){return e=32767*(e-r)*i,t=32767*(t-n)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Z6(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function vs(e,t,r,n,i,o,a,u){return(i-a)*(t-u)-(e-a)*(o-u)>=0&&(e-a)*(n-u)-(r-a)*(t-u)>=0&&(r-a)*(o-u)-(i-a)*(n-u)>=0}function J6(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!Q6(e,t)&&(kl(e,t)&&kl(t,e)&&eD(e,t)&&(Ut(e.prev,e,t.prev)||Ut(e,t.prev,t))||Cd(e,t)&&Ut(e.prev,e,e.next)>0&&Ut(t.prev,t,t.next)>0)}function Ut(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Cd(e,t){return e.x===t.x&&e.y===t.y}function VC(e,t,r,n){var i=bc(Ut(e,t,r)),o=bc(Ut(e,t,n)),a=bc(Ut(r,n,e)),u=bc(Ut(r,n,t));return!!(i!==o&&a!==u||i===0&&wc(e,r,t)||o===0&&wc(e,n,t)||a===0&&wc(r,e,n)||u===0&&wc(r,t,n))}function wc(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function bc(e){return e>0?1:e<0?-1:0}function Q6(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&VC(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function kl(e,t){return Ut(e.prev,e,e.next)<0?Ut(e,t,e.next)>=0&&Ut(e,e.prev,t)>=0:Ut(e,t,e.prev)<0||Ut(e,e.next,t)<0}function eD(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function WC(e,t){var r=new Qm(e.i,e.x,e.y),n=new Qm(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function iw(e,t,r,n){var i=new Qm(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Bl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Qm(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Sd.deviation=function(e,t,r,n){var i=t&&t.length,o=i?t[0]*r:e.length,a=Math.abs(eg(e,0,o,r));if(i)for(var u=0,f=t.length;u<f;u++){var c=t[u]*r,d=u<f-1?t[u+1]*r:e.length;a-=Math.abs(eg(e,c,d,r))}var p=0;for(u=0;u<n.length;u+=3){var v=n[u]*r,_=n[u+1]*r,y=n[u+2]*r;p+=Math.abs((e[v]-e[y])*(e[_+1]-e[v+1])-(e[v]-e[_])*(e[y+1]-e[v+1]))}return a===0&&p===0?0:Math.abs((p-a)/a)};function eg(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}Sd.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var YC=iy.exports,tg={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof gn=="object"&&gn;(o.global===o||o.window===o||o.self===o)&&(r=o);var a,u=2147483647,f=36,c=1,d=26,p=38,v=700,_=72,y=128,T="-",g=/^xn--/,x=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=f-c,N=Math.floor,R=String.fromCharCode,B;function $(Z){throw RangeError(I[Z])}function M(Z,j){for(var re=Z.length,fe=[];re--;)fe[re]=j(Z[re]);return fe}function W(Z,j){var re=Z.split("@"),fe="";re.length>1&&(fe=re[0]+"@",Z=re[1]),Z=Z.replace(w,".");var Ee=Z.split("."),Ae=M(Ee,j).join(".");return fe+Ae}function he(Z){for(var j=[],re=0,fe=Z.length,Ee,Ae;re<fe;)Ee=Z.charCodeAt(re++),Ee>=55296&&Ee<=56319&&re<fe?(Ae=Z.charCodeAt(re++),(Ae&64512)==56320?j.push(((Ee&1023)<<10)+(Ae&1023)+65536):(j.push(Ee),re--)):j.push(Ee);return j}function ae(Z){return M(Z,function(j){var re="";return j>65535&&(j-=65536,re+=R(j>>>10&1023|55296),j=56320|j&1023),re+=R(j),re}).join("")}function de(Z){return Z-48<10?Z-22:Z-65<26?Z-65:Z-97<26?Z-97:f}function Ve(Z,j){return Z+22+75*(Z<26)-((j!=0)<<5)}function ue(Z,j,re){var fe=0;for(Z=re?N(Z/v):Z>>1,Z+=N(Z/j);Z>A*d>>1;fe+=f)Z=N(Z/A);return N(fe+(A+1)*Z/(Z+p))}function le(Z){var j=[],re=Z.length,fe,Ee=0,Ae=y,Be=_,ot,at,We,Et,qe,st,De,ft,et;for(ot=Z.lastIndexOf(T),ot<0&&(ot=0),at=0;at<ot;++at)Z.charCodeAt(at)>=128&&$("not-basic"),j.push(Z.charCodeAt(at));for(We=ot>0?ot+1:0;We<re;){for(Et=Ee,qe=1,st=f;We>=re&&$("invalid-input"),De=de(Z.charCodeAt(We++)),(De>=f||De>N((u-Ee)/qe))&&$("overflow"),Ee+=De*qe,ft=st<=Be?c:st>=Be+d?d:st-Be,!(De<ft);st+=f)et=f-ft,qe>N(u/et)&&$("overflow"),qe*=et;fe=j.length+1,Be=ue(Ee-Et,fe,Et==0),N(Ee/fe)>u-Ae&&$("overflow"),Ae+=N(Ee/fe),Ee%=fe,j.splice(Ee++,0,Ae)}return ae(j)}function ye(Z){var j,re,fe,Ee,Ae,Be,ot,at,We,Et,qe,st=[],De,ft,et,ze;for(Z=he(Z),De=Z.length,j=y,re=0,Ae=_,Be=0;Be<De;++Be)qe=Z[Be],qe<128&&st.push(R(qe));for(fe=Ee=st.length,Ee&&st.push(T);fe<De;){for(ot=u,Be=0;Be<De;++Be)qe=Z[Be],qe>=j&&qe<ot&&(ot=qe);for(ft=fe+1,ot-j>N((u-re)/ft)&&$("overflow"),re+=(ot-j)*ft,j=ot,Be=0;Be<De;++Be)if(qe=Z[Be],qe<j&&++re>u&&$("overflow"),qe==j){for(at=re,We=f;Et=We<=Ae?c:We>=Ae+d?d:We-Ae,!(at<Et);We+=f)ze=at-Et,et=f-Et,st.push(R(Ve(Et+ze%et,0))),at=N(ze/et);st.push(R(Ve(at,0))),Ae=ue(re,ft,fe==Ee),re=0,++fe}++re,++j}return st.join("")}function Le(Z){return W(Z,function(j){return g.test(j)?le(j.slice(4).toLowerCase()):j})}function ht(Z){return W(Z,function(j){return x.test(j)?"xn--"+ye(j):j})}if(a={version:"1.3.2",ucs2:{decode:he,encode:ae},decode:le,encode:ye,toASCII:ht,toUnicode:Le},n&&i)if(e.exports==n)i.exports=a;else for(B in a)a.hasOwnProperty(B)&&(n[B]=a[B]);else r.punycode=a})(gn)})(tg,tg.exports);var tD={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},Ml={};function rD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var nD=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&typeof n.maxKeys=="number"&&(a=n.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var f=0;f<u;++f){var c=e[f].replace(o,"%20"),d=c.indexOf(r),p,v,_,y;d>=0?(p=c.substr(0,d),v=c.substr(d+1)):(p=c,v=""),_=decodeURIComponent(p),y=decodeURIComponent(v),rD(i,_)?Array.isArray(i[_])?i[_].push(y):i[_]=[i[_],y]:i[_]=y}return i},Du=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},iD=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var o=encodeURIComponent(Du(i))+r;return Array.isArray(e[i])?e[i].map(function(a){return o+encodeURIComponent(Du(a))}).join(t):o+encodeURIComponent(Du(e[i]))}).join(t):n?encodeURIComponent(Du(n))+r+encodeURIComponent(Du(e)):""};Ml.decode=Ml.parse=nD;Ml.encode=Ml.stringify=iD;var oD=tg.exports,Jn=tD,aD=Id,sD=gD,uD=mD;function Xn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var lD=/^([a-z0-9.+-]+:)/i,fD=/:[0-9]*$/,cD=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,hD=["<",">",'"',"`"," ","\r",`
`,"	"],dD=["{","}","|","\\","^","`"].concat(hD),rg=["'"].concat(dD),ow=["%","/","?",";","#"].concat(rg),aw=["/","?","#"],pD=255,sw=/^[+a-z0-9A-Z_-]{0,63}$/,vD=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_D={javascript:!0,"javascript:":!0},ng={javascript:!0,"javascript:":!0},Ls={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ig=Ml;function Id(e,t,r){if(e&&Jn.isObject(e)&&e instanceof Xn)return e;var n=new Xn;return n.parse(e,t,r),n}Xn.prototype.parse=function(e,t,r){if(!Jn.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),a=/\\/g;o[0]=o[0].replace(a,"/"),e=o.join(i);var u=e;if(u=u.trim(),!r&&e.split("#").length===1){var f=cD.exec(u);if(f)return this.path=u,this.href=u,this.pathname=f[1],f[2]?(this.search=f[2],t?this.query=ig.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=lD.exec(u);if(c){c=c[0];var d=c.toLowerCase();this.protocol=d,u=u.substr(c.length)}if(r||c||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var p=u.substr(0,2)==="//";p&&!(c&&ng[c])&&(u=u.substr(2),this.slashes=!0)}if(!ng[c]&&(p||c&&!Ls[c])){for(var v=-1,_=0;_<aw.length;_++){var y=u.indexOf(aw[_]);y!==-1&&(v===-1||y<v)&&(v=y)}var T,g;v===-1?g=u.lastIndexOf("@"):g=u.lastIndexOf("@",v),g!==-1&&(T=u.slice(0,g),u=u.slice(g+1),this.auth=decodeURIComponent(T)),v=-1;for(var _=0;_<ow.length;_++){var y=u.indexOf(ow[_]);y!==-1&&(v===-1||y<v)&&(v=y)}v===-1&&(v=u.length),this.host=u.slice(0,v),u=u.slice(v),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var w=this.hostname.split(/\./),_=0,I=w.length;_<I;_++){var A=w[_];if(!!A&&!A.match(sw)){for(var N="",R=0,B=A.length;R<B;R++)A.charCodeAt(R)>127?N+="x":N+=A[R];if(!N.match(sw)){var $=w.slice(0,_),M=w.slice(_+1),W=A.match(vD);W&&($.push(W[1]),M.unshift(W[2])),M.length&&(u="/"+M.join(".")+u),this.hostname=$.join(".");break}}}this.hostname.length>pD?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=oD.toASCII(this.hostname));var he=this.port?":"+this.port:"",ae=this.hostname||"";this.host=ae+he,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!_D[d])for(var _=0,I=rg.length;_<I;_++){var de=rg[_];if(u.indexOf(de)!==-1){var Ve=encodeURIComponent(de);Ve===de&&(Ve=escape(de)),u=u.split(de).join(Ve)}}var ue=u.indexOf("#");ue!==-1&&(this.hash=u.substr(ue),u=u.slice(0,ue));var le=u.indexOf("?");if(le!==-1?(this.search=u.substr(le),this.query=u.substr(le+1),t&&(this.query=ig.parse(this.query)),u=u.slice(0,le)):t&&(this.search="",this.query={}),u&&(this.pathname=u),Ls[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var he=this.pathname||"",ye=this.search||"";this.path=he+ye}return this.href=this.format(),this};function mD(e){return Jn.isString(e)&&(e=Id(e)),e instanceof Xn?e.format():Xn.prototype.format.call(e)}Xn.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Jn.isObject(this.query)&&Object.keys(this.query).length&&(o=ig.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Ls[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),a&&a.charAt(0)!=="?"&&(a="?"+a),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),a=a.replace("#","%23"),t+i+r+a+n};function gD(e,t){return Id(e,!1,!0).resolve(t)}Xn.prototype.resolve=function(e){return this.resolveObject(Id(e,!1,!0)).format()};Xn.prototype.resolveObject=function(e){if(Jn.isString(e)){var t=new Xn;t.parse(e,!1,!0),e=t}for(var r=new Xn,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),u=0;u<a.length;u++){var f=a[u];f!=="protocol"&&(r[f]=e[f])}return Ls[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Ls[e.protocol]){for(var c=Object.keys(e),d=0;d<c.length;d++){var p=c[d];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!ng[e.protocol]){for(var I=(e.pathname||"").split("/");I.length&&!(e.host=I.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),I[0]!==""&&I.unshift(""),I.length<2&&I.unshift(""),r.pathname=I.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var v=r.pathname||"",_=r.search||"";r.path=v+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&r.pathname.charAt(0)==="/",T=e.host||e.pathname&&e.pathname.charAt(0)==="/",g=T||y||r.host&&e.pathname,x=g,w=r.pathname&&r.pathname.split("/")||[],I=e.pathname&&e.pathname.split("/")||[],A=r.protocol&&!Ls[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(I[0]===""?I[0]=e.host:I.unshift(e.host)),e.host=null),g=g&&(I[0]===""||w[0]==="")),T)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=I;else if(I.length)w||(w=[]),w.pop(),w=w.concat(I),r.search=e.search,r.query=e.query;else if(!Jn.isNullOrUndefined(e.search)){if(A){r.hostname=r.host=w.shift();var N=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;N&&(r.auth=N.shift(),r.host=r.hostname=N.shift())}return r.search=e.search,r.query=e.query,(!Jn.isNull(r.pathname)||!Jn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var R=w.slice(-1)[0],B=(r.host||e.host||w.length>1)&&(R==="."||R==="..")||R==="",$=0,M=w.length;M>=0;M--)R=w[M],R==="."?w.splice(M,1):R===".."?(w.splice(M,1),$++):$&&(w.splice(M,1),$--);if(!g&&!x)for(;$--;$)w.unshift("..");g&&w[0]!==""&&(!w[0]||w[0].charAt(0)!=="/")&&w.unshift(""),B&&w.join("/").substr(-1)!=="/"&&w.push("");var W=w[0]===""||w[0]&&w[0].charAt(0)==="/";if(A){r.hostname=r.host=W?"":w.length?w.shift():"";var N=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;N&&(r.auth=N.shift(),r.host=r.hostname=N.shift())}return g=g||r.host&&w.length,g&&!W&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),(!Jn.isNull(r.pathname)||!Jn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Xn.prototype.parseHost=function(){var e=this.host,t=fD.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Mi;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Mi||(Mi={}));var Dl;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(Dl||(Dl={}));var Xh;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Xh||(Xh={}));var be;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(be||(be={}));var Hn;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Hn||(Hn={}));var oe;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(oe||(oe={}));var da;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(da||(da={}));var we;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(we||(we={}));var $h;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})($h||($h={}));var Fi;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(Fi||(Fi={}));var ki;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(ki||(ki={}));var Di;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(Di||(Di={}));var $n;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})($n||($n={}));var io;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(io||(io={}));var og;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(og||(og={}));var ni;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(ni||(ni={}));var yr;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(yr||(yr={}));var Kt;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Kt||(Kt={}));var si;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(si||(si={}));/*!
 * @pixi/utils - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _s={parse:aD,format:uD,resolve:sD};Te.RETINA_PREFIX=/@([0-9\.]+)x/;Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var uw=!1,lw="6.3.0";function yD(e){var t;if(!uw){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+lw+" - \u2730 "+e+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,r)}else globalThis.console&&globalThis.console.log("PixiJS "+lw+" - "+e+" - http://www.pixijs.com/");uw=!0}}var T_;function xD(){return typeof T_=="undefined"&&(T_=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:Te.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t),i=!!(n&&n.getContextAttributes().stencil);if(n){var o=n.getExtension("WEBGL_lose_context");o&&o.loseContext()}return n=null,i}catch{return!1}}()),T_}var TD="#f0f8ff",ED="#faebd7",wD="#00ffff",bD="#7fffd4",SD="#f0ffff",CD="#f5f5dc",ID="#ffe4c4",RD="#000000",ND="#ffebcd",PD="#0000ff",AD="#8a2be2",OD="#a52a2a",LD="#deb887",FD="#5f9ea0",UD="#7fff00",kD="#d2691e",BD="#ff7f50",MD="#6495ed",DD="#fff8dc",GD="#dc143c",HD="#00ffff",XD="#00008b",$D="#008b8b",jD="#b8860b",zD="#a9a9a9",VD="#006400",WD="#a9a9a9",YD="#bdb76b",qD="#8b008b",KD="#556b2f",ZD="#ff8c00",JD="#9932cc",QD="#8b0000",e5="#e9967a",t5="#8fbc8f",r5="#483d8b",n5="#2f4f4f",i5="#2f4f4f",o5="#00ced1",a5="#9400d3",s5="#ff1493",u5="#00bfff",l5="#696969",f5="#696969",c5="#1e90ff",h5="#b22222",d5="#fffaf0",p5="#228b22",v5="#ff00ff",_5="#dcdcdc",m5="#f8f8ff",g5="#daa520",y5="#ffd700",x5="#808080",T5="#008000",E5="#adff2f",w5="#808080",b5="#f0fff0",S5="#ff69b4",C5="#cd5c5c",I5="#4b0082",R5="#fffff0",N5="#f0e68c",P5="#fff0f5",A5="#e6e6fa",O5="#7cfc00",L5="#fffacd",F5="#add8e6",U5="#f08080",k5="#e0ffff",B5="#fafad2",M5="#d3d3d3",D5="#90ee90",G5="#d3d3d3",H5="#ffb6c1",X5="#ffa07a",$5="#20b2aa",j5="#87cefa",z5="#778899",V5="#778899",W5="#b0c4de",Y5="#ffffe0",q5="#00ff00",K5="#32cd32",Z5="#faf0e6",J5="#ff00ff",Q5="#800000",e8="#66cdaa",t8="#0000cd",r8="#ba55d3",n8="#9370db",i8="#3cb371",o8="#7b68ee",a8="#00fa9a",s8="#48d1cc",u8="#c71585",l8="#191970",f8="#f5fffa",c8="#ffe4e1",h8="#ffe4b5",d8="#ffdead",p8="#000080",v8="#fdf5e6",_8="#808000",m8="#6b8e23",g8="#ffa500",y8="#ff4500",x8="#da70d6",T8="#eee8aa",E8="#98fb98",w8="#afeeee",b8="#db7093",S8="#ffefd5",C8="#ffdab9",I8="#cd853f",R8="#ffc0cb",N8="#dda0dd",P8="#b0e0e6",A8="#800080",O8="#663399",L8="#ff0000",F8="#bc8f8f",U8="#4169e1",k8="#8b4513",B8="#fa8072",M8="#f4a460",D8="#2e8b57",G8="#fff5ee",H8="#a0522d",X8="#c0c0c0",$8="#87ceeb",j8="#6a5acd",z8="#708090",V8="#708090",W8="#fffafa",Y8="#00ff7f",q8="#4682b4",K8="#d2b48c",Z8="#008080",J8="#d8bfd8",Q8="#ff6347",eG="#40e0d0",tG="#ee82ee",rG="#f5deb3",nG="#ffffff",iG="#f5f5f5",oG="#ffff00",aG="#9acd32",sG={aliceblue:TD,antiquewhite:ED,aqua:wD,aquamarine:bD,azure:SD,beige:CD,bisque:ID,black:RD,blanchedalmond:ND,blue:PD,blueviolet:AD,brown:OD,burlywood:LD,cadetblue:FD,chartreuse:UD,chocolate:kD,coral:BD,cornflowerblue:MD,cornsilk:DD,crimson:GD,cyan:HD,darkblue:XD,darkcyan:$D,darkgoldenrod:jD,darkgray:zD,darkgreen:VD,darkgrey:WD,darkkhaki:YD,darkmagenta:qD,darkolivegreen:KD,darkorange:ZD,darkorchid:JD,darkred:QD,darksalmon:e5,darkseagreen:t5,darkslateblue:r5,darkslategray:n5,darkslategrey:i5,darkturquoise:o5,darkviolet:a5,deeppink:s5,deepskyblue:u5,dimgray:l5,dimgrey:f5,dodgerblue:c5,firebrick:h5,floralwhite:d5,forestgreen:p5,fuchsia:v5,gainsboro:_5,ghostwhite:m5,goldenrod:g5,gold:y5,gray:x5,green:T5,greenyellow:E5,grey:w5,honeydew:b5,hotpink:S5,indianred:C5,indigo:I5,ivory:R5,khaki:N5,lavenderblush:P5,lavender:A5,lawngreen:O5,lemonchiffon:L5,lightblue:F5,lightcoral:U5,lightcyan:k5,lightgoldenrodyellow:B5,lightgray:M5,lightgreen:D5,lightgrey:G5,lightpink:H5,lightsalmon:X5,lightseagreen:$5,lightskyblue:j5,lightslategray:z5,lightslategrey:V5,lightsteelblue:W5,lightyellow:Y5,lime:q5,limegreen:K5,linen:Z5,magenta:J5,maroon:Q5,mediumaquamarine:e8,mediumblue:t8,mediumorchid:r8,mediumpurple:n8,mediumseagreen:i8,mediumslateblue:o8,mediumspringgreen:a8,mediumturquoise:s8,mediumvioletred:u8,midnightblue:l8,mintcream:f8,mistyrose:c8,moccasin:h8,navajowhite:d8,navy:p8,oldlace:v8,olive:_8,olivedrab:m8,orange:g8,orangered:y8,orchid:x8,palegoldenrod:T8,palegreen:E8,paleturquoise:w8,palevioletred:b8,papayawhip:S8,peachpuff:C8,peru:I8,pink:R8,plum:N8,powderblue:P8,purple:A8,rebeccapurple:O8,red:L8,rosybrown:F8,royalblue:U8,saddlebrown:k8,salmon:B8,sandybrown:M8,seagreen:D8,seashell:G8,sienna:H8,silver:X8,skyblue:$8,slateblue:j8,slategray:z8,slategrey:V8,snow:W8,springgreen:Y8,steelblue:q8,tan:K8,teal:Z8,thistle:J8,tomato:Q8,turquoise:eG,violet:tG,wheat:rG,white:nG,whitesmoke:iG,yellow:oG,yellowgreen:aG};function js(e,t){return t===void 0&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(e&255)/255,t}function qC(e){var t=e.toString(16);return t="000000".substring(0,6-t.length)+t,"#"+t}function KC(e){return typeof e=="string"&&(e=sG[e.toLowerCase()]||e,e[0]==="#"&&(e=e.slice(1))),parseInt(e,16)}function uG(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[be.NORMAL_NPM]=be.NORMAL,e[be.ADD_NPM]=be.ADD,e[be.SCREEN_NPM]=be.SCREEN,t[be.NORMAL]=be.NORMAL_NPM,t[be.ADD]=be.ADD_NPM,t[be.SCREEN]=be.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n}var ZC=uG();function JC(e,t){return ZC[t?1:0][e]}function lG(e,t,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function oy(e,t){if(t===1)return(t*255<<24)+e;if(t===0)return 0;var r=e>>16&255,n=e>>8&255,i=e&255;return r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0,(t*255<<24)+(r<<16)+(n<<8)+i}function QC(e,t,r,n){return r=r||new Float32Array(4),r[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(e&255)/255,(n||n===void 0)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function fG(e,t){t===void 0&&(t=null);var r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function eI(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}function jh(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function fw(e){return!(e&e-1)&&!!e}function cw(e){var t=(e>65535?1:0)<<4;e>>>=t;var r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function Fs(e,t,r){var n=e.length,i;if(!(t>=n||r===0)){r=t+r>n?n-t:r;var o=n-r;for(i=t;i<o;++i)e[i]=e[i+r];e.length=o}}function ms(e){return e===0?0:e<0?-1:1}var cG=0;function xa(){return++cG}var hw={};function Ta(e,t,r){if(r===void 0&&(r=3),!hw[t]){var n=new Error().stack;typeof n=="undefined"?console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+`
Deprecated since v`+e),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+`
Deprecated since v`+e),console.warn(n))),hw[t]=!0}}var dw={},Ci=Object.create(null),qo=Object.create(null),pw=function(){function e(t,r,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||Te.RESOLUTION,this.resize(t,r)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,r){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(r*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),e}();function hG(e){var t=e.width,r=e.height,n=e.getContext("2d"),i=n.getImageData(0,0,t,r),o=i.data,a=o.length,u={top:null,left:null,right:null,bottom:null},f=null,c,d,p;for(c=0;c<a;c+=4)o[c+3]!==0&&(d=c/4%t,p=~~(c/4/t),u.top===null&&(u.top=p),(u.left===null||d<u.left)&&(u.left=d),(u.right===null||u.right<d)&&(u.right=d+1),(u.bottom===null||u.bottom<p)&&(u.bottom=p));return u.top!==null&&(t=u.right-u.left,r=u.bottom-u.top+1,f=n.getImageData(u.left,u.top,t,r)),{height:r,width:t,data:f}}var Sc;function dG(e,t){if(t===void 0&&(t=globalThis.location),e.indexOf("data:")===0)return"";t=t||globalThis.location,Sc||(Sc=document.createElement("a")),Sc.href=e;var r=_s.parse(Sc.href),n=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!n||r.protocol!==t.protocol?"anonymous":""}function zh(e,t){var r=Te.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):t!==void 0?t:1}/*!
 * @pixi/math - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Vh=Math.PI*2,pG=180/Math.PI,vG=Math.PI/180,Ht;(function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"})(Ht||(Ht={}));var Ct=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=t,this.y=r}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},e.prototype.copyTo=function(t){return t.set(this.x,this.y),t},e.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x=t,this.y=r,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),Cc=[new Ct,new Ct,new Ct,new Ct],it=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Ht.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},e.prototype.contains=function(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height},e.prototype.intersects=function(t,r){if(!r){var n=this.x<t.x?t.x:this.x,i=this.right>t.right?t.right:this.right;if(i<=n)return!1;var o=this.y<t.y?t.y:this.y,a=this.bottom>t.bottom?t.bottom:this.bottom;return a>o}var u=this.left,f=this.right,c=this.top,d=this.bottom;if(f<=u||d<=c)return!1;var p=Cc[0].set(t.left,t.top),v=Cc[1].set(t.left,t.bottom),_=Cc[2].set(t.right,t.top),y=Cc[3].set(t.right,t.bottom);if(_.x<=p.x||v.y<=p.y)return!1;var T=Math.sign(r.a*r.d-r.b*r.c);if(T===0||(r.apply(p,p),r.apply(v,v),r.apply(_,_),r.apply(y,y),Math.max(p.x,v.x,_.x,y.x)<=u||Math.min(p.x,v.x,_.x,y.x)>=f||Math.max(p.y,v.y,_.y,y.y)<=c||Math.min(p.y,v.y,_.y,y.y)>=d))return!1;var g=T*(v.y-p.y),x=T*(p.x-v.x),w=g*u+x*c,I=g*f+x*c,A=g*u+x*d,N=g*f+x*d;if(Math.max(w,I,A,N)<=g*p.x+x*p.y||Math.min(w,I,A,N)>=g*y.x+x*y.y)return!1;var R=T*(p.y-_.y),B=T*(_.x-p.x),$=R*u+B*c,M=R*f+B*c,W=R*u+B*d,he=R*f+B*d;return!(Math.max($,M,W,he)<=R*p.x+B*p.y||Math.min($,M,W,he)>=R*y.x+B*y.y)},e.prototype.pad=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this},e.prototype.fit=function(t){var r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(o-i,0),this},e.prototype.ceil=function(t,r){t===void 0&&(t=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(t){var r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=o-i,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),_G=function(){function e(t,r,n){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=t,this.y=r,this.radius=n,this.type=Ht.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(t,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,o=this.y-r;return i*=i,o*=o,i+o<=n},e.prototype.getBounds=function(){return new it(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),mG=function(){function e(t,r,n,i){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=t,this.y=r,this.width=n,this.height=i,this.type=Ht.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},e.prototype.getBounds=function(){return new it(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),lh=function(){function e(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var o=[],a=0,u=i.length;a<u;a++)o.push(i[a].x,i[a].y);i=o}this.points=i,this.type=Ht.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=this.points.slice(),r=new e(t);return r.closeStroke=this.closeStroke,r},e.prototype.contains=function(t,r){for(var n=!1,i=this.points.length/2,o=0,a=i-1;o<i;a=o++){var u=this.points[o*2],f=this.points[o*2+1],c=this.points[a*2],d=this.points[a*2+1],p=f>r!=d>r&&t<(c-u)*((r-f)/(d-f))+u;p&&(n=!n)}return n},e.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(t,r){return t+", "+r},"")+"]")},e}(),gG=function(){function e(t,r,n,i,o){t===void 0&&(t=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),o===void 0&&(o=20),this.x=t,this.y=r,this.width=n,this.height=i,this.radius=o,this.type=Ht.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;var i=t-(this.x+n),o=r-(this.y+n),a=n*n;if(i*i+o*o<=a||(i=t-(this.x+this.width-n),i*i+o*o<=a)||(o=r-(this.y+this.height-n),i*i+o*o<=a)||(i=t-(this.x+n),i*i+o*o<=a))return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},e}(),gs=function(){function e(t,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=t,this.scope=r}return e.prototype.clone=function(t,r){return t===void 0&&(t=this.cb),r===void 0&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=t),(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(t){return t.set(this._x,this._y),t},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Yt=function(){function e(t,r,n,i,o,a){t===void 0&&(t=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=0),a===void 0&&(a=0),this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a}return e.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},e.prototype.set=function(t,r,n,i,o,a){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=o,this.ty=a,this},e.prototype.toArray=function(t,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(t,r){r=r||new Ct;var n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},e.prototype.applyInverse=function(t,r){r=r||new Ct;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,o=t.y;return r.x=this.d*n*i+-this.c*n*o+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*o+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},e.prototype.translate=function(t,r){return this.tx+=t,this.ty+=r,this},e.prototype.scale=function(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this},e.prototype.rotate=function(t){var r=Math.cos(t),n=Math.sin(t),i=this.a,o=this.c,a=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=o*r-this.d*n,this.d=o*n+this.d*r,this.tx=a*r-this.ty*n,this.ty=a*n+this.ty*r,this},e.prototype.append=function(t){var r=this.a,n=this.b,i=this.c,o=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*o,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*o,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*o+this.ty,this},e.prototype.setTransform=function(t,r,n,i,o,a,u,f,c){return this.a=Math.cos(u+c)*o,this.b=Math.sin(u+c)*o,this.c=-Math.sin(u-f)*a,this.d=Math.cos(u-f)*a,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},e.prototype.prepend=function(t){var r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this},e.prototype.decompose=function(t){var r=this.a,n=this.b,i=this.c,o=this.d,a=t.pivot,u=-Math.atan2(-i,o),f=Math.atan2(n,r),c=Math.abs(u+f);return c<1e-5||Math.abs(Vh-c)<1e-5?(t.rotation=f,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=u,t.skew.y=f),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+o*o),t.position.x=this.tx+(a.x*r+a.y*i),t.position.y=this.ty+(a.x*n+a.y*o),t},e.prototype.invert=function(){var t=this.a,r=this.b,n=this.c,i=this.d,o=this.tx,a=t*i-r*n;return this.a=i/a,this.b=-r/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-i*o)/a,this.ty=-(t*this.ty-r*o)/a,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),na=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ia=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],oa=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],aa=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ag=[],tI=[],Ic=Math.sign;function yG(){for(var e=0;e<16;e++){var t=[];ag.push(t);for(var r=0;r<16;r++)for(var n=Ic(na[e]*na[r]+oa[e]*ia[r]),i=Ic(ia[e]*na[r]+aa[e]*ia[r]),o=Ic(na[e]*oa[r]+oa[e]*aa[r]),a=Ic(ia[e]*oa[r]+aa[e]*aa[r]),u=0;u<16;u++)if(na[u]===n&&ia[u]===i&&oa[u]===o&&aa[u]===a){t.push(u);break}}for(var e=0;e<16;e++){var f=new Yt;f.set(na[e],ia[e],oa[e],aa[e],0,0),tI.push(f)}}yG();var Ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return na[e]},uY:function(e){return ia[e]},vX:function(e){return oa[e]},vY:function(e){return aa[e]},inv:function(e){return e&8?e&15:-e&7},add:function(e,t){return ag[e][t]},sub:function(e,t){return ag[e][Ft.inv(t)]},rotate180:function(e){return e^4},isVertical:function(e){return(e&3)===2},byDirection:function(e,t){return Math.abs(e)*2<=Math.abs(t)?t>=0?Ft.S:Ft.N:Math.abs(t)*2<=Math.abs(e)?e>0?Ft.E:Ft.W:t>0?e>0?Ft.SE:Ft.SW:e>0?Ft.NE:Ft.NW},matrixAppendRotationInv:function(e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=tI[Ft.inv(t)];i.tx=r,i.ty=n,e.append(i)}},rI=function(){function e(){this.worldTransform=new Yt,this.localTransform=new Yt,this.position=new gs(this.onChange,this,0,0),this.scale=new gs(this.onChange,this,1,1),this.pivot=new gs(this.onChange,this,0,0),this.skew=new gs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();/*!
 * @pixi/display - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.SORTABLE_CHILDREN=!1;var Gl=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?it.EMPTY:(t=t||new it(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},e.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},e.prototype.addPointMatrix=function(t,r){var n=t.a,i=t.b,o=t.c,a=t.d,u=t.tx,f=t.ty,c=n*r.x+o*r.y+u,d=i*r.x+a*r.y+f;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},e.prototype.addQuad=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY,a=t[0],u=t[1];r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,o=u>o?u:o,a=t[2],u=t[3],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,o=u>o?u:o,a=t[4],u=t[5],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,o=u>o?u:o,a=t[6],u=t[7],r=a<r?a:r,n=u<n?u:n,i=a>i?a:i,o=u>o?u:o,this.minX=r,this.minY=n,this.maxX=i,this.maxY=o},e.prototype.addFrame=function(t,r,n,i,o){this.addFrameMatrix(t.worldTransform,r,n,i,o)},e.prototype.addFrameMatrix=function(t,r,n,i,o){var a=t.a,u=t.b,f=t.c,c=t.d,d=t.tx,p=t.ty,v=this.minX,_=this.minY,y=this.maxX,T=this.maxY,g=a*r+f*n+d,x=u*r+c*n+p;v=g<v?g:v,_=x<_?x:_,y=g>y?g:y,T=x>T?x:T,g=a*i+f*n+d,x=u*i+c*n+p,v=g<v?g:v,_=x<_?x:_,y=g>y?g:y,T=x>T?x:T,g=a*r+f*o+d,x=u*r+c*o+p,v=g<v?g:v,_=x<_?x:_,y=g>y?g:y,T=x>T?x:T,g=a*i+f*o+d,x=u*i+c*o+p,v=g<v?g:v,_=x<_?x:_,y=g>y?g:y,T=x>T?x:T,this.minX=v,this.minY=_,this.maxX=y,this.maxY=T},e.prototype.addVertexData=function(t,r,n){for(var i=this.minX,o=this.minY,a=this.maxX,u=this.maxY,f=r;f<n;f+=2){var c=t[f],d=t[f+1];i=c<i?c:i,o=d<o?d:o,a=c>a?c:a,u=d>u?d:u}this.minX=i,this.minY=o,this.maxX=a,this.maxY=u},e.prototype.addVertices=function(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)},e.prototype.addVerticesMatrix=function(t,r,n,i,o,a){o===void 0&&(o=0),a===void 0&&(a=o);for(var u=t.a,f=t.b,c=t.c,d=t.d,p=t.tx,v=t.ty,_=this.minX,y=this.minY,T=this.maxX,g=this.maxY,x=n;x<i;x+=2){var w=r[x],I=r[x+1],A=u*w+c*I+p,N=d*I+f*w+v;_=Math.min(_,A-o),T=Math.max(T,A+o),y=Math.min(y,N-a),g=Math.max(g,N+a)}this.minX=_,this.minY=y,this.maxX=T,this.maxY=g},e.prototype.addBounds=function(t){var r=this.minX,n=this.minY,i=this.maxX,o=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>o?t.maxY:o},e.prototype.addBoundsMask=function(t,r){var n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,o=t.maxX<r.maxX?t.maxX:r.maxX,a=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=o&&i<=a){var u=this.minX,f=this.minY,c=this.maxX,d=this.maxY;this.minX=n<u?n:u,this.minY=i<f?i:f,this.maxX=o>c?o:c,this.maxY=a>d?a:d}},e.prototype.addBoundsMatrix=function(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.addBoundsArea=function(t,r){var n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,o=t.maxX<r.x+r.width?t.maxX:r.x+r.width,a=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=o&&i<=a){var u=this.minX,f=this.minY,c=this.maxX,d=this.maxY;this.minX=n<u?n:u,this.minY=i<f?i:f,this.maxX=o>c?o:c,this.maxY=a>d?a:d}},e.prototype.pad=function(t,r){t===void 0&&(t=0),r===void 0&&(r=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)},e.prototype.addFramePad=function(t,r,n,i,o,a){t-=o,r-=a,n+=o,i+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var sg=function(e,t){return sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sg(e,t)};function ay(e,t){sg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var qt=function(e){ay(t,e);function t(){var r=e.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new rI,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Gl,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return t.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var o=n[i];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(r,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new it),n=this._boundsRect),this._bounds.getRectangle(n)},t.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new it),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Gl);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var u=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=o,this._bounds.updateID+=this._boundsID-a,u},t.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},t.prototype.toLocal=function(r,n,i,o){return n&&(r=n.toGlobal(r,i,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},t.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},t.prototype.setTransform=function(r,n,i,o,a,u,f,c,d){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=1),a===void 0&&(a=0),u===void 0&&(u=0),f===void 0&&(f=0),c===void 0&&(c=0),d===void 0&&(d=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=o||1,this.rotation=a,this.skew.x=u,this.skew.y=f,this.pivot.x=c,this.pivot.y=d,this},t.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new nI),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},t.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*pG},set:function(r){this.transform.rotation=r*vG},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=r,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),t}(tf),nI=function(e){ay(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.sortDirty=null,r}return t}(qt);qt.prototype.displayObjectUpdateTransform=qt.prototype.updateTransform;/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vw;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(vw||(vw={}));var _w;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(_w||(_w={}));var mw;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(mw||(mw={}));var gw;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(gw||(gw={}));var yw;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(yw||(yw={}));var xw;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(xw||(xw={}));var Tw;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Tw||(Tw={}));var Ew;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Ew||(Ew={}));var ww;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(ww||(ww={}));var bw;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(bw||(bw={}));var Sw;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Sw||(Sw={}));var Cw;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(Cw||(Cw={}));var Iw;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Iw||(Iw={}));var Rw;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Rw||(Rw={}));var Nw;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(Nw||(Nw={}));var Pw;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Pw||(Pw={}));var ug;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(ug||(ug={}));var Aw;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Aw||(Aw={}));var Ow;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Ow||(Ow={}));function xG(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}var bn=function(e){ay(t,e);function t(){var r=e.call(this)||this;return r.children=[],r.sortableChildren=Te.SORTABLE_CHILDREN,r.sortDirty=!1,r}return t.prototype.onChildrenChange=function(r){},t.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.addChild(n[o]);else{var a=n[0];a.parent&&a.parent.removeChild(a),a.parent=this,this.sortDirty=!0,a.transform._parentID=-1,this.children.push(a),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",a,this,this.children.length-1),a.emit("added",this)}return n[0]},t.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},t.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),o=this.getChildIndex(n);this.children[i]=n,this.children[o]=r,this.onChildrenChange(i<o?i:o)}},t.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},t.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);Fs(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},t.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},t.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var o=0;o<n.length;o++)this.removeChild(n[o]);else{var a=n[0],u=this.children.indexOf(a);if(u===-1)return null;a.parent=null,a.transform._parentID=-1,Fs(this.children,u,1),this._boundsID++,this.onChildrenChange(u),a.emit("removed",this),this.emit("childRemoved",a,this,u)}return n[0]},t.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,Fs(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},t.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,o=n,a=o-i,u;if(a>0&&a<=o){u=this.children.splice(i,a);for(var f=0;f<u.length;++f)u[f].parent=null,u[f].transform&&(u[f].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var f=0;f<u.length;++f)u[f].emit("removed",this),this.emit("childRemoved",u[f],this,f);return u}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var o=this.children[n];o._lastSortedIndex=n,!r&&o.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(xG),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=e.prototype.getLocalBounds.call(this,r);if(!n)for(var o=0,a=this.children.length;o<a;++o){var u=this.children[o];u.visible&&u.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,o;if(this.cullArea?(i=this.cullArea,o=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,o))this._render(r);else if(this.cullArea)return;for(var a=0,u=this.children.length;a<u;++a){var f=this.children[a],c=f.cullable;f.cullable=c||!this.cullArea,f.render(r),f.cullable=c}}},t.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},t.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<n.length;o++)n[o].enabled&&this._enabledFilters.push(n[o])}var a=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==ug.NONE));if(a&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var o=0,u=this.children.length;o<u;++o)this.children[o].render(r)}a&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},t.prototype._render=function(r){},t.prototype.destroy=function(r){e.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var o=0;o<i.length;++o)i[o].destroy(r)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),t}(qt);bn.prototype.containerUpdateTransform=bn.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TG={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};qt.mixin(TG);var EG=9,Rc=100,wG=0,bG=0,Lw=2,Fw=1,SG=-1e3,CG=-1e3,IG=2,RG=function(){function e(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ri.tablet||ri.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Rc+"px",r.style.height=Rc+"px",r.style.position="absolute",r.style.top=wG+"px",r.style.left=bG+"px",r.style.zIndex=Lw.toString(),this.div=r,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var t=this,r=document.createElement("button");r.style.width=Fw+"px",r.style.height=Fw+"px",r.style.position="absolute",r.style.top=SG+"px",r.style.left=CG+"px",r.style.zIndex=IG.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},e.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)===null||t===void 0||t.appendChild(this.div))},e.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)===null||t===void 0||t.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(t){if(!(!t.visible||!t.accessibleChildren)){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var r=t.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},e.prototype.update=function(){var t=performance.now();if(!(ri.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,o=r.width,a=r.height,u=this.renderer,f=u.width,c=u.height,d=u.resolution,p=o/f*d,v=a/c*d,_=this.div;_.style.left=n+"px",_.style.top=i+"px",_.style.width=f+"px",_.style.height=c+"px";for(var y=0;y<this.children.length;y++){var T=this.children[y];if(T.renderId!==this.renderId)T._accessibleActive=!1,Fs(this.children,y,1),this.div.removeChild(T._accessibleDiv),this.pool.push(T._accessibleDiv),T._accessibleDiv=null,y--;else{_=T._accessibleDiv;var g=T.hitArea,x=T.worldTransform;T.hitArea?(_.style.left=(x.tx+g.x*x.a)*p+"px",_.style.top=(x.ty+g.y*x.d)*v+"px",_.style.width=g.width*x.a*p+"px",_.style.height=g.height*x.d*v+"px"):(g=T.getBounds(),this.capHitArea(g),_.style.left=g.x*p+"px",_.style.top=g.y*v+"px",_.style.width=g.width*p+"px",_.style.height=g.height*v+"px",_.title!==T.accessibleTitle&&T.accessibleTitle!==null&&(_.title=T.accessibleTitle),_.getAttribute("aria-label")!==T.accessibleHint&&T.accessibleHint!==null&&_.setAttribute("aria-label",T.accessibleHint)),(T.accessibleTitle!==_.title||T.tabIndex!==_.tabIndex)&&(_.title=T.accessibleTitle,_.tabIndex=T.tabIndex,this.debug&&this.updateDebugHTML(_))}}this.renderId++}},e.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},e.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var r=this.renderer,n=r.width,i=r.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>i&&(t.height=i-t.y)},e.prototype.addChild=function(t){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Rc+"px",r.style.height=Rc+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Lw.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=t.accessiblePointerEvents,r.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?r.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(r.title="displayObject "+t.tabIndex),t.accessibleHint&&t.accessibleHint!==null&&r.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(r),t._accessibleActive=!0,t._accessibleDiv=r,r.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},e.prototype._onClick=function(t){var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},e.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},e.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=t.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},e.prototype._onKeyDown=function(t){t.keyCode===EG&&this.activate()},e.prototype._onMouseMove=function(t){t.movementX===0&&t.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();/*!
 * @pixi/ticker - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.TARGET_FPMS=.06;var Gi;(function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"})(Gi||(Gi={}));var E_=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=n,this.once=i}return e.prototype.match=function(t,r){return r===void 0&&(r=null),this.fn===t&&this.context===r},e.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},e.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},e.prototype.destroy=function(t){t===void 0&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=t?null:r,this.previous=null,r},e}(),dr=function(){function e(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new E_(null,null,1/0),this.deltaMS=1/Te.TARGET_FPMS,this.elapsedMS=1/Te.TARGET_FPMS,this._tick=function(r){t._requestId=null,t.started&&(t.update(r),t.started&&t._requestId===null&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,r,n){return n===void 0&&(n=Gi.NORMAL),this._addListener(new E_(t,r,n))},e.prototype.addOnce=function(t,r,n){return n===void 0&&(n=Gi.NORMAL),this._addListener(new E_(t,r,n,!0))},e.prototype._addListener=function(t){var r=this._head.next,n=this._head;if(!r)t.connect(n);else{for(;r;){if(t.priority>r.priority){t.connect(n);break}n=r,r=r.next}t.previous||t.connect(n)}return this._startIfPossible(),this},e.prototype.remove=function(t,r){for(var n=this._head.next;n;)n.match(t,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,r=this._head;r=r.next;)t++;return t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(t){t===void 0&&(t=performance.now());var r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Te.TARGET_FPMS;for(var i=this._head,o=i.next;o;)o=o.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var r=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,r)/1e3,Te.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(t===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),NG=function(){function e(){}return e.init=function(t){var r=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Gi.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?dr.shared:new dr,t.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},e}();/*!
 * @pixi/interaction - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Uw=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ct,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)},e.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var r="buttons"in t&&t.buttons;this.buttons=Number.isInteger(r)?r:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var lg=function(e,t){return lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},lg(e,t)};function PG(e,t){lg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var AG=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),w_=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,r){r?this._flags=this._flags|t:this._flags=this._flags&~t},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!==0},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!==0},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),e}(),OG=function(){function e(){this._tempPoint=new Ct}return e.prototype.recursiveFindHit=function(t,r,n,i,o){if(!r||!r.visible)return!1;var a=t.data.global;o=r.interactive||o;var u=!1,f=o,c=!0;if(r.hitArea?(i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?u=!0:(i=!1,c=!1)),f=!1):r._mask&&i&&(r._mask.containsPoint&&r._mask.containsPoint(a)||(i=!1)),c&&r.interactiveChildren&&r.children)for(var d=r.children,p=d.length-1;p>=0;p--){var v=d[p],_=this.recursiveFindHit(t,v,n,i,f);if(_){if(!v.parent)continue;f=!1,_&&(t.target&&(i=!1),u=!0)}}return o&&(i&&!t.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(u=!0),r.interactive&&(u&&!t.target&&(t.target=r),n&&n(t,r,!!u))),u},e.prototype.findHit=function(t,r,n,i){this.recursiveFindHit(t,r,n,i,!1)},e}(),LG={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};qt.mixin(LG);var Nc=1,Pc={target:null,data:{global:null}},FG=function(e){PG(t,e);function t(r,n){var i=e.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new Uw,i.mouse.identifier=Nc,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Nc]=i.mouse,i.interactionDataPool=[],i.eventData=new AG,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new OG,i._tempDisplayObject=new nI,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(r,n){return Pc.target=null,Pc.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(Pc,n,null,!0),Pc.target},t.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(dr.system.add(this.tickerUpdate,this,Gi.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(dr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},t.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},t.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},t.prototype.mapPositionToPoint=function(r,n,i){var o;this.interactionDOMElement.parentElement?o=this.interactionDOMElement.getBoundingClientRect():o={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var a=1/this.resolution;r.x=(n-o.left)*(this.interactionDOMElement.width/o.width)*a,r.y=(i-o.top)*(this.interactionDOMElement.height/o.height)*a},t.prototype.processInteractive=function(r,n,i,o){var a=this.search.findHit(r,n,i,o),u=this.delayedEvents;if(!u.length)return a;r.stopPropagationHint=!1;var f=u.length;this.delayedEvents=[];for(var c=0;c<f;c++){var d=u[c],p=d.displayObject,v=d.eventString,_=d.eventData;_.stopsPropagatingAt===p&&(_.stopPropagationHint=!0),this.dispatchEvent(p,v,_)}return a},t.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var o=n.length,a=0;a<o;a++){var u=n[a],f=this.getInteractionDataForPointerId(u),c=this.configureInteractionEventForDOMEvent(this.eventData,u,f);if(c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),u.pointerType==="touch")this.emit("touchstart",c);else if(u.pointerType==="mouse"||u.pointerType==="pen"){var d=u.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(r,n,i){var o=r.data,a=r.data.identifier;if(i){if(n.trackedPointers[a]||(n.trackedPointers[a]=new w_(a)),this.dispatchEvent(n,"pointerdown",r),o.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var u=o.button===2;u?n.trackedPointers[a].rightDown=!0:n.trackedPointers[a].leftDown=!0,this.dispatchEvent(n,u?"rightdown":"mousedown",r)}}},t.prototype.onPointerComplete=function(r,n,i){for(var o=this.normalizeToPointerData(r),a=o.length,u=r.target!==this.interactionDOMElement?"outside":"",f=0;f<a;f++){var c=o[f],d=this.getInteractionDataForPointerId(c),p=this.configureInteractionEventForDOMEvent(this.eventData,c,d);if(p.data.originalEvent=r,this.processInteractive(p,this.lastObjectRendered,i,n||!u),this.emit(n?"pointercancel":"pointerup"+u,p),c.pointerType==="mouse"||c.pointerType==="pen"){var v=c.button===2;this.emit(v?"rightup"+u:"mouseup"+u,p)}else c.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+u,p),this.releaseInteractionDataForPointerId(c.pointerId))}},t.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(r,n){var i=r.data,o=r.data.identifier;n.trackedPointers[o]!==void 0&&(delete n.trackedPointers[o],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},t.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},t.prototype.processPointerUp=function(r,n,i){var o=r.data,a=r.data.identifier,u=n.trackedPointers[a],f=o.pointerType==="touch",c=o.pointerType==="mouse"||o.pointerType==="pen",d=!1;if(c){var p=o.button===2,v=w_.FLAGS,_=p?v.RIGHT_DOWN:v.LEFT_DOWN,y=u!==void 0&&u.flags&_;i?(this.dispatchEvent(n,p?"rightup":"mouseup",r),y&&(this.dispatchEvent(n,p?"rightclick":"click",r),d=!0)):y&&this.dispatchEvent(n,p?"rightupoutside":"mouseupoutside",r),u&&(p?u.rightDown=!1:u.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),f&&this.dispatchEvent(n,"touchend",r),u&&((!c||d)&&this.dispatchEvent(n,"pointertap",r),f&&(this.dispatchEvent(n,"tap",r),u.over=!1))):u&&(this.dispatchEvent(n,"pointerupoutside",r),f&&this.dispatchEvent(n,"touchendoutside",r)),u&&u.none&&delete n.trackedPointers[a]},t.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,o=0;o<i;o++){var a=n[o],u=this.getInteractionDataForPointerId(a),f=this.configureInteractionEventForDOMEvent(this.eventData,a,u);f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",f),a.pointerType==="touch"&&this.emit("touchmove",f),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",f)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(r,n,i){var o=r.data,a=o.pointerType==="touch",u=o.pointerType==="mouse"||o.pointerType==="pen";u&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),a&&this.dispatchEvent(n,"touchmove",r),u&&this.dispatchEvent(n,"mousemove",r))},t.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,this.processInteractive(a,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",a),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(r,n,i){var o=r.data,a=r.data.identifier,u=o.pointerType==="mouse"||o.pointerType==="pen",f=n.trackedPointers[a];i&&!f&&(f=n.trackedPointers[a]=new w_(a)),f!==void 0&&(i&&this.mouseOverRenderer?(f.over||(f.over=!0,this.delayDispatchEvent(n,"pointerover",r),u&&this.delayDispatchEvent(n,"mouseover",r)),u&&this.cursor===null&&(this.cursor=n.cursor)):f.over&&(f.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),u&&this.dispatchEvent(n,"mouseout",r),f.none&&delete n.trackedPointers[a]))},t.prototype.onPointerOver=function(r){var n=this.normalizeToPointerData(r),i=n[0],o=this.getInteractionDataForPointerId(i),a=this.configureInteractionEventForDOMEvent(this.eventData,i,o);a.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",a)},t.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Nc||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new Uw,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},t.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},t.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},t.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,o=r.changedTouches.length;i<o;i++){var a=r.changedTouches[i];typeof a.button=="undefined"&&(a.button=r.touches.length?1:0),typeof a.buttons=="undefined"&&(a.buttons=r.touches.length?1:0),typeof a.isPrimary=="undefined"&&(a.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof a.width=="undefined"&&(a.width=a.radiusX||1),typeof a.height=="undefined"&&(a.height=a.radiusY||1),typeof a.tiltX=="undefined"&&(a.tiltX=0),typeof a.tiltY=="undefined"&&(a.tiltY=0),typeof a.pointerType=="undefined"&&(a.pointerType="touch"),typeof a.pointerId=="undefined"&&(a.pointerId=a.identifier||0),typeof a.pressure=="undefined"&&(a.pressure=a.force||.5),typeof a.twist=="undefined"&&(a.twist=0),typeof a.tangentialPressure=="undefined"&&(a.tangentialPressure=0),typeof a.layerX=="undefined"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY=="undefined"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,n.push(a)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var u=r;typeof u.isPrimary=="undefined"&&(u.isPrimary=!0),typeof u.width=="undefined"&&(u.width=1),typeof u.height=="undefined"&&(u.height=1),typeof u.tiltX=="undefined"&&(u.tiltX=0),typeof u.tiltY=="undefined"&&(u.tiltY=0),typeof u.pointerType=="undefined"&&(u.pointerType="mouse"),typeof u.pointerId=="undefined"&&(u.pointerId=Nc),typeof u.pressure=="undefined"&&(u.pressure=.5),typeof u.twist=="undefined"&&(u.twist=0),typeof u.tangentialPressure=="undefined"&&(u.tangentialPressure=0),u.isNormalized=!0,n.push(u)}else n.push(r);return n},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(tf);/*!
 * @pixi/runner - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Tr=function(){function e(t){this.items=[],this._name=t,this._aliasCount=0}return e.prototype.emit=function(t,r,n,i,o,a,u,f){if(arguments.length>8)throw new Error("max arguments reached");var c=this,d=c.name,p=c.items;this._aliasCount++;for(var v=0,_=p.length;v<_;v++)p[v][d](t,r,n,i,o,a,u,f);return p===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},e.prototype.remove=function(t){var r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},e.prototype.contains=function(t){return this.items.indexOf(t)!==-1},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Tr.prototype,{dispatch:{value:Tr.prototype.emit},run:{value:Tr.prototype.emit}});/*!
 * @pixi/core - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.PREFER_ENV=ri.any?Mi.WEBGL:Mi.WEBGL2;Te.STRICT_TEXTURE_CACHE=!1;var Wh=[];function sy(e,t){if(!e)return null;var r="";if(typeof e=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(var i=Wh.length-1;i>=0;--i){var o=Wh[i];if(o.test&&o.test(e,r))return new o(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var fg=function(e,t){return fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},fg(e,t)};function Tt(e,t){fg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var cg=function(){return cg=Object.assign||function(t){for(var r=arguments,n,i=1,o=arguments.length;i<o;i++){n=r[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},cg.apply(this,arguments)};function UG(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&(r[n[i]]=e[n[i]]);return r}var zs=function(){function e(t,r){t===void 0&&(t=0),r===void 0&&(r=0),this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Tr("setRealSize"),this.onUpdate=new Tr("update"),this.onError=new Tr("onError")}return e.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},e.prototype.resize=function(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(t,r,n){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(t,r){return!1},e}(),iu=function(e){Tt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,u=o.height;if(!a||!u)throw new Error("BufferResource width or height invalid");return i=e.call(this,a,u)||this,i.data=r,i}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===$n.UNPACK);var a=n.realWidth,u=n.realHeight;return i.width===a&&i.height===u?o.texSubImage2D(n.target,0,0,0,a,u,n.format,i.type,this.data):(i.width=a,i.height=u,o.texImage2D(n.target,0,i.internalFormat,a,u,0,n.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},t}(zs),kG={scaleMode:Fi.NEAREST,format:oe.RGBA,alphaMode:$n.NPM},Qe=function(e){Tt(t,e);function t(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=e.call(this)||this;n=n||{};var o=n.alphaMode,a=n.mipmap,u=n.anisotropicLevel,f=n.scaleMode,c=n.width,d=n.height,p=n.wrapMode,v=n.format,_=n.type,y=n.target,T=n.resolution,g=n.resourceOptions;return r&&!(r instanceof zs)&&(r=sy(r,g),r.internal=!0),i.resolution=T||Te.RESOLUTION,i.width=Math.round((c||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=a!==void 0?a:Te.MIPMAP_TEXTURES,i.anisotropicLevel=u!==void 0?u:Te.ANISOTROPIC_LEVEL,i._wrapMode=p||Te.WRAP_MODE,i._scaleMode=f!==void 0?f:Te.SCALE_MODE,i.format=v||oe.RGBA,i.type=_||we.UNSIGNED_BYTE,i.target=y||da.TEXTURE_2D,i.alphaMode=o!==void 0?o:$n.UNPACK,i.uid=xa(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=c>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},t.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=fw(this.realWidth)&&fw(this.realHeight)},t.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},t.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(r){this.emit("error",this,r)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete qo[this.cacheId],delete Ci[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(r,n,i){i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else{if(!r._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";r._pixiId=u+"_"+xa()}a=r._pixiId}var f=qo[a];if(o&&i&&!f)throw new Error('The cacheId "'+a+'" does not exist in BaseTextureCache.');return f||(f=new t(r,n),f.cacheId=a,t.addToCache(f,a)),f},t.fromBuffer=function(r,n,i,o){r=r||new Float32Array(n*i*4);var a=new iu(r,{width:n,height:i}),u=r instanceof Float32Array?we.FLOAT:we.UNSIGNED_BYTE;return new t(a,Object.assign(kG,o||{width:n,height:i,type:u}))},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),qo[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),qo[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=qo[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete qo[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)delete qo[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},t._globalBatch=0,t}(tf),uy=function(e){Tt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,u=o.height;i=e.call(this,a,u)||this,i.items=[],i.itemDirtyIds=[];for(var f=0;f<r;f++){var c=new Qe;i.items.push(c),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return t.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)!r[i]||(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof zs?this.addResourceAt(r[i],i):this.addResourceAt(sy(r[i],n),i))},t.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},t.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},t.prototype.unbind=function(r){e.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(o){return o.resource}).filter(function(o){return o}),i=n.map(function(o){return o.load()});return this._load=Promise.all(i).then(function(){var o=r.items[0],a=o.realWidth,u=o.realHeight;return r.resize(a,u),Promise.resolve(r)}),this._load},t}(zs),iI=function(e){Tt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,u=o.height,f,c;return Array.isArray(r)?(f=r,c=r.length):c=r,i=e.call(this,c,{width:a,height:u})||this,f&&i.initFromArray(f,n),i}return t.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=da.TEXTURE_2D_ARRAY},t.prototype.upload=function(r,n,i){var o=this,a=o.length,u=o.itemDirtyIds,f=o.items,c=r.gl;i.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,a,0,n.format,i.type,null);for(var d=0;d<a;d++){var p=f[d];u[d]<p.dirtyId&&(u[d]=p.dirtyId,p.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,d,p.resource.width,p.resource.height,1,n.format,i.type,p.resource.source))}return!0},t}(uy),Hi=function(e){Tt(t,e);function t(r){var n=this,i=r,o=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return n=e.call(this,o,a)||this,n.source=r,n.noSubImage=!1,n}return t.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=dG(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},t.prototype.upload=function(r,n,i,o){var a=r.gl,u=n.realWidth,f=n.realHeight;if(o=o||this.source,o instanceof HTMLImageElement){if(!o.complete||o.naturalWidth===0)return!1}else if(o instanceof HTMLVideoElement&&o.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===$n.UNPACK),!this.noSubImage&&n.target===a.TEXTURE_2D&&i.width===u&&i.height===f?a.texSubImage2D(a.TEXTURE_2D,0,0,0,n.format,i.type,o):(i.width=u,i.height=f,a.texImage2D(n.target,0,i.internalFormat,n.format,i.type,o)),!0},t.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(zs),ly=function(e){Tt(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},t}(Hi),oI=function(e){Tt(t,e);function t(r,n){var i=this,o=n||{},a=o.width,u=o.height,f=o.autoLoad,c=o.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=e.call(this,6,{width:a,height:u})||this;for(var d=0;d<t.SIDES;d++)i.items[d].target=da.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=c!==!1,r&&i.initFromArray(r,n),f!==!1&&i.load(),i}return t.prototype.bind=function(r){e.prototype.bind.call(this,r),r.target=da.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=da.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},t.prototype.upload=function(r,n,i){for(var o=this.itemDirtyIds,a=0;a<t.SIDES;a++){var u=this.items[a];o[a]<u.dirtyId&&(u.valid&&u.resource?(u.resource.upload(r,u,i),o[a]=u.dirtyId):o[a]<-1&&(r.gl.texImage2D(u.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),o[a]=-1))}return!0},t.test=function(r){return Array.isArray(r)&&r.length===t.SIDES},t.SIDES=6,t}(uy),fy=function(e){Tt(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var o=new Image;Hi.crossOrigin(o,r,n.crossorigin),o.src=r,r=o}return i=e.call(this,r)||this,!r.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:Te.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,o){var a=n.source;n.url=a.src;var u=function(){n.destroyed||(a.onload=null,a.onerror=null,n.resize(a.width,a.height),n._load=null,n.createBitmap?i(n.process()):i(n))};a.complete&&a.src?u():(a.onload=u,a.onerror=function(f){o(f),n.onError.emit(f)})}),this._load)},t.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,o=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:o?"cors":"no-cors"}).then(function(a){return a.blob()}).then(function(a){return i(a,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===$n.UNPACK?"premultiply":"none"})}).then(function(a){return r.destroyed?Promise.reject():(r.bitmap=a,r.update(),r._process=null,Promise.resolve(r))}),this._process},t.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var o=!0,a=n._glTextures;for(var u in a){var f=a[u];if(f!==i&&f.dirtyId!==n.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},t}(Hi),aI=function(e){Tt(t,e);function t(r,n){var i=this;return n=n||{},i=e.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return t.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},t.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},t.prototype._loadSvg=function(){var r=this,n=new Image;Hi.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){!r._resolve||(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(!!r._resolve){var i=n.width,o=n.height;if(!i||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var a=i*r.scale,u=o*r.scale;(r._overrideWidth||r._overrideHeight)&&(a=r._overrideWidth||r._overrideHeight/o*i,u=r._overrideHeight||r._overrideWidth/i*o),a=Math.round(a),u=Math.round(u);var f=r.source;f.width=a,f.height=u,f._pixiId="canvas_"+xa(),f.getContext("2d").drawImage(n,0,0,i,o,0,0,a,u),r._resolve(),r._resolve=null}}},t.getSize=function(r){var n=t.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(r,n){return n==="svg"||typeof r=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(r)||typeof r=="string"&&t.SVG_XML.test(r)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(Hi),sI=function(e){Tt(t,e);function t(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var a=r[0].src||r[0];Hi.crossOrigin(o,a,n.crossorigin);for(var u=0;u<r.length;++u){var f=document.createElement("source"),c=r[u],d=c.src,p=c.mime;d=d||r[u];var v=d.split("?").shift().toLowerCase(),_=v.slice(v.lastIndexOf(".")+1);p=p||t.MIME_TYPES[_]||"video/"+_,f.src=d,f.type=p,o.appendChild(f)}r=o}return i=e.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return t.prototype.update=function(r){if(!this.destroyed){var n=dr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},t.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},t.prototype._isSourcePlaying=function(){var r=this.source;return r.currentTime>0&&r.paused===!1&&r.ended===!1&&r.readyState>2},t.prototype._isSourceReady=function(){var r=this.source;return r.readyState===3||r.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(dr.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(dr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(dr.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(dr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(dr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),t.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||t.TYPES.indexOf(n)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(Hi),uI=function(e){Tt(t,e);function t(r){return e.call(this,r)||this}return t.test=function(r){return!!globalThis.createImageBitmap&&r instanceof ImageBitmap},t}(Hi);Wh.push(fy,uI,ly,sI,aI,iu,oI,iI);var lI={__proto__:null,Resource:zs,BaseImageResource:Hi,INSTALLED:Wh,autoDetectResource:sy,AbstractMultiResource:uy,ArrayResource:iI,BufferResource:iu,CanvasResource:ly,CubeResource:oI,ImageResource:fy,SVGResource:aI,VideoResource:sI,ImageBitmapResource:uI},BG=function(e){Tt(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.upload=function(r,n,i){var o=r.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===$n.UNPACK);var a=n.realWidth,u=n.realHeight;return i.width===a&&i.height===u?o.texSubImage2D(n.target,0,0,0,a,u,n.format,i.type,this.data):(i.width=a,i.height=u,o.texImage2D(n.target,0,i.internalFormat,a,u,0,n.format,i.type,this.data)),!0},t}(iu),hg=function(){function e(t,r){this.width=Math.round(t||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Tr("disposeFramebuffer"),this.multisample=Kt.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(t,r){return t===void 0&&(t=0),this.colorTextures[t]=r||new Qe(null,{scaleMode:Fi.NEAREST,resolution:1,mipmap:Di.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Qe(new BG(null,{width:this.width,height:this.height}),{scaleMode:Fi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Di.OFF,format:oe.DEPTH_COMPONENT,type:we.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(t,r){if(t=Math.round(t),r=Math.round(r),!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],o=i.resolution;i.setSize(t/o,r/o)}if(this.depthTexture){var o=this.depthTexture.resolution;this.depthTexture.setSize(t/o,r/o)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),fI=function(e){Tt(t,e);function t(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],o=arguments[1],a=arguments[2],u=arguments[3];r={width:i,height:o,scaleMode:a,resolution:u}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:Kt.NONE,n=e.call(this,null,r)||this,n.mipmap=Di.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new hg(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return t.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Qe),cI=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(t,r,n){var i=r.width,o=r.height;if(n){var a=t.width/2/i,u=t.height/2/o,f=t.x/i+a,c=t.y/o+u;n=Ft.add(n,Ft.NW),this.x0=f+a*Ft.uX(n),this.y0=c+u*Ft.uY(n),n=Ft.add(n,2),this.x1=f+a*Ft.uX(n),this.y1=c+u*Ft.uY(n),n=Ft.add(n,2),this.x2=f+a*Ft.uX(n),this.y2=c+u*Ft.uY(n),n=Ft.add(n,2),this.x3=f+a*Ft.uX(n),this.y3=c+u*Ft.uY(n)}else this.x0=t.x/i,this.y0=t.y/o,this.x1=(t.x+t.width)/i,this.y1=t.y/o,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/o,this.x3=t.x/i,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},e}(),kw=new cI,Se=function(e){Tt(t,e);function t(r,n,i,o,a,u){var f=e.call(this)||this;if(f.noFrame=!1,n||(f.noFrame=!0,n=new it(0,0,1,1)),r instanceof t&&(r=r.baseTexture),f.baseTexture=r,f._frame=n,f.trim=o,f.valid=!1,f._uvs=kw,f.uvMatrix=null,f.orig=i||n,f._rotate=Number(a||0),a===!0)f._rotate=2;else if(f._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return f.defaultAnchor=u?new Ct(u.x,u.y):new Ct(0,0),f._updateID=0,f.textureCacheIds=[],r.valid?f.noFrame?r.valid&&f.onBaseTextureUpdated(r):f.frame=n:r.once("loaded",f.onBaseTextureUpdated,f),f.noFrame&&r.on("update",f.onBaseTextureUpdated,f),f}return t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Ci[n.url]&&t.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},t.prototype.updateUvs=function(){this._uvs===kw&&(this._uvs=new cI),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=Te.STRICT_TEXTURE_CACHE);var o=typeof r=="string",a=null;if(o)a=r;else if(r instanceof Qe){if(!r.cacheId){var u=n&&n.pixiIdPrefix||"pixiid";r.cacheId=u+"-"+xa(),Qe.addToCache(r,r.cacheId)}a=r.cacheId}else{if(!r._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";r._pixiId=u+"_"+xa()}a=r._pixiId}var f=Ci[a];if(o&&i&&!f)throw new Error('The cacheId "'+a+'" does not exist in TextureCache.');return!f&&!(r instanceof Qe)?(n.resolution||(n.resolution=zh(r)),f=new t(new Qe(r,n)),f.baseTexture.cacheId=a,Qe.addToCache(f.baseTexture,a),t.addToCache(f,a)):!f&&r instanceof Qe&&(f=new t(r),t.addToCache(f,a)),f},t.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),o=t.from(r,Object.assign({resourceOptions:i},n),!1),a=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):a.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(r,n,i,o){return new t(Qe.fromBuffer(r,n,i,o))},t.fromLoader=function(r,n,i,o){var a=new Qe(r,Object.assign({scaleMode:Te.SCALE_MODE,resolution:zh(n)},o)),u=a.resource;u instanceof fy&&(u.url=n);var f=new t(a);return i||(i=n),Qe.addToCache(f.baseTexture,i),t.addToCache(f,i),i!==n&&(Qe.addToCache(f.baseTexture,n),t.addToCache(f,n)),f.baseTexture.valid?Promise.resolve(f):new Promise(function(c){f.baseTexture.once("loaded",function(){return c(f)})})},t.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Ci[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Ci[n]=r)},t.removeFromCache=function(r){if(typeof r=="string"){var n=Ci[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Ci[r],n}}else if(r&&r.textureCacheIds){for(var o=0;o<r.textureCacheIds.length;++o)Ci[r.textureCacheIds[o]]===r&&delete Ci[r.textureCacheIds[o]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,o=r.width,a=r.height,u=n+o>this.baseTexture.width,f=i+a>this.baseTexture.height;if(u||f){var c=u&&f?"and":"or",d="X: "+n+" + "+o+" = "+(n+o)+" > "+this.baseTexture.width,p="Y: "+i+" + "+a+" = "+(i+a)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+c+" "+p))}this.valid=o&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(tf);function MG(){var e=document.createElement("canvas");e.width=16,e.height=16;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Se(new Qe(new ly(e)))}function Rd(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}Se.EMPTY=new Se(new Qe);Rd(Se.EMPTY);Rd(Se.EMPTY.baseTexture);Se.WHITE=MG();Rd(Se.WHITE);Rd(Se.WHITE.baseTexture);var Ea=function(e){Tt(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var o=this.baseTexture.resolution,a=Math.round(r*o)/o,u=Math.round(n*o)/o;this.valid=a>0&&u>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=u,i&&this.baseTexture.resize(a,u),this.updateUvs()},t.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},t.create=function(r){for(var n=arguments,i=[],o=1;o<arguments.length;o++)i[o-1]=n[o];return typeof r=="number"&&(Ta("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new fI(r))},t}(Se),DG=function(){function e(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(t,r,n){n===void 0&&(n=Kt.NONE);var i=new fI(Object.assign({width:t,height:r,resolution:1,multisample:n},this.textureOptions));return new Ea(i)},e.prototype.getOptimalTexture=function(t,r,n,i){n===void 0&&(n=1),i===void 0&&(i=Kt.NONE);var o;t=Math.ceil(t*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=jh(t),r=jh(r),o=((t&65535)<<16|r&65535)>>>0,i>1&&(o+=i*4294967296)):o=i>1?-i:-1,this.texturePool[o]||(this.texturePool[o]=[]);var a=this.texturePool[o].pop();return a||(a=this.createTexture(t,r,i)),a.filterPoolKey=o,a.setResolution(n),a},e.prototype.getFilterTexture=function(t,r,n){var i=this.getOptimalTexture(t.width,t.height,r||t.resolution,n||Kt.NONE);return i.filterFrame=t.filterFrame,i},e.prototype.returnTexture=function(t){var r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)},e.prototype.returnFilterTexture=function(t){this.returnTexture(t)},e.prototype.clear=function(t){if(t=t!==!1,t)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},e.SCREEN_KEY=-1,e}(),Bw=function(){function e(t,r,n,i,o,a,u){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=we.FLOAT),this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=o,this.start=a,this.instance=u}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,n,i,o){return new e(t,r,n,i,o)},e}(),GG=0,Qt=function(){function e(t,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=GG++,this.disposeRunner=new Tr("disposeBuffer")}return e.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===si.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?si.ELEMENT_ARRAY_BUFFER:si.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),HG={Float32Array,Uint32Array,Int32Array,Uint8Array};function XG(e,t){for(var r=0,n=0,i={},o=0;o<e.length;o++)n+=t[o],r+=e[o].length;for(var a=new ArrayBuffer(r*4),u=null,f=0,o=0;o<e.length;o++){var c=t[o],d=e[o],p=eI(d);i[p]||(i[p]=new HG[p](a)),u=i[p];for(var v=0;v<d.length;v++){var _=(v/c|0)*n+f,y=v%c;u[_+y]=d[v]}f+=c}return new Float32Array(a)}var Mw={5126:4,5123:2,5121:1},$G=0,jG={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},rf=function(){function e(t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=$G++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Tr("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(t,r,n,i,o,a,u,f){if(n===void 0&&(n=0),i===void 0&&(i=!1),f===void 0&&(f=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Qt||(r instanceof Array&&(r=new Float32Array(r)),r=new Qt(r));var c=t.split("|");if(c.length>1){for(var d=0;d<c.length;d++)this.addAttribute(c[d],r,n,i,o);return this}var p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[t]=new Bw(p,n,i,o,a,u,f),this.instanced=this.instanced||f,this},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},e.prototype.addIndex=function(t){return t instanceof Qt||(t instanceof Array&&(t=new Uint16Array(t)),t=new Qt(t)),t.type=si.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t=[],r=[],n=new Qt,i;for(i in this.attributes){var o=this.attributes[i],a=this.buffers[o.buffer];t.push(a.data),r.push(o.size*Mw[o.type]/4),o.buffer=0}for(n.data=XG(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var t in this.attributes){var r=this.attributes[t],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new Qt(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];t.attributes[r]=new Bw(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=si.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var r=new e,n=[],i=[],o=[],a,u=0;u<t.length;u++){a=t[u];for(var f=0;f<a.buffers.length;f++)i[f]=i[f]||0,i[f]+=a.buffers[f].data.length,o[f]=0}for(var u=0;u<a.buffers.length;u++)n[u]=new jG[eI(a.buffers[u].data)](i[u]),r.buffers[u]=new Qt(n[u]);for(var u=0;u<t.length;u++){a=t[u];for(var f=0;f<a.buffers.length;f++)n[f].set(a.buffers[f].data,o[f]),o[f]+=a.buffers[f].data.length}if(r.attributes=a.attributes,a.indexBuffer){r.indexBuffer=r.buffers[a.buffers.indexOf(a.indexBuffer)],r.indexBuffer.type=si.ELEMENT_ARRAY_BUFFER;for(var c=0,d=0,p=0,v=0,u=0;u<a.buffers.length;u++)if(a.buffers[u]!==a.indexBuffer){v=u;break}for(var u in a.attributes){var _=a.attributes[u];(_.buffer|0)===v&&(d+=_.size*Mw[_.type]/4)}for(var u=0;u<t.length;u++){for(var y=t[u].indexBuffer.data,f=0;f<y.length;f++)r.indexBuffer.data[f+p]+=c;c+=t[u].buffers[v].data.length/d,p+=y.length}}return r},e}(),zG=function(e){Tt(t,e);function t(){var r=e.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return t}(rf),hI=function(e){Tt(t,e);function t(){var r=e.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Qt(r.vertices),r.uvBuffer=new Qt(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return t.prototype.map=function(r,n){var i=0,o=0;return this.uvs[0]=i,this.uvs[1]=o,this.uvs[2]=i+n.width/r.width,this.uvs[3]=o,this.uvs[4]=i+n.width/r.width,this.uvs[5]=o+n.height/r.height,this.uvs[6]=i,this.uvs[7]=o+n.height/r.height,i=n.x,o=n.y,this.vertices[0]=i,this.vertices[1]=o,this.vertices[2]=i+n.width,this.vertices[3]=o,this.vertices[4]=i+n.width,this.vertices[5]=o+n.height,this.vertices[6]=i,this.vertices[7]=o+n.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(rf),VG=0,pa=function(){function e(t,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=VG++,this.static=!!r,this.ubo=!!n,t instanceof Qt?(this.buffer=t,this.buffer.type=si.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Qt(new Float32Array(1)),this.buffer.type=si.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,r,n){if(!this.ubo)this.uniforms[t]=new e(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},e.from=function(t,r,n){return new e(t,r,n)},e.uboFrom=function(t,r){return new e(t,r!=null?r:!0,!0)},e}(),WG=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Kt.NONE,this.sourceFrame=new it,this.destinationFrame=new it,this.bindingSourceFrame=new it,this.bindingDestinationFrame=new it,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Ac=[new Ct,new Ct,new Ct,new Ct],b_=new Yt,dI=function(){function e(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new DG,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new zG,this.quadUv=new hI,this.tempRect=new it,this.activeState={},this.globalUniforms=new pa({outputFrame:new it,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(t,r){for(var n,i,o=this.renderer,a=this.defaultFilterStack,u=this.statePool.pop()||new WG,f=this.renderer.renderTexture,c=r[0].resolution,d=r[0].multisample,p=r[0].padding,v=r[0].autoFit,_=(n=r[0].legacy)!==null&&n!==void 0?n:!0,y=1;y<r.length;y++){var T=r[y];c=Math.min(c,T.resolution),d=Math.min(d,T.multisample),p=this.useMaxPadding?Math.max(p,T.padding):p+T.padding,v=v&&T.autoFit,_=_||((i=T.legacy)!==null&&i!==void 0?i:!0)}if(a.length===1&&(this.defaultFilterStack[0].renderTexture=f.current),a.push(u),u.resolution=c,u.multisample=d,u.legacy=_,u.target=t,u.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),u.sourceFrame.pad(p),v){var g=this.tempRect.copyFrom(f.sourceFrame);o.projection.transform&&this.transformAABB(b_.copyFrom(o.projection.transform).invert(),g),u.sourceFrame.fit(g)}this.roundFrame(u.sourceFrame,f.current?f.current.resolution:o.resolution,f.sourceFrame,f.destinationFrame,o.projection.transform),u.renderTexture=this.getOptimalFilterTexture(u.sourceFrame.width,u.sourceFrame.height,c,d),u.filters=r,u.destinationFrame.width=u.renderTexture.width,u.destinationFrame.height=u.renderTexture.height;var x=this.tempRect;x.x=0,x.y=0,x.width=u.sourceFrame.width,x.height=u.sourceFrame.height,u.renderTexture.filterFrame=u.sourceFrame,u.bindingSourceFrame.copyFrom(f.sourceFrame),u.bindingDestinationFrame.copyFrom(f.destinationFrame),u.transform=o.projection.transform,o.projection.transform=null,f.bind(u.renderTexture,u.sourceFrame,x),o.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var o=i.inputSize,a=i.inputPixel,u=i.inputClamp;if(o[0]=r.destinationFrame.width,o[1]=r.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],a[0]=Math.round(o[0]*r.resolution),a[1]=Math.round(o[1]*r.resolution),a[2]=1/a[0],a[3]=1/a[1],u[0]=.5*a[2],u[1]=.5*a[3],u[2]=r.sourceFrame.width*o[2]-.5*a[2],u[3]=r.sourceFrame.height*o[3]-.5*a[3],r.legacy){var f=i.filterArea;f[0]=r.destinationFrame.width,f[1]=r.destinationFrame.height,f[2]=r.sourceFrame.x,f[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,io.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var d=r.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,r.resolution);p.filterFrame=d.filterFrame;var v=0;for(v=0;v<n.length-1;++v){v===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,r.resolution),p.filterFrame=d.filterFrame),n[v].apply(this,d,p,io.CLEAR,r);var _=d;d=p,p=_}n[v].apply(this,d,c.renderTexture,io.BLEND,r),v>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)},e.prototype.bindAndClear=function(t,r){r===void 0&&(r=io.CLEAR);var n=this.renderer,i=n.renderTexture,o=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var a=this.tempRect;a.x=0,a.y=0,a.width=t.filterFrame.width,a.height=t.filterFrame.height,i.bind(t,t.filterFrame,a)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var u=o.stateId&1||this.forceClear;(r===io.CLEAR||r===io.BLIT&&u)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,r,n,i){var o=this.renderer;o.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(Hn.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(Hn.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,r){var n=this.activeState,i=n.sourceFrame,o=n.destinationFrame,a=r._texture.orig,u=t.set(o.width,0,0,o.height,i.x,i.y),f=r.worldTransform.copyTo(Yt.TEMP_MATRIX);return f.invert(),u.prepend(f),u.scale(1/a.width,1/a.height),u.translate(r.anchor.x,r.anchor.y),u},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=Kt.NONE),this.texturePool.getOptimalTexture(t,r,n,i)},e.prototype.getFilterTexture=function(t,r,n){if(typeof t=="number"){var i=t;t=r,r=i}t=t||this.activeState.renderTexture;var o=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,n||Kt.NONE);return o.filterFrame=t.filterFrame,o},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,r){var n=Ac[0],i=Ac[1],o=Ac[2],a=Ac[3];n.set(r.left,r.top),i.set(r.left,r.bottom),o.set(r.right,r.top),a.set(r.right,r.bottom),t.apply(n,n),t.apply(i,i),t.apply(o,o),t.apply(a,a);var u=Math.min(n.x,i.x,o.x,a.x),f=Math.min(n.y,i.y,o.y,a.y),c=Math.max(n.x,i.x,o.x,a.x),d=Math.max(n.y,i.y,o.y,a.y);r.x=u,r.y=f,r.width=c-u,r.height=d-f},e.prototype.roundFrame=function(t,r,n,i,o){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(o){var a=o.a,u=o.b,f=o.c,c=o.d;if((Math.abs(u)>1e-4||Math.abs(f)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(c)>1e-4))return}o=o?b_.copyFrom(o):b_.identity(),o.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(o,t),t.ceil(r),this.transformAABB(o.invert(),t)}},e}(),Nd=function(){function e(t){this.renderer=t}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(t){},e}(),pI=function(){function e(t){this.renderer=t,this.emptyRenderer=new Nd(t),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,r,n,i){for(var o=t.elements,a=t.ids,u=t.count,f=0,c=0;c<u;c++){var d=o[c],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){a[c]=p;continue}for(;f<i;){var v=r[f];if(v&&v._batchEnabled===n&&v._batchLocation===f){f++;continue}a[c]=f,d._batchLocation=f,r[f]=d;break}}},e.prototype.destroy=function(){this.renderer=null},e}(),Dw=0,vI=function(){function e(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=Dw++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=Dw++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var r=this.createContext(this.renderer.view,t);this.initFromContext(r)},e.prototype.createContext=function(t,r){var n;if(Te.PREFER_ENV>=Mi.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,r={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var r=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),YG=function(){function e(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Kt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return e}(),qG=new it,_I=function(){function e(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new hg(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new it,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Te.PREFER_ENV===Mi.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,r,n){n===void 0&&(n=0);var i=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=n),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var a=0;a<t.colorTextures.length;a++){var u=t.colorTextures[a];this.renderer.texture.unbind(u.parentTextureArray||u)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){var f=r.width>>n,c=r.height>>n,d=f/r.width;this.setViewport(r.x*d,r.y*d,f,c)}else{var f=t.width>>n,c=t.height>>n;this.setViewport(0,0,f,c)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,r,n,i){var o=this.viewport;t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),(o.width!==n||o.height!==i||o.x!==t||o.y!==r)&&(o.x=t,o.y=r,o.width=n,o.height=i,this.gl.viewport(t,r,n,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,r,n,i,o){o===void 0&&(o=Xh.COLOR|Xh.DEPTH);var a=this.gl;a.clearColor(t,r,n,i),a.clear(o)},e.prototype.initFramebuffer=function(t){var r=this.gl,n=new YG(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(t){var r=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,t.width,t.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));var i=t.colorTextures,o=i.length;r.drawBuffers||(o=Math.min(o,1));for(var a=0;a<o;a++){var u=i[a],f=u.parentTextureArray||u;this.renderer.texture.bind(f,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t,r){var n=this.gl,i=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,a=o.length;n.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var u=[],f=0;f<a;f++){var c=o[f],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),!(f===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+f,c.target,d._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+f))}if(u.length>1&&n.drawBuffers(u),t.depthTexture){var p=this.writeDepthTexture;if(p){var v=t.depthTexture;this.renderer.texture.bind(v,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,r)}}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},e.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},e.prototype.detectSamples=function(t){var r=this.msaaSamples,n=Kt.NONE;if(t<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=t){n=r[i];break}return n===1&&(n=Kt.NONE),n},e.prototype.blit=function(t,r,n){var i=this,o=i.current,a=i.renderer,u=i.gl,f=i.CONTEXT_UID;if(a.context.webGLVersion===2&&!!o){var c=o.glFramebuffers[f];if(!!c){if(!t){if(!c.msaaBuffer)return;var d=o.colorTextures[0];if(!d)return;c.blitFramebuffer||(c.blitFramebuffer=new hg(o.width,o.height),c.blitFramebuffer.addColorTexture(0,d)),t=c.blitFramebuffer,t.colorTextures[0]!==d&&(t.colorTextures[0]=d,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}r||(r=qG,r.width=o.width,r.height=o.height),n||(n=r);var p=r.width===n.width&&r.height===n.height;this.bind(t),u.bindFramebuffer(u.READ_FRAMEBUFFER,c.framebuffer),u.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,u.COLOR_BUFFER_BIT,p?u.NEAREST:u.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,r){var n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!!n){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(t){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)},e.prototype.forceStencil=function(){var t=this.current;if(!!t){var r=t.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){t.stencil=!0;var n=t.width,i=t.height,o=this.gl,a=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,a),r.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,r.multisample,o.DEPTH24_STENCIL8,n,i):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,n,i),r.stencil=a,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,a)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new it},e.prototype.destroy=function(){this.renderer=null},e}(),S_={5126:4,5123:2,5121:1},mI=function(){function e(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;Te.PREFER_ENV===Mi.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(o){return n.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return n.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(o,a){return i.vertexAttribDivisorANGLE(o,a)},t.drawElementsInstanced=function(o,a,u,f,c){return i.drawElementsInstancedANGLE(o,a,u,f,c)},t.drawArraysInstanced=function(o,a,u,f){return i.drawArraysInstancedANGLE(o,a,u,f)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},e.prototype.bind=function(t,r){r=r||this.renderer.shader.shader;var n=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},o=!0);var a=i[r.program.id]||this.initGeometryVao(t,r,o);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(t,r.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,r=this.renderer.buffer,n=0;n<t.buffers.length;n++){var i=t.buffers[n];r.update(i)}},e.prototype.checkCompatibility=function(t,r){var n=t.attributes,i=r.attributeData;for(var o in i)if(!n[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},e.prototype.getSignature=function(t,r){var n=t.attributes,i=r.attributeData,o=["g",t.id];for(var a in n)i[a]&&o.push(a,i[a].location);return o.join("-")},e.prototype.initGeometryVao=function(t,r,n){n===void 0&&(n=!0);var i=this.gl,o=this.CONTEXT_UID,a=this.renderer.buffer,u=r.program;u.glPrograms[o]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,u);var f=this.getSignature(t,u),c=t.glVertexArrayObjects[this.CONTEXT_UID],d=c[f];if(d)return c[u.id]=d,d;var p=t.buffers,v=t.attributes,_={},y={};for(var T in p)_[T]=0,y[T]=0;for(var T in v)!v[T].size&&u.attributeData[T]?v[T].size=u.attributeData[T].size:v[T].size||console.warn("PIXI Geometry attribute '"+T+"' size cannot be determined (likely the bound shader does not have the attribute)"),_[v[T].buffer]+=v[T].size*S_[v[T].type];for(var T in v){var g=v[T],x=g.size;g.stride===void 0&&(_[g.buffer]===x*S_[g.type]?g.stride=0:g.stride=_[g.buffer]),g.start===void 0&&(g.start=y[g.buffer],y[g.buffer]+=x*S_[g.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var w=0;w<p.length;w++){var I=p[w];a.bind(I),n&&I._glBuffers[o].refCount++}return this.activateVao(t,u),this._activeVao=d,c[u.id]=d,c[f]=d,d},e.prototype.disposeGeometry=function(t,r){var n;if(!!this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var i=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,a=t.buffers,u=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(t.disposeRunner.remove(this),!!i){if(u)for(var f=0;f<a.length;f++){var c=a[f]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&u.dispose(a[f],r))}if(!r){for(var d in i)if(d[0]==="g"){var p=i[d];this._activeVao===p&&this.unbind(),o.deleteVertexArray(p)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t)},e.prototype.activateVao=function(t,r){var n=this.gl,i=this.CONTEXT_UID,o=this.renderer.buffer,a=t.buffers,u=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var f=null;for(var c in u){var d=u[c],p=a[d.buffer],v=p._glBuffers[i];if(r.attributeData[c]){f!==v&&(o.bind(p),f=v);var _=r.attributeData[c].location;if(n.enableVertexAttribArray(_),n.vertexAttribPointer(_,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(_,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},e.prototype.draw=function(t,r,n,i){var o=this.gl,a=this._activeGeometry;if(a.indexBuffer){var u=a.indexBuffer.data.BYTES_PER_ELEMENT,f=u===2?o.UNSIGNED_SHORT:o.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?a.instanced?o.drawElementsInstanced(t,r||a.indexBuffer.data.length,f,(n||0)*u,i||1):o.drawElements(t,r||a.indexBuffer.data.length,f,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else a.instanced?o.drawArraysInstanced(t,n,r||a.getSize(),i||1):o.drawArrays(t,n,r||a.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),KG=function(){function e(t){t===void 0&&(t=null),this.type=yr.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Te.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=yr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function Gw(e,t,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function Hw(e,t){var r=e.getShaderSource(t).split(`
`).map(function(c,d){return d+": "+c}),n=e.getShaderInfoLog(t),i=n.split(`
`),o={},a=i.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return c&&!o[c]?(o[c]=!0,!0):!1}),u=[""];a.forEach(function(c){r[c-1]="%c"+r[c-1]+"%c",u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var f=r.join(`
`);u[0]=f,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,u),console.groupEnd()}function ZG(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||Hw(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||Hw(e,n),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function C_(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function gI(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return C_(2*t);case"bvec3":return C_(3*t);case"bvec4":return C_(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var yI={},Gu=yI;function JG(){if(Gu===yI||Gu&&Gu.isContextLost()){var e=document.createElement("canvas"),t=void 0;Te.PREFER_ENV>=Mi.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Gu=t}return Gu}var Oc;function QG(){if(!Oc){Oc=ni.MEDIUM;var e=JG();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Oc=t.precision?ni.HIGH:ni.MEDIUM}}return Oc}function Xw(e,t,r){if(e.substring(0,9)!=="precision"){var n=t;return t===ni.HIGH&&r!==ni.HIGH&&(n=ni.MEDIUM),"precision "+n+` float;
`+e}else if(r!==ni.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}var e9={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function xI(e){return e9[e]}var Lc=null,$w={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function TI(e,t){if(!Lc){var r=Object.keys($w);Lc={};for(var n=0;n<r.length;++n){var i=r[n];Lc[e[i]]=$w[i]}}return Lc[t]}var Us=[{test:function(e){return e.type==="float"&&e.size===1},code:function(e){return`
            if(uv["`+e+'"] !== ud["'+e+`"].value)
            {
                ud["`+e+'"].value = uv["'+e+`"]
                gl.uniform1f(ud["`+e+'"].location, uv["'+e+`"])
            }
            `}},{test:function(e){return(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray},code:function(e){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+e+`"], t);

            if(ud["`+e+`"].value !== t)
            {
                ud["`+e+`"].value = t;
                gl.uniform1i(ud["`+e+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(e,t){return e.type==="mat3"&&e.size===1&&t.a!==void 0},code:function(e){return`
            gl.uniformMatrix3fv(ud["`+e+'"].location, false, uv["'+e+`"].toArray(true));
            `},codeUbo:function(e){return`
                var `+e+"_matrix = uv."+e+`.toArray(true);

                data[offset] = `+e+`_matrix[0];
                data[offset+1] = `+e+`_matrix[1];
                data[offset+2] = `+e+`_matrix[2];
        
                data[offset + 4] = `+e+`_matrix[3];
                data[offset + 5] = `+e+`_matrix[4];
                data[offset + 6] = `+e+`_matrix[5];
        
                data[offset + 8] = `+e+`_matrix[6];
                data[offset + 9] = `+e+`_matrix[7];
                data[offset + 10] = `+e+`_matrix[8];
            `}},{test:function(e,t){return e.type==="vec2"&&e.size===1&&t.x!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+e+`"].location, v.x, v.y);
                }`},codeUbo:function(e){return`
                v = uv.`+e+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(e){return e.type==="vec2"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+e+`"].location, v[0], v[1]);
                }
            `}},{test:function(e,t){return e.type==="vec4"&&e.size===1&&t.width!==void 0},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+e+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(e){return`
                    v = uv.`+e+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(e){return e.type==="vec4"&&e.size===1},code:function(e){return`
                cv = ud["`+e+`"].value;
                v = uv["`+e+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+e+`"].location, v[0], v[1], v[2], v[3])
                }`}}],t9={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},r9={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function n9(e,t){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in e.uniforms){var o=t[i];if(!o){!((r=e.uniforms[i])===null||r===void 0)&&r.group&&(e.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var a=e.uniforms[i],u=!1,f=0;f<Us.length;f++)if(Us[f].test(o,a)){n.push(Us[f].code(i,a)),u=!0;break}if(!u){var c=o.size===1?t9:r9,d=c[o.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var i9=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function o9(e){for(var t="",r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+="if(test == "+r+".0){}");return t}function a9(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var n=i9.replace(/%forloop%/gi,o9(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}var Hu;function s9(){if(typeof Hu=="boolean")return Hu;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");Hu=e({a:"b"},"a","b")===!0}catch{Hu=!1}return Hu}var u9=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,l9=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,f9=0,Fc={},nf=function(){function e(t,r,n){n===void 0&&(n="pixi-shader"),this.id=f9++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Fc[n]?(Fc[n]++,n+="-"+Fc[n]):Fc[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Xw(this.vertexSrc,Te.PRECISION_VERTEX,ni.HIGH),this.fragmentSrc=Xw(this.fragmentSrc,Te.PRECISION_FRAGMENT,QG())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return l9},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return u9},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=t+r,o=dw[i];return o||(dw[i]=o=new e(t,r,n)),o},e}(),To=function(){function e(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof pa?this.uniformGroup=r:this.uniformGroup=new pa(r):this.uniformGroup=new pa({})}return e.prototype.checkUniformExists=function(t,r){if(r.uniforms[t])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,n){var i=nf.from(t,r);return new e(i,n)},e}(),I_=0,R_=1,N_=2,P_=3,A_=4,O_=5,Ra=function(){function e(){this.data=0,this.blendMode=be.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<I_)},set:function(t){!!(this.data&1<<I_)!==t&&(this.data^=1<<I_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<R_)},set:function(t){!!(this.data&1<<R_)!==t&&(this.data^=1<<R_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<N_)},set:function(t){!!(this.data&1<<N_)!==t&&(this.data^=1<<N_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<P_)},set:function(t){!!(this.data&1<<P_)!==t&&(this.data^=1<<P_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<O_)},set:function(t){!!(this.data&1<<O_)!==t&&(this.data^=1<<O_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<A_)},set:function(t){!!(this.data&1<<A_)!==t&&(this.data^=1<<A_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==be.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),c9=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,h9=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Fo=function(e){Tt(t,e);function t(r,n,i){var o=this,a=nf.from(r||t.defaultVertexSrc,n||t.defaultFragmentSrc);return o=e.call(this,a,i)||this,o.padding=0,o.resolution=Te.FILTER_RESOLUTION,o.multisample=Te.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new Ra,o}return t.prototype.apply=function(r,n,i,o,a){r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return c9},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return h9},enumerable:!1,configurable:!0}),t}(To),d9=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,p9=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,jw=new Yt,cy=function(){function e(t,r){this._texture=t,this.mapCoord=new Yt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r=="undefined"?.5:r,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(t,r){r===void 0&&(r=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];r[i]=o*n.a+a*n.c+n.tx,r[i+1]=o*n.b+a*n.d+n.ty}return r},e.prototype.update=function(t){var r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,o=r.trim;o&&(jw.set(i.width/o.width,0,0,i.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(jw));var a=r.baseTexture,u=this.uClampFrame,f=this.clampMargin/a.resolution,c=this.clampOffset;return u[0]=(r._frame.x+f+c)/a.width,u[1]=(r._frame.y+f+c)/a.height,u[2]=(r._frame.x+r._frame.width-f+c)/a.width,u[3]=(r._frame.y+r._frame.height-f+c)/a.height,this.uClampOffset[0]=c/a.realWidth,this.uClampOffset[1]=c/a.realHeight,this.isSimple=r._frame.width===a.width&&r._frame.height===a.height&&r.rotate===0,!0},e}(),v9=function(e){Tt(t,e);function t(r,n,i){var o=this,a=null;return typeof r!="string"&&n===void 0&&i===void 0&&(a=r,r=void 0,n=void 0,i=void 0),o=e.call(this,r||d9,n||p9,i)||this,o.maskSprite=a,o.maskMatrix=new Yt,o}return Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(r,n,i,o){var a=this._maskSprite,u=a._texture;!u.valid||(u.uvMatrix||(u.uvMatrix=new cy(u,0)),u.uvMatrix.update(),this.uniforms.npmAlpha=u.baseTexture.alphaMode?0:1,this.uniforms.mask=u,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,a).prepend(u.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=u.uvMatrix.uClampFrame,r.applyFilter(this,n,i,o))},t}(Fo),EI=function(){function e(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new KG;i.pooled=!0,i.maskObject=r,n=i}var o=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(o),n.autoDetect&&this.detect(n),n._target=t,n.type!==yr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case yr.SCISSOR:this.renderer.scissor.push(n);break;case yr.STENCIL:this.renderer.stencil.push(n);break;case yr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===yr.SPRITE&&this.maskStack.push(n)},e.prototype.pop=function(t){var r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case yr.SCISSOR:this.renderer.scissor.pop();break;case yr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case yr.SPRITE:this.popSpriteMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===yr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},e.prototype.detect=function(t){var r=t.maskObject;r.isSprite?t.type=yr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=yr.SCISSOR:t.type=yr.STENCIL},e.prototype.pushSpriteMask=function(t){var r,n,i=t.maskObject,o=t._target,a=t._filters;a||(a=this.alphaMaskPool[this.alphaMaskIndex],a||(a=this.alphaMaskPool[this.alphaMaskIndex]=[new v9]));var u=this.renderer,f=u.renderTexture,c,d;if(f.current){var p=f.current;c=t.resolution||p.resolution,d=(r=t.multisample)!==null&&r!==void 0?r:p.multisample}else c=t.resolution||u.resolution,d=(n=t.multisample)!==null&&n!==void 0?n:u.multisample;a[0].resolution=c,a[0].multisample=d,a[0].maskSprite=i;var v=o.filterArea;o.filterArea=i.getBounds(!0),u.filter.push(o,a),o.filterArea=v,t._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.destroy=function(){this.renderer=null},e}(),wI=function(){function e(t){this.renderer=t,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),zw=new Yt,bI=function(e){Tt(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},t.prototype.calcScissorRect=function(r){if(!r._scissorRectLocal){var n=r._scissorRect,i=r.maskObject,o=this.renderer,a=o.renderTexture;i.renderable=!0;var u=i.getBounds();this.roundFrameToPixels(u,a.current?a.current.resolution:o.resolution,a.sourceFrame,a.destinationFrame,o.projection.transform),i.renderable=!1,n&&u.fit(n),r._scissorRectLocal=u}},t.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,o=r.c,a=r.d;return(Math.abs(i)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(a)>1e-4)},t.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||t.isMatrixRotated(n.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(r,n,i,o,a){t.isMatrixRotated(a)||(a=a?zw.copyFrom(a):zw.identity(),a.translate(-i.x,-i.y).scale(o.width/i.width,o.height/i.height).translate(o.x,o.y),this.renderer.filter.transformAABB(a,r),r.fit(o),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},t.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var r=this.renderer.gl;this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)},t.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},t}(wI),SI=function(e){Tt(t,e);function t(r){var n=e.call(this,r)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return t.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},t.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,o=r._stencilCounter;o===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,o,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},t.prototype.pop=function(r){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var r=this.renderer.gl;r.colorMask(!0,!0,!0,!0),r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},t}(wI),CI=function(){function e(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Yt,this.transform=null}return e.prototype.update=function(t,r,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,r,n,i){var o=this.projectionMatrix,a=i?-1:1;o.identity(),o.a=1/r.width*2,o.d=a*(1/r.height*2),o.tx=-1-r.x*o.a,o.ty=-a-r.y*o.d},e.prototype.setTransform=function(t){},e.prototype.destroy=function(){this.renderer=null},e}(),Ko=new it,Xu=new it,II=function(){function e(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new it,this.destinationFrame=new it,this.viewportFrame=new it}return e.prototype.bind=function(t,r,n){t===void 0&&(t=null);var i=this.renderer;this.current=t;var o,a,u;t?(o=t.baseTexture,u=o.resolution,r||(Ko.width=t.frame.width,Ko.height=t.frame.height,r=Ko),n||(Xu.x=t.frame.x,Xu.y=t.frame.y,Xu.width=r.width,Xu.height=r.height,n=Xu),a=o.framebuffer):(u=i.resolution,r||(Ko.width=i.screen.width,Ko.height=i.screen.height,r=Ko),n||(n=Ko,n.width=r.width,n.height=r.height));var f=this.viewportFrame;f.x=n.x*u,f.y=n.y*u,f.width=n.width*u,f.height=n.height*u,t||(f.y=i.view.height-(f.y+f.height)),f.ceil(),this.renderer.framebuffer.bind(a,f),this.renderer.projection.update(n,r,u,!a),t?this.renderer.mask.setMaskStack(o.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(t,r){this.current?t=t||this.current.baseTexture.clearColor:t=t||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,o=n.width!==i.width||n.height!==i.height;if(o){var a=this.viewportFrame,u=a.x,f=a.y,c=a.width,d=a.height;u=Math.round(u),f=Math.round(f),c=Math.round(c),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,f,c,d)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],r),o&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function _9(e,t,r,n,i){r.buffer.update(i)}var m9={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},RI={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function g9(e){for(var t=e.map(function(f){return{data:f,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,o=0;o<t.length;o++){var a=t[o];if(r=RI[a.data.type],a.data.size>1&&(r=Math.max(r,16)*a.data.size),a.dataLen=r,n%r!==0&&n<16){var u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=r,n=r):(a.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function y9(e,t){var r=[];for(var n in e)t[n]&&r.push(t[n]);return r.sort(function(i,o){return i.index-o.index}),r}function x9(e,t){if(!e.autoManage)return{size:0,syncFunc:_9};for(var r=y9(e.uniforms,t),n=g9(r),i=n.uboElements,o=n.size,a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],u=0;u<i.length;u++){for(var f=i[u],c=e.uniforms[f.data.name],d=f.data.name,p=!1,v=0;v<Us.length;v++){var _=Us[v];if(_.codeUbo&&_.test(f.data,c)){a.push("offset = "+f.offset/4+";",Us[v].codeUbo(f.data.name,c)),p=!0;break}}if(!p)if(f.data.size>1){var y=xI(f.data.type),T=Math.max(RI[f.data.type]/16,1),g=y/T,x=(4-g%4)%4;a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+f.offset/4+`;

                t = 0;

                for(var i=0; i < `+f.data.size*T+`; i++)
                {
                    for(var j = 0; j < `+g+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+x+`;
                }

                `)}else{var w=m9[f.data.type];a.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+f.offset/4+`;
                `+w+`;
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}var T9=function(){function e(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function E9(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var o=t.getActiveAttrib(e,i);if(o.name.indexOf("gl_")!==0){var a=TI(t,o.type),u={type:a,name:o.name,size:xI(a),location:t.getAttribLocation(e,o.name)};r[o.name]=u}}return r}function w9(e,t){for(var r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<n;i++){var o=t.getActiveUniform(e,i),a=o.name.replace(/\[.*?\]$/,""),u=!!o.name.match(/\[.*?\]$/),f=TI(t,o.type);r[a]={name:a,index:i,type:f,size:o.size,isArray:u,value:gI(f,o.size)}}return r}function b9(e,t){var r=Gw(e,e.VERTEX_SHADER,t.vertexSrc),n=Gw(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();if(e.attachShader(i,r),e.attachShader(i,n),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||ZG(e,i,r,n),t.attributeData=E9(i,e),t.uniformData=w9(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(d,p){return d>p?1:-1});for(var a=0;a<o.length;a++)t.attributeData[o[a]].location=a,e.bindAttribLocation(i,a,o[a]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);var u={};for(var a in t.uniformData){var f=t.uniformData[a];u[a]={location:e.getUniformLocation(i,a),value:gI(f.type,f.size)}}var c=new T9(i,u);return c}var S9=0,Uc={textureCount:0,uboCount:0},NI=function(){function e(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=S9++}return e.prototype.systemCheck=function(){if(!s9())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,r){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Uc.textureCount=0,Uc.uboCount=0,this.syncUniformGroup(t.uniformGroup,Uc)),i},e.prototype.setUniforms=function(t){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,r){var n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))},e.prototype.syncUniforms=function(t,r,n){var i=t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t);i(r.uniformData,t.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(t){var r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=n9(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(t,r){var n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;var i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,r);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,Uc,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[r])},e.prototype.createSyncBufferGroup=function(t,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var a=this.getSignature(t,this.shader.program.uniformData,"ubo"),u=this._uboCache[a];if(u||(u=this._uboCache[a]=x9(t,this.shader.program.uniformData)),t.autoManage){var f=new Float32Array(u.size/4);t.buffer.update(f)}return r.uniformGroups[t.id]=u.syncFunc,r.uniformGroups[t.id]},e.prototype.getSignature=function(t,r,n){var i=t.uniforms,o=[n+"-"];for(var a in i)o.push(a),r[a]&&o.push(r[a].type);return o.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(t){var r=this.gl,n=t.program,i=b9(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function C9(e,t){return t===void 0&&(t=[]),t[be.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.ADD]=[e.ONE,e.ONE],t[be.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.NONE]=[0,0],t[be.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[be.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[be.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[be.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[be.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[be.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[be.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[be.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[be.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[be.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[be.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var I9=0,R9=1,N9=2,P9=3,A9=4,O9=5,PI=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=be.NONE,this._blendEq=!1,this.map=[],this.map[I9]=this.setBlend,this.map[R9]=this.setOffset,this.map[N9]=this.setCullFace,this.map[P9]=this.setDepthTest,this.map[A9]=this.setFrontFace,this.map[O9]=this.setDepthMask,this.checks=[],this.defaultState=new Ra,this.defaultState.blend=!0}return e.prototype.contextChange=function(t){this.gl=t,this.blendModes=C9(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var r=this.stateId^t.data,n=0;r;)r&1&&this.map[n].call(this,!!(t.data&1<<n)),r=r>>1,n++;this.stateId=t.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(t.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var r=this.blendModes[t],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,r){this.gl.polygonOffset(t,r)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,r){var n=this.checks.indexOf(t);r&&n===-1?this.checks.push(t):!r&&n!==-1&&this.checks.splice(n,1)},e.checkBlendMode=function(t,r){t.setBlendMode(r.blendMode)},e.checkPolygonOffset=function(t,r){t.setPolygonOffset(1,r.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),AI=function(){function e(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Te.GC_MAX_IDLE,this.checkCountMax=Te.GC_MAX_CHECK_COUNT,this.mode=Te.GC_MODE}return e.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==og.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,r=t.managedTextures,n=!1,i=0;i<r.length;i++){var o=r[i];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),r[i]=null,n=!0)}if(n){for(var a=0,i=0;i<r.length;i++)r[i]!==null&&(r[a++]=r[i]);r.length=a}},e.prototype.unload=function(t){var r=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e.prototype.destroy=function(){this.renderer=null},e}();function L9(e){var t,r,n,i,o,a,u,f,c,d,p,v,_,y,T,g,x,w,I,A,N,R,B;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?B=(t={},t[we.UNSIGNED_BYTE]=(r={},r[oe.RGBA]=e.RGBA8,r[oe.RGB]=e.RGB8,r[oe.RG]=e.RG8,r[oe.RED]=e.R8,r[oe.RGBA_INTEGER]=e.RGBA8UI,r[oe.RGB_INTEGER]=e.RGB8UI,r[oe.RG_INTEGER]=e.RG8UI,r[oe.RED_INTEGER]=e.R8UI,r[oe.ALPHA]=e.ALPHA,r[oe.LUMINANCE]=e.LUMINANCE,r[oe.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,r),t[we.BYTE]=(n={},n[oe.RGBA]=e.RGBA8_SNORM,n[oe.RGB]=e.RGB8_SNORM,n[oe.RG]=e.RG8_SNORM,n[oe.RED]=e.R8_SNORM,n[oe.RGBA_INTEGER]=e.RGBA8I,n[oe.RGB_INTEGER]=e.RGB8I,n[oe.RG_INTEGER]=e.RG8I,n[oe.RED_INTEGER]=e.R8I,n),t[we.UNSIGNED_SHORT]=(i={},i[oe.RGBA_INTEGER]=e.RGBA16UI,i[oe.RGB_INTEGER]=e.RGB16UI,i[oe.RG_INTEGER]=e.RG16UI,i[oe.RED_INTEGER]=e.R16UI,i[oe.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,i),t[we.SHORT]=(o={},o[oe.RGBA_INTEGER]=e.RGBA16I,o[oe.RGB_INTEGER]=e.RGB16I,o[oe.RG_INTEGER]=e.RG16I,o[oe.RED_INTEGER]=e.R16I,o),t[we.UNSIGNED_INT]=(a={},a[oe.RGBA_INTEGER]=e.RGBA32UI,a[oe.RGB_INTEGER]=e.RGB32UI,a[oe.RG_INTEGER]=e.RG32UI,a[oe.RED_INTEGER]=e.R32UI,a[oe.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[we.INT]=(u={},u[oe.RGBA_INTEGER]=e.RGBA32I,u[oe.RGB_INTEGER]=e.RGB32I,u[oe.RG_INTEGER]=e.RG32I,u[oe.RED_INTEGER]=e.R32I,u),t[we.FLOAT]=(f={},f[oe.RGBA]=e.RGBA32F,f[oe.RGB]=e.RGB32F,f[oe.RG]=e.RG32F,f[oe.RED]=e.R32F,f[oe.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,f),t[we.HALF_FLOAT]=(c={},c[oe.RGBA]=e.RGBA16F,c[oe.RGB]=e.RGB16F,c[oe.RG]=e.RG16F,c[oe.RED]=e.R16F,c),t[we.UNSIGNED_SHORT_5_6_5]=(d={},d[oe.RGB]=e.RGB565,d),t[we.UNSIGNED_SHORT_4_4_4_4]=(p={},p[oe.RGBA]=e.RGBA4,p),t[we.UNSIGNED_SHORT_5_5_5_1]=(v={},v[oe.RGBA]=e.RGB5_A1,v),t[we.UNSIGNED_INT_2_10_10_10_REV]=(_={},_[oe.RGBA]=e.RGB10_A2,_[oe.RGBA_INTEGER]=e.RGB10_A2UI,_),t[we.UNSIGNED_INT_10F_11F_11F_REV]=(y={},y[oe.RGB]=e.R11F_G11F_B10F,y),t[we.UNSIGNED_INT_5_9_9_9_REV]=(T={},T[oe.RGB]=e.RGB9_E5,T),t[we.UNSIGNED_INT_24_8]=(g={},g[oe.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,g),t[we.FLOAT_32_UNSIGNED_INT_24_8_REV]=(x={},x[oe.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,x),t):B=(w={},w[we.UNSIGNED_BYTE]=(I={},I[oe.RGBA]=e.RGBA,I[oe.RGB]=e.RGB,I[oe.ALPHA]=e.ALPHA,I[oe.LUMINANCE]=e.LUMINANCE,I[oe.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,I),w[we.UNSIGNED_SHORT_5_6_5]=(A={},A[oe.RGB]=e.RGB,A),w[we.UNSIGNED_SHORT_4_4_4_4]=(N={},N[oe.RGBA]=e.RGBA,N),w[we.UNSIGNED_SHORT_5_5_5_1]=(R={},R[oe.RGBA]=e.RGBA,R),w),B}var L_=function(){function e(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=we.UNSIGNED_BYTE,this.internalFormat=oe.RGBA,this.samplerType=0}return e}(),OI=function(){function e(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Qe,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=L9(t);var r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new L_(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new L_(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(t,r){r===void 0&&(r=0);var n=this.gl;if(t=t==null?void 0:t.castToBaseTexture(),t&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<i.length;o++)i[o]===this.unknownTexture&&this.bind(null,o)}for(var o=0;o<i.length;o++)i[o]===t&&(this.currentLocation!==o&&(n.activeTexture(n.TEXTURE0+o),this.currentLocation=o),n.bindTexture(t.target,this.emptyTextures[t.target].texture),i[o]=null)},e.prototype.ensureSamplerType=function(t){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,o=r.CONTEXT_UID;if(!!i)for(var a=t-1;a>=0;--a){var u=n[a];if(u){var f=u._glTextures[o];f.samplerType!==$h.FLOAT&&this.renderer.texture.unbind(u)}}},e.prototype.initTexture=function(t){var r=new L_(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r},e.prototype.initTextureType=function(t,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[t.type])===null||n===void 0?void 0:n[t.format])!==null&&i!==void 0?i:t.format,this.webGLVersion===2&&t.type===we.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type},e.prototype.updateTexture=function(t){var r=t._glTextures[this.CONTEXT_UID];if(!!r){var n=this.renderer;if(this.initTextureType(t,r),t.resource&&t.resource.upload(n,t,r))r.samplerType!==$h.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,o=t.realHeight,a=n.gl;(r.width!==i||r.height!==o||r.dirtyId<0)&&(r.width=i,r.height=o,a.texImage2D(t.target,0,r.internalFormat,i,o,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,r){var n=this.gl;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(t);i!==-1&&Fs(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var r=t._glTextures[this.CONTEXT_UID];!r||((t.mipmap===Di.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=ki.CLAMP:r.wrapMode=t.wrapMode,t.resource&&t.resource.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,r){var n=this.gl;if(r.mipmap&&t.mipmap!==Di.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Fi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===Fi.LINEAR){var o=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===Fi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===Fi.LINEAR?n.LINEAR:n.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),LI={__proto__:null,FilterSystem:dI,BatchSystem:pI,ContextSystem:vI,FramebufferSystem:_I,GeometrySystem:mI,MaskSystem:EI,ScissorSystem:bI,StencilSystem:SI,ProjectionSystem:CI,RenderTextureSystem:II,ShaderSystem:NI,StateSystem:PI,TextureGCSystem:AI,TextureSystem:OI},F_=new Yt,F9=function(e){Tt(t,e);function t(r,n){r===void 0&&(r=Dl.UNKNOWN);var i=e.call(this)||this;return n=Object.assign({},Te.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new it(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||Te.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Ta("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return t.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=i,this.screen.height=o,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=o+"px"),this.emit("resize",i,o)},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={}),typeof n=="number"&&(Ta("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:o});var a=n.region,u=UG(n,["region"]);o=a||r.getLocalBounds(null,!0),o.width===0&&(o.width=1),o.height===0&&(o.height=1);var f=Ea.create(cg({width:o.width,height:o.height},u));return F_.tx=-o.x,F_.ty=-o.y,this.render(r,{renderTexture:f,clear:!1,transform:F_,skipUpdateTransform:!!r.parent}),f},t.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Dl.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=qC(r),js(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),t}(tf),U9=function(){function e(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return e}(),k9=function(){function e(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i]||this.createGLBuffer(t);n.bindBuffer(t.type,o.buffer)},e.prototype.bindBufferBase=function(t,r){var n=this,i=n.gl,o=n.CONTEXT_UID;if(this.boundBufferBases[r]!==t){var a=t._glBuffers[o]||this.createGLBuffer(t);this.boundBufferBases[r]=t,i.bindBufferBase(i.UNIFORM_BUFFER,r,a.buffer)}},e.prototype.bindBufferRange=function(t,r,n){var i=this,o=i.gl,a=i.CONTEXT_UID;n=n||0;var u=t._glBuffers[a]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,r||0,u.buffer,n*256,256)},e.prototype.update=function(t){var r=this,n=r.gl,i=r.CONTEXT_UID,o=t._glBuffers[i];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,n.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)n.bufferSubData(t.type,0,t.data);else{var a=t.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,n.bufferData(t.type,t.data,a)}},e.prototype.dispose=function(t,r){if(!!this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(t){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],t)},e.prototype.createGLBuffer=function(t){var r=this,n=r.CONTEXT_UID,i=r.gl;return t._glBuffers[n]=new U9(i.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[n]},e}(),Uo=function(e){Tt(t,e);function t(r){var n=e.call(this,Dl.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Tr("destroy"),contextChange:new Tr("contextChange"),reset:new Tr("reset"),update:new Tr("update"),postrender:new Tr("postrender"),prerender:new Tr("prerender"),resize:new Tr("resize")},n.runners.contextChange.add(n),n.globalUniforms=new pa({projectionMatrix:new Yt},!0),n.addSystem(EI,"mask").addSystem(vI,"context").addSystem(PI,"state").addSystem(NI,"shader").addSystem(OI,"texture").addSystem(k9,"buffer").addSystem(mI,"geometry").addSystem(_I,"framebuffer").addSystem(bI,"scissor").addSystem(SI,"stencil").addSystem(CI,"projection").addSystem(AI,"textureGC").addSystem(dI,"filter").addSystem(II,"renderTexture").addSystem(pI,"batch"),n.initPlugins(t.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,yD(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return t.create=function(r){if(xD())return new t(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=Kt.HIGH?this.multisample=Kt.HIGH:n>=Kt.MEDIUM?this.multisample=Kt.MEDIUM:n>=Kt.LOW?this.multisample=Kt.LOW:this.multisample=Kt.NONE},t.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var o in this.runners)this.runners[o].add(i);return this},t.prototype.render=function(r,n){var i,o,a,u;if(n&&(n instanceof Ea?(Ta("6.0.0","Renderer#render arguments changed, use options instead."),i=n,o=arguments[2],a=arguments[3],u=arguments[4]):(i=n.renderTexture,o=n.clear,a=n.transform,u=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=a,!this.context.isLost){if(i||(this._lastObjectRendered=r),!u){var f=r.enableTempParent();r.updateTransform(),r.disableTempParent(f)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(o!==void 0?o:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(r,n,i,o){n===void 0&&(n={});var a=e.prototype.generateTexture.call(this,r,n,i,o);return this.framebuffer.blit(),a},t.prototype.resize=function(r,n){e.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();e.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return Ta("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(r,n){t.__plugins=t.__plugins||{},t.__plugins[r]=n},t}(F9);function B9(e){return Uo.create(e)}var M9=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,D9=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,G9=M9,FI=D9,dg=function(){function e(){this.texArray=null,this.blend=0,this.type=Hn.TRIANGLES,this.start=0,this.size=0,this.data=null}return e}(),pg=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},e}(),vg=function(){function e(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(t){return this[t+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},e}(),H9=function(e){Tt(t,e);function t(r){var n=e.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Ra.for2d(),n.size=Te.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return t.prototype.contextChange=function(){var r=this.renderer.gl;Te.PREFER_ENV===Mi.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),Te.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=a9(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var r=t._drawCallPool,n=t._textureArrayPool,i=this.size/4,o=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new dg);for(;n.length<o;)n.push(new pg);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(r){!r._texture.valid||(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},t.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,o=t._textureArrayPool,a=this.renderer.batch,u=this._tempBoundTextures,f=this.renderer.textureGC.count,c=++Qe._globalBatch,d=0,p=o[0],v=0;a.copyBoundTextures(u,i);for(var _=0;_<this._bufferSize;++_){var y=n[_];n[_]=null,y._batchEnabled!==c&&(p.count>=i&&(a.boundArray(p,u,c,i),this.buildDrawCalls(p,v,_),v=_,p=o[++d],++c),y._batchEnabled=c,y.touched=f,p.elements[p.count++]=y)}p.count>0&&(a.boundArray(p,u,c,i),this.buildDrawCalls(p,v,this._bufferSize),++d,++c);for(var _=0;_<u.length;_++)u[_]=null;Qe._globalBatch=c},t.prototype.buildDrawCalls=function(r,n,i){var o=this,a=o._bufferedElements,u=o._attributeBuffer,f=o._indexBuffer,c=o.vertexSize,d=t._drawCallPool,p=this._dcIndex,v=this._aIndex,_=this._iIndex,y=d[p];y.start=this._iIndex,y.texArray=r;for(var T=n;T<i;++T){var g=a[T],x=g._texture.baseTexture,w=ZC[x.alphaMode?1:0][g.blendMode];a[T]=null,n<T&&y.blend!==w&&(y.size=_-y.start,n=T,y=d[++p],y.texArray=r,y.start=_),this.packInterleavedGeometry(g,u,f,v,_),v+=g.vertexData.length/2*c,_+=g.indices.length,y.blend=w}n<i&&(y.size=_-y.start,++p),this._dcIndex=p,this._aIndex=v,this._iIndex=_},t.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},t.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,o=r._indexBuffer;Te.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,o=n.state,a=t._drawCallPool,u=null,f=0;f<r;f++){var c=a[f],d=c.texArray,p=c.type,v=c.size,_=c.start,y=c.blend;u!==d&&(u=d,this.bindAndClearTexArray(d)),this.state.blendMode=y,o.set(this.state),i.drawElements(p,v,i.UNSIGNED_SHORT,_*2)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Te.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(r){var n=jh(Math.ceil(r/8)),i=cw(n),o=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._aBuffers[o];return a||(this._aBuffers[o]=a=new vg(o*this.vertexSize*4)),a},t.prototype.getIndexBuffer=function(r){var n=jh(Math.ceil(r/12)),i=cw(n),o=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var a=this._iBuffers[i];return a||(this._iBuffers[i]=a=new Uint16Array(o)),a},t.prototype.packInterleavedGeometry=function(r,n,i,o,a){for(var u=n.uint32View,f=n.float32View,c=o/this.vertexSize,d=r.uvs,p=r.indices,v=r.vertexData,_=r._texture.baseTexture._batchLocation,y=Math.min(r.worldAlpha,1),T=y<1&&r._texture.baseTexture.alphaMode?oy(r._tintRGB,y):r._tintRGB+(y*255<<24),g=0;g<v.length;g+=2)f[o++]=v[g],f[o++]=v[g+1],f[o++]=d[g],f[o++]=d[g+1],u[o++]=T,f[o++]=_;for(var g=0;g<p.length;g++)i[a++]=c+p[g]},t._drawCallPool=[],t._textureArrayPool=[],t}(Nd),X9=function(){function e(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(t){if(!this.programCache[t]){for(var r=new Int32Array(t),n=0;n<t;n++)r[n]=n;this.defaultGroupCache[t]=pa.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+t),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new nf(this.vertexSrc,i)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Yt,default:this.defaultGroupCache[t]};return new To(this.programCache[t],o)},e.prototype.generateSampleSrc=function(t){var r="";r+=`
`,r+=`
`;for(var n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},e}(),UI=function(e){Tt(t,e);function t(r){r===void 0&&(r=!1);var n=e.call(this)||this;return n._buffer=new Qt(null,r,!1),n._indexBuffer=new Qt(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,we.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,we.FLOAT).addAttribute("aColor",n._buffer,4,!0,we.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,we.FLOAT).addIndex(n._indexBuffer),n}return t}(rf),Vw=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Ww=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,$9=function(){function e(){}return e.create=function(t){var r=Object.assign({vertex:Vw,fragment:Ww,geometryClass:UI,vertexSize:6},t),n=r.vertex,i=r.fragment,o=r.vertexSize,a=r.geometryClass;return function(u){Tt(f,u);function f(c){var d=u.call(this,c)||this;return d.shaderGenerator=new X9(n,i),d.geometryClass=a,d.vertexSize=o,d}return f}(H9)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return Vw},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return Ww},enumerable:!1,configurable:!0}),e}(),j9=$9.create(),z9={},V9=function(e){Object.defineProperty(z9,e,{get:function(){return Ta("6.0.0","PIXI.systems."+e+" has moved to PIXI."+e),lI[e]}})};for(var hy in lI)V9(hy);var W9={},Y9=function(e){Object.defineProperty(W9,e,{get:function(){return Ta("6.0.0","PIXI.resources."+e+" has moved to PIXI."+e),LI[e]}})};for(var hy in LI)Y9(hy);/*!
 * @pixi/app - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Pd=function(){function e(t){var r=this;this.stage=new bn,t=Object.assign({forceCanvas:!1},t),this.renderer=B9(t),e._plugins.forEach(function(n){n.init.call(r,t)})}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var n=this,i=e._plugins.slice(0);i.reverse(),i.forEach(function(o){o.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}(),q9=function(){function e(){}return e.init=function(t){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!r._resizeTo||(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(!!r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var o=r._resizeTo,a=o.clientWidth,u=o.clientHeight;n=a,i=u}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();Pd.registerPlugin(q9);/*!
 * @pixi/extract - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Yw=new it,qw=4,K9=function(){function e(t){this.renderer=t}return e.prototype.image=function(t,r,n){var i=new Image;return i.src=this.base64(t,r,n),i},e.prototype.base64=function(t,r,n){return this.canvas(t).toDataURL(r,n)},e.prototype.canvas=function(t){var r=this.renderer,n,i,o=!1,a,u=!1;t&&(t instanceof Ea?a=t:(a=this.renderer.generateTexture(t),u=!0)),a?(n=a.baseTexture.resolution,i=a.frame,o=!1,r.renderTexture.bind(a)):(n=this.renderer.resolution,o=!0,i=Yw,i.width=this.renderer.width,i.height=this.renderer.height,r.renderTexture.bind(null));var f=Math.floor(i.width*n+1e-4),c=Math.floor(i.height*n+1e-4),d=new pw(f,c,1),p=new Uint8Array(qw*f*c),v=r.gl;v.readPixels(i.x*n,i.y*n,f,c,v.RGBA,v.UNSIGNED_BYTE,p);var _=d.context.getImageData(0,0,f,c);if(e.arrayPostDivide(p,_.data),d.context.putImageData(_,0,0),o){var y=new pw(d.width,d.height,1);y.context.scale(1,-1),y.context.drawImage(d.canvas,0,-c),d.destroy(),d=y}return u&&a.destroy(!0),d.canvas},e.prototype.pixels=function(t){var r=this.renderer,n,i,o,a=!1;t&&(t instanceof Ea?o=t:(o=this.renderer.generateTexture(t),a=!0)),o?(n=o.baseTexture.resolution,i=o.frame,r.renderTexture.bind(o)):(n=r.resolution,i=Yw,i.width=r.width,i.height=r.height,r.renderTexture.bind(null));var u=i.width*n,f=i.height*n,c=new Uint8Array(qw*u*f),d=r.gl;return d.readPixels(i.x*n,i.y*n,u,f,d.RGBA,d.UNSIGNED_BYTE,c),a&&o.destroy(!0),e.arrayPostDivide(c,c),c},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(t,r){for(var n=0;n<t.length;n+=4){var i=r[n+3]=t[n+3];i!==0?(r[n]=Math.round(Math.min(t[n]*255/i,255)),r[n+1]=Math.round(Math.min(t[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(t[n+2]*255/i,255))):(r[n]=t[n],r[n+1]=t[n+1],r[n+2]=t[n+2])}},e}();/*!
 * @pixi/loaders - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var kc=function(){function e(t,r,n){r===void 0&&(r=!1),this._fn=t,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},e}();function Kw(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Ai=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(t){t===void 0&&(t=!1);var r=this._head;if(t)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},e.prototype.has=function(t){if(!(t instanceof kc))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},e.prototype.dispatch=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++)r[n]=t[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},e.prototype.add=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Kw(this,new kc(t,!1,r))},e.prototype.once=function(t,r){if(r===void 0&&(r=null),typeof t!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Kw(this,new kc(t,!0,r))},e.prototype.detach=function(t){if(!(t instanceof kc))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,t._next===null&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)},e.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},e}();function kI(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[t.strictMode?"strict":"loose"].exec(e),i={},o=14;o--;)i[r.key[o]]=n[o]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(a,u,f){u&&(i[r.q.name][u]=f)}),i}var Z9=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Bc=null,J9=0,Zw=200,Q9=204,eH=1223,tH=2;function Jw(){}function Qw(e,t,r){t&&t.indexOf(".")===0&&(t=t.substring(1)),t&&(e[t]=r)}function U_(e){return e.toString().replace("object ","")}var Xt=function(){function e(t,r,n){if(this._dequeue=Jw,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof t!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Jw,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Ai,this.onProgress=new Ai,this.onComplete=new Ai,this.onAfterMiddleware=new Ai}return e.setExtensionLoadType=function(t,r){Qw(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){Qw(e._xhrTypeMap,t,r)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete){t&&setTimeout(function(){return t(r)},1);return}else t&&this.onComplete.once(t);switch(this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:Z9&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},e.prototype._hasFlag=function(t){return(this._flags&t)!==0},e.prototype._setFlag=function(t,r){this._flags=r?this._flags|t:this._flags&~t},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:t==="image"&&typeof globalThis.Image!="undefined"?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:t==="audio"&&typeof globalThis.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(t),this.data===null){this.abort("Unsupported element: "+t);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e.prototype._createSource=function(t,r,n){n||(n=t+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},e.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var t=this.xhr;this.abort(U_(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(U_(t)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(U_(t)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",n=typeof t.status=="undefined"?Zw:t.status;(t.responseType===""||t.responseType==="text"||typeof t.responseType=="undefined")&&(r=t.responseText),n===J9&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?n=Zw:n===eH&&(n=Q9);var i=n/100|0;if(i===tH)if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(u){this.abort("Error trying to parse loaded json: "+u);return}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var o=new DOMParser;this.data=o.parseFromString(r,"text/xml")}else{var a=document.createElement("div");a.innerHTML=r,this.data=a}this.type=e.TYPE.XML}catch(u){this.abort("Error trying to parse loaded xml: "+u);return}else this.data=t.response||r;else{this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);return}this.complete()},e.prototype._determineCrossOrigin=function(t,r){if(t.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,Bc||(Bc=document.createElement("a")),Bc.href=t;var n=kI(Bc.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,o=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||o!==r.protocol?"anonymous":""},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(t){t===void 0&&(t=this.url);var r="";if(this.isDataUrl){var n=t.indexOf("/");r=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?"),o=t.indexOf("#"),a=Math.min(i>-1?i:t.length,o>-1?o:t.length);t=t.substring(0,a),r=t.substring(t.lastIndexOf(".")+1)}return r.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();(function(e){(function(t){t[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JSON=1]="JSON",t[t.XML=2]="XML",t[t.IMAGE=3]="IMAGE",t[t.AUDIO=4]="AUDIO",t[t.VIDEO=5]="VIDEO",t[t.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(t){t[t.XHR=1]="XHR",t[t.IMAGE=2]="IMAGE",t[t.AUDIO=3]="AUDIO",t[t.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(t){t.DEFAULT="text",t.BUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Xt||(Xt={}));function Zo(){}function rH(e){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(e===null)throw new Error("Callback was already called.");var o=e;e=null,o.apply(this,n)}}var nH=function(){function e(t,r){this.data=t,this.callback=r}return e}(),k_=function(){function e(t,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=Zo,this.unsaturated=Zo,this.empty=Zo,this.drain=Zo,this.error=Zo,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,o,a){if(a&&typeof a!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var u=new nH(i,typeof a=="function"?a:Zo);o?n._tasks.unshift(u):n._tasks.push(u),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,rH(n._next(i)))}},this._worker=t,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return e.prototype._next=function(t){var r=this;return function(){for(var n=arguments,i=[],o=0;o<arguments.length;o++)i[o]=n[o];r.workers-=1,t.callback.apply(t,i),i[0]!=null&&r.error(i[0],t.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},e.prototype.push=function(t,r){this._insert(t,!1,r)},e.prototype.kill=function(){this.workers=0,this.drain=Zo,this.started=!1,this._tasks=[]},e.prototype.unshift=function(t,r){this._insert(t,!0,r)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},e.eachSeries=function(t,r,n,i){var o=0,a=t.length;function u(f){if(f||o===a){n&&n(f);return}i?setTimeout(function(){r(t[o++],u)},1):r(t[o++],u)}u()},e.queue=function(t,r){return new e(t,r)},e}(),B_=100,iH=/(#[\w-]+)?$/,ui=function(){function e(t,r){var n=this;t===void 0&&(t=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,c){return n._loadResource(f,c)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(f,c){return n._loadResource(f,c)},this._queue=k_.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Ai,this.onError=new Ai,this.onLoad=new Ai,this.onStart=new Ai,this.onComplete=new Ai;for(var i=0;i<e._plugins.length;++i){var o=e._plugins[i],a=o.pre,u=o.use;a&&this.pre(a),u&&this.use(u)}this._protected=!1}return e.prototype._add=function(t,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(r=this._prepareUrl(r),this.resources[t]=new Xt(t,r,n),typeof i=="function"&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var o=n.parentResource,a=[],u=0;u<o.children.length;++u)o.children[u].isComplete||a.push(o.children[u]);var f=o.progressChunk*(a.length+1),c=f/(a.length+2);o.children.push(this.resources[t]),o.progressChunk=c;for(var u=0;u<a.length;++u)a[u].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},e.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},e.prototype.use=function(t){return this._afterMiddleware.push(t),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var r=this.resources[t];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},e.prototype.load=function(t){if(typeof t=="function"&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=B_/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(t){var r=kI(t,{strictMode:!0}),n;if(r.protocol||!r.path||t.indexOf("//")===0?n=t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&t.charAt(0)!=="/"?n=this.baseUrl+"/"+t:n=this.baseUrl+t,this.defaultQueryString){var i=iH.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},e.prototype._loadResource=function(t,r){var n=this;t._dequeue=r,k_.eachSeries(this._beforeMiddleware,function(i,o){i.call(n,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=B_,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(t){var r=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),k_.eachSeries(this._afterMiddleware,function(n,i){n.call(r,t,i)},function(){t.onAfterMiddleware.dispatch(t),r.progress=Math.min(B_,r.progress+t.progressChunk),r.onProgress.dispatch(r,t),t.error?r.onError.dispatch(t.error,r,t):r.onLoad.dispatch(r,t),r._resourcesParsing.splice(r._resourcesParsing.indexOf(t),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||(t=new e,t._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}();ui.prototype.add=function(t,r,n,i){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if(typeof t=="object"&&(n=t,i=r||n.callback||n.onComplete,r=n.url,t=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=t),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(t,r,n,i)};var oH=function(){function e(){}return e.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?ui.shared:new ui},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),aH=function(){function e(){}return e.add=function(){Xt.setExtensionLoadType("svg",Xt.LOAD_TYPE.XHR),Xt.setExtensionXhrType("svg",Xt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){if(t.data&&(t.type===Xt.TYPE.IMAGE||t.extension==="svg")){var n=t.data,i=t.url,o=t.name,a=t.metadata;Se.fromLoader(n,i,o,a).then(function(u){t.texture=u,r()}).catch(r)}else r()},e}(),sH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function uH(e){for(var t="",r=0;r<e.length;){for(var n=[0,0,0],i=[0,0,0,0],o=0;o<n.length;++o)r<e.length?n[o]=e.charCodeAt(r++)&255:n[o]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var a=r-(e.length-1);switch(a){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var o=0;o<i.length;++o)t+=sH.charAt(i[o])}return t}var eb=self.URL||self.webkitURL;function lH(e,t){if(!e.data){t();return}if(e.xhr&&e.xhrType===Xt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof e.data=="string"){var r=e.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){e.data=new Image,e.data.src="data:"+r+";base64,"+uH(e.xhr.responseText),e.type=Xt.TYPE.IMAGE,e.data.onload=function(){e.data.onload=null,t()};return}}else if(e.data.type.indexOf("image")===0){var n=eb.createObjectURL(e.data);e.blob=e.data,e.data=new Image,e.data.src=n,e.type=Xt.TYPE.IMAGE,e.data.onload=function(){eb.revokeObjectURL(n),e.data.onload=null,t()};return}}t()}ui.registerPlugin({use:lH});ui.registerPlugin(aH);/*!
 * @pixi/compressed-textures - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _t,$e;(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})($e||($e={}));var Yh=(_t={},_t[$e.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_t[$e.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_t[$e.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_t[$e.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_t[$e.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_t[$e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_t[$e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_t[$e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_t[$e.COMPRESSED_R11_EAC]=.5,_t[$e.COMPRESSED_SIGNED_R11_EAC]=.5,_t[$e.COMPRESSED_RG11_EAC]=1,_t[$e.COMPRESSED_SIGNED_RG11_EAC]=1,_t[$e.COMPRESSED_RGB8_ETC2]=.5,_t[$e.COMPRESSED_RGBA8_ETC2_EAC]=1,_t[$e.COMPRESSED_SRGB8_ETC2]=.5,_t[$e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_t[$e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_t[$e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_t[$e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_t[$e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_t[$e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_t[$e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_t[$e.COMPRESSED_RGB_ETC1_WEBGL]=.5,_t[$e.COMPRESSED_RGB_ATC_WEBGL]=.5,_t[$e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_t[$e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_t);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var _g=function(e,t){return _g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_g(e,t)};function BI(e,t){_g(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function fH(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(c){try{f(n.next(c))}catch(d){o(d)}}function u(c){try{f(n.throw(c))}catch(d){o(d)}}function f(c){c.done?i(c.value):new r(function(d){d(c.value)}).then(a,u)}f((n=n.apply(e,t||[])).next())})}function cH(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(c){return function(d){return f([c,d])}}function f(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(d){c=[6,d],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var hH=function(e){BI(t,e);function t(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,o,a;return typeof r=="string"?(o=r,a=new Uint8Array):(o=null,a=r),i=e.call(this,a,n)||this,i.origin=o,i.buffer=a?new vg(a):null,i.origin&&n.autoLoad!==!1&&i.load(),a&&a.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return t.prototype.onBlobLoaded=function(r){},t.prototype.load=function(){return fH(this,void 0,Promise,function(){var r,n,i;return cH(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return r=o.sent(),[4,r.blob()];case 2:return n=o.sent(),[4,n.arrayBuffer()];case 3:return i=o.sent(),this.data=new Uint32Array(i),this.buffer=new vg(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},t}(iu),mg=function(e){BI(t,e);function t(r,n){var i=e.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=t._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||t._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return t.prototype.upload=function(r,n,i){var o=r.gl,a=r.context.extensions[this._extension];if(!a)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var u=0,f=this.levels;u<f;u++){var c=this._levelBuffers[u],d=c.levelID,p=c.levelWidth,v=c.levelHeight,_=c.levelBuffer;o.compressedTexImage2D(o.TEXTURE_2D,d,this.format,p,v,0,_)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(r,n,i,o,a,u,f){for(var c=new Array(i),d=r.byteOffset,p=u,v=f,_=p+o-1&~(o-1),y=v+a-1&~(a-1),T=_*y*Yh[n],g=0;g<i;g++)c[g]={levelID:g,levelWidth:i>1?p:_,levelHeight:i>1?v:y,levelBuffer:new Uint8Array(r.buffer,d,T)},d+=T,p=p>>1||1,v=v>>1||1,_=p+o-1&~(o-1),y=v+a-1&~(a-1),T=_*y*Yh[n];return c},t}(hH),dH=function(){function e(){}return e.use=function(t,r){var n=t.data,i=this;if(t.type===Xt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var o=n.textures,a=void 0,u=void 0,f=0,c=o.length;f<c;f++){var d=o[f],p=d.src,v=d.format;if(v||(u=p),e.textureFormats[v]){a=p;break}}if(a=a||u,!a){r(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));return}if(a===t.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var _={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},y=_s.resolve(t.url.replace(i.baseUrl,""),a),T=n.cacheID;i.add(T,y,_,function(g){if(g.error){r(g.error);return}var x=g.texture,w=x===void 0?null:x,I=g.textures,A=I===void 0?{}:I;Object.assign(t,{texture:w,textures:A}),r()})}else r()},e.add=function(){var t=document.createElement("canvas"),r=t.getContext("webgl");if(!r){console.warn("WebGL not available for compressed textures. Silently failing.");return}var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};e.textureExtensions=n,e.textureFormats={};for(var i in n){var o=n[i];!o||Object.assign(e.textureFormats,Object.getPrototypeOf(o))}},e}();function MI(e,t,r){var n={textures:{},texture:null};if(!t)return n;var i=t.map(function(o){return new Se(new Qe(o,Object.assign({mipmap:Di.OFF,alphaMode:$n.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(o,a){var u=o.baseTexture,f=e+"-"+(a+1);Qe.addToCache(u,f),Se.addToCache(o,f),a===0&&(Qe.addToCache(u,e),Se.addToCache(o,e),n.texture=o),n.textures[f]=o}),n}var $u,Un;Xt.setExtensionXhrType("dds",Xt.XHR_RESPONSE_TYPE.BUFFER);var M_=4,Mc=124,pH=32,tb=20,vH=542327876,Dc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},_H={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Gc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Bn;(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Bn||(Bn={}));var gg;(function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(gg||(gg={}));var mH=1,gH=2,yH=4,xH=64,TH=512,EH=131072,wH=827611204,bH=861165636,SH=894720068,CH=808540228,IH=4,RH=($u={},$u[wH]=$e.COMPRESSED_RGBA_S3TC_DXT1_EXT,$u[bH]=$e.COMPRESSED_RGBA_S3TC_DXT3_EXT,$u[SH]=$e.COMPRESSED_RGBA_S3TC_DXT5_EXT,$u),NH=(Un={},Un[Bn.DXGI_FORMAT_BC1_TYPELESS]=$e.COMPRESSED_RGBA_S3TC_DXT1_EXT,Un[Bn.DXGI_FORMAT_BC1_UNORM]=$e.COMPRESSED_RGBA_S3TC_DXT1_EXT,Un[Bn.DXGI_FORMAT_BC2_TYPELESS]=$e.COMPRESSED_RGBA_S3TC_DXT3_EXT,Un[Bn.DXGI_FORMAT_BC2_UNORM]=$e.COMPRESSED_RGBA_S3TC_DXT3_EXT,Un[Bn.DXGI_FORMAT_BC3_TYPELESS]=$e.COMPRESSED_RGBA_S3TC_DXT5_EXT,Un[Bn.DXGI_FORMAT_BC3_UNORM]=$e.COMPRESSED_RGBA_S3TC_DXT5_EXT,Un[Bn.DXGI_FORMAT_BC1_UNORM_SRGB]=$e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Un[Bn.DXGI_FORMAT_BC2_UNORM_SRGB]=$e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Un[Bn.DXGI_FORMAT_BC3_UNORM_SRGB]=$e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Un),PH=function(){function e(){}return e.use=function(t,r){if(t.extension==="dds"&&t.data)try{Object.assign(t,MI(t.name||t.url,e.parse(t.data),t.metadata))}catch(n){r(n);return}r()},e.parse=function(t){var r=new Uint32Array(t),n=r[0];if(n!==vH)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(t,0,Mc/Uint32Array.BYTES_PER_ELEMENT),o=i[Dc.HEIGHT],a=i[Dc.WIDTH],u=i[Dc.MIPMAP_COUNT],f=new Uint32Array(t,Dc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,pH/Uint32Array.BYTES_PER_ELEMENT),c=f[mH];if(c&yH){var d=f[_H.FOURCC];if(d!==CH){var p=RH[d],v=M_+Mc,_=new Uint8Array(t,v),y=new mg(_,{format:p,width:a,height:o,levels:u});return[y]}var T=M_+Mc,g=new Uint32Array(r.buffer,T,tb/Uint32Array.BYTES_PER_ELEMENT),x=g[Gc.DXGI_FORMAT],w=g[Gc.RESOURCE_DIMENSION],I=g[Gc.MISC_FLAG],A=g[Gc.ARRAY_SIZE],N=NH[x];if(N===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+x);if(I===IH)throw new Error("DDSLoader does not support cubemap textures");if(w===gg.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var R=new Array,B=M_+Mc+tb;if(A===1)R.push(new Uint8Array(t,B));else{for(var $=Yh[N],M=0,W=a,he=o,ae=0;ae<u;ae++){var de=Math.max(1,W+3&-4),Ve=Math.max(1,he+3&-4),ue=de*Ve*$;M+=ue,W=W>>>1,he=he>>>1}for(var le=B,ae=0;ae<A;ae++)R.push(new Uint8Array(t,le,M)),le+=M}return R.map(function(ye){return new mg(ye,{format:N,width:a,height:o,levels:u})})}throw c&xH?new Error("DDSLoader does not support uncompressed texture data."):c&TH?new Error("DDSLoader does not supported YUV uncompressed texture data."):c&EH?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):c&gH?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}(),ro,Si,ju;Xt.setExtensionXhrType("ktx",Xt.XHR_RESPONSE_TYPE.BUFFER);var rb=[171,75,84,88,32,49,49,187,13,10,26,10],AH=67305985,kn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},OH=64,nb=(ro={},ro[we.UNSIGNED_BYTE]=1,ro[we.UNSIGNED_SHORT]=2,ro[we.INT]=4,ro[we.UNSIGNED_INT]=4,ro[we.FLOAT]=4,ro[we.HALF_FLOAT]=8,ro),LH=(Si={},Si[oe.RGBA]=4,Si[oe.RGB]=3,Si[oe.RG]=2,Si[oe.RED]=1,Si[oe.LUMINANCE]=1,Si[oe.LUMINANCE_ALPHA]=2,Si[oe.ALPHA]=1,Si),FH=(ju={},ju[we.UNSIGNED_SHORT_4_4_4_4]=2,ju[we.UNSIGNED_SHORT_5_5_5_1]=2,ju[we.UNSIGNED_SHORT_5_6_5]=2,ju),UH=function(){function e(){}return e.use=function(t,r){if(t.extension==="ktx"&&t.data)try{var n=t.name||t.url,i=e.parse(n,t.data),o=i.compressed,a=i.uncompressed;if(o)Object.assign(t,MI(n,o,t.metadata));else if(a){var u={};a.forEach(function(f,c){var d=new Se(new Qe(f.resource,{mipmap:Di.OFF,alphaMode:$n.NO_PREMULTIPLIED_ALPHA,type:f.type,format:f.format})),p=n+"-"+(c+1);Qe.addToCache(d.baseTexture,p),Se.addToCache(d,p),c===0&&(u[n]=d,Qe.addToCache(d.baseTexture,n),Se.addToCache(d,n)),u[p]=d}),Object.assign(t,{textures:u})}}catch(f){r(f);return}r()},e.parse=function(t,r){var n=new DataView(r);if(!e.validate(t,n))return null;var i=n.getUint32(kn.ENDIANNESS,!0)===AH,o=n.getUint32(kn.GL_TYPE,i),a=n.getUint32(kn.GL_FORMAT,i),u=n.getUint32(kn.GL_INTERNAL_FORMAT,i),f=n.getUint32(kn.PIXEL_WIDTH,i),c=n.getUint32(kn.PIXEL_HEIGHT,i)||1,d=n.getUint32(kn.PIXEL_DEPTH,i)||1,p=n.getUint32(kn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,v=n.getUint32(kn.NUMBER_OF_FACES,i),_=n.getUint32(kn.NUMBER_OF_MIPMAP_LEVELS,i),y=n.getUint32(kn.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||d!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");var T=4,g=4,x=f+3&-4,w=c+3&-4,I=new Array(p),A=f*c;o===0&&(A=x*w);var N;if(o!==0?nb[o]?N=nb[o]*LH[a]:N=FH[o]:N=Yh[u],N===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var R=A*N,B=R,$=f,M=c,W=x,he=w,ae=OH+y,de=0;de<_;de++){for(var Ve=n.getUint32(ae,i),ue=ae+4,le=0;le<p;le++){var ye=I[le];ye||(ye=I[le]=new Array(_)),ye[de]={levelID:de,levelWidth:_>1||o!==0?$:W,levelHeight:_>1||o!==0?M:he,levelBuffer:new Uint8Array(r,ue,B)},ue+=B}ae+=Ve+4,ae=ae%4!==0?ae+4-ae%4:ae,$=$>>1||1,M=M>>1||1,W=$+T-1&~(T-1),he=M+g-1&~(g-1),B=W*he*N}return o!==0?{uncompressed:I.map(function(Le){var ht=Le[0].levelBuffer,Z=!1;return o===we.FLOAT?ht=new Float32Array(Le[0].levelBuffer.buffer,Le[0].levelBuffer.byteOffset,Le[0].levelBuffer.byteLength/4):o===we.UNSIGNED_INT?(Z=!0,ht=new Uint32Array(Le[0].levelBuffer.buffer,Le[0].levelBuffer.byteOffset,Le[0].levelBuffer.byteLength/4)):o===we.INT&&(Z=!0,ht=new Int32Array(Le[0].levelBuffer.buffer,Le[0].levelBuffer.byteOffset,Le[0].levelBuffer.byteLength/4)),{resource:new iu(ht,{width:Le[0].levelWidth,height:Le[0].levelHeight}),type:o,format:Z?e.convertFormatToInteger(a):a}})}:{compressed:I.map(function(Le){return new mg(null,{format:u,width:f,height:c,levels:_,levelBuffers:Le})})}},e.validate=function(t,r){for(var n=0;n<rb.length;n++)if(r.getUint8(n)!==rb[n])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(t){switch(t){case oe.RGBA:return oe.RGBA_INTEGER;case oe.RGB:return oe.RGB_INTEGER;case oe.RG:return oe.RG_INTEGER;case oe.RED:return oe.RED_INTEGER;default:return t}},e}();/*!
 * @pixi/particle-container - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yg=function(e,t){return yg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},yg(e,t)};function DI(e,t){yg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}(function(e){DI(t,e);function t(r,n,i,o){r===void 0&&(r=1500),i===void 0&&(i=16384),o===void 0&&(o=!1);var a=e.call(this)||this,u=16384;return i>u&&(i=u),a._properties=[!1,!0,!1,!1,!1],a._maxSize=r,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=be.NORMAL,a.autoResize=o,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return t.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,js(r,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},t.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t})(bn);var ib=function(){function e(t,r,n){this.geometry=new rf,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var o=t[i];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||we.FLOAT,offset:o.offset},r[i]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var t=this.geometry,r=0;this.indexBuffer=new Qt(fG(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new Qt(this.dynamicData,!1,!1);var a=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=a,a+=i.size,this.staticStride+=i.size}var u=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(u),this.staticDataUint32=new Uint32Array(u),this.staticBuffer=new Qt(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===we.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===we.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},e.prototype.uploadDynamic=function(t,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var o=this.dynamicProperties[i];o.uploadFunction(t,r,n,o.type===we.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(t,r,n){for(var i=0;i<this.staticProperties.length;i++){var o=this.staticProperties[i];o.uploadFunction(t,r,n,o.type===we.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),kH=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,BH=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,MH=function(e){DI(t,e);function t(r){var n=e.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Yt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:we.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=To.from(BH,kH,{}),n.state=Ra.for2d(),n}return t.prototype.render=function(r){var n=r.children,i=r._maxSize,o=r._batchSize,a=this.renderer,u=n.length;if(u!==0){u>i&&!r.autoResize&&(u=i);var f=r._buffers;f||(f=r._buffers=this.generateBuffers(r));var c=n[0]._texture.baseTexture;this.state.blendMode=JC(r.blendMode,c.alphaMode),a.state.set(this.state);var d=a.gl,p=r.worldTransform.copyTo(this.tempMatrix);p.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=lG(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,c.alphaMode),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var v=!1,_=0,y=0;_<u;_+=o,y+=1){var T=u-_;T>o&&(T=o),y>=f.length&&f.push(this._generateOneMoreBuffer(r));var g=f[y];g.uploadDynamic(n,_,T);var x=r._bufferUpdateIDs[y]||0;v=v||g._updateID<x,v&&(g._updateID=r._updateID,g.uploadStatic(n,_,T)),a.geometry.bind(g.geometry),d.drawElements(d.TRIANGLES,T*6,d.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,o=r._batchSize,a=r._properties,u=0;u<i;u+=o)n.push(new ib(this.properties,a,o));return n},t.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new ib(this.properties,i,n)},t.prototype.uploadVertices=function(r,n,i,o,a,u){for(var f=0,c=0,d=0,p=0,v=0;v<i;++v){var _=r[n+v],y=_._texture,T=_.scale.x,g=_.scale.y,x=y.trim,w=y.orig;x?(c=x.x-_.anchor.x*w.width,f=c+x.width,p=x.y-_.anchor.y*w.height,d=p+x.height):(f=w.width*(1-_.anchor.x),c=w.width*-_.anchor.x,d=w.height*(1-_.anchor.y),p=w.height*-_.anchor.y),o[u]=c*T,o[u+1]=p*g,o[u+a]=f*T,o[u+a+1]=p*g,o[u+a*2]=f*T,o[u+a*2+1]=d*g,o[u+a*3]=c*T,o[u+a*3+1]=d*g,u+=a*4}},t.prototype.uploadPosition=function(r,n,i,o,a,u){for(var f=0;f<i;f++){var c=r[n+f].position;o[u]=c.x,o[u+1]=c.y,o[u+a]=c.x,o[u+a+1]=c.y,o[u+a*2]=c.x,o[u+a*2+1]=c.y,o[u+a*3]=c.x,o[u+a*3+1]=c.y,u+=a*4}},t.prototype.uploadRotation=function(r,n,i,o,a,u){for(var f=0;f<i;f++){var c=r[n+f].rotation;o[u]=c,o[u+a]=c,o[u+a*2]=c,o[u+a*3]=c,u+=a*4}},t.prototype.uploadUvs=function(r,n,i,o,a,u){for(var f=0;f<i;++f){var c=r[n+f]._texture._uvs;c?(o[u]=c.x0,o[u+1]=c.y0,o[u+a]=c.x1,o[u+a+1]=c.y1,o[u+a*2]=c.x2,o[u+a*2+1]=c.y2,o[u+a*3]=c.x3,o[u+a*3+1]=c.y3,u+=a*4):(o[u]=0,o[u+1]=0,o[u+a]=0,o[u+a+1]=0,o[u+a*2]=0,o[u+a*2+1]=0,o[u+a*3]=0,o[u+a*3+1]=0,u+=a*4)}},t.prototype.uploadTint=function(r,n,i,o,a,u){for(var f=0;f<i;++f){var c=r[n+f],d=c._texture.baseTexture.alphaMode>0,p=c.alpha,v=p<1&&d?oy(c._tintRGB,p):c._tintRGB+(p*255<<24);o[u]=v,o[u+a]=v,o[u+a*2]=v,o[u+a*3]=v,u+=a*4}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(Nd);/*!
 * @pixi/graphics - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fo;(function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"})(fo||(fo={}));var co;(function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"})(co||(co={}));var Hl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(t===void 0&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},GI=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Se.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Se.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xg=function(e,t){return xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xg(e,t)};function dy(e,t){xg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function ob(e,t){var r,n;t===void 0&&(t=!1);var i=e.length;if(!(i<6)){for(var o=0,a=0,u=e[i-2],f=e[i-1];a<i;a+=2){var c=e[a],d=e[a+1];o+=(c-u)*(d+f),u=c,f=d}if(!t&&o>0||t&&o<=0)for(var p=i/2,a=p+p%2;a<i;a+=2){var v=i-a-2,_=i-a-1,y=a,T=a+1;r=[e[y],e[v]],e[v]=r[0],e[y]=r[1],n=[e[T],e[_]],e[_]=n[0],e[T]=n[1]}}}var HI={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,n=e.holes,i=t.points,o=t.indices;if(r.length>=6){ob(r,!1);for(var a=[],u=0;u<n.length;u++){var f=n[u];ob(f.points,!0),a.push(r.length/2),r=r.concat(f.points)}var c=YC(r,a,2);if(!c)return;for(var d=i.length/2,u=0;u<c.length;u+=3)o.push(c[u]+d),o.push(c[u+1]+d),o.push(c[u+2]+d);for(var u=0;u<r.length;u++)i.push(r[u])}}},qh={build:function(e){var t=e.points,r,n,i,o,a,u;if(e.type===Ht.CIRC){var f=e.shape;r=f.x,n=f.y,a=u=f.radius,i=o=0}else if(e.type===Ht.ELIP){var c=e.shape;r=c.x,n=c.y,a=c.width,u=c.height,i=o=0}else{var d=e.shape,p=d.width/2,v=d.height/2;r=d.x+p,n=d.y+v,a=u=Math.max(0,Math.min(d.radius,Math.min(p,v))),i=p-a,o=v-u}var _=Math.ceil(2.3*Math.sqrt(a+u)),y=_*8+(i?4:0)+(o?4:0);if(t.length=y,y!==0){if(_===0){t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+o,t[2]=t[4]=r-i,t[5]=t[7]=n-o;return}var T=0,g=_*4+(i?2:0)+2,x=g,w=y;{var I=i+a,A=o,N=r+I,R=r-I,B=n+A;if(t[T++]=N,t[T++]=B,t[--g]=B,t[--g]=R,o){var $=n-A;t[x++]=R,t[x++]=$,t[--w]=$,t[--w]=N}}for(var M=1;M<_;M++){var W=Math.PI/2*(M/_),I=i+Math.cos(W)*a,A=o+Math.sin(W)*u,N=r+I,R=r-I,B=n+A,$=n-A;t[T++]=N,t[T++]=B,t[--g]=B,t[--g]=R,t[x++]=R,t[x++]=$,t[--w]=$,t[--w]=N}{var I=i,A=o+u,N=r+I,R=r-I,B=n+A,$=n-A;t[T++]=N,t[T++]=B,t[--w]=$,t[--w]=N,i&&(t[T++]=R,t[T++]=B,t[--w]=$,t[--w]=R)}}},triangulate:function(e,t){var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=o,u,f;if(e.type!==Ht.RREC){var c=e.shape;u=c.x,f=c.y}else{var d=e.shape;u=d.x+d.width/2,f=d.y+d.height/2}var p=e.matrix;n.push(e.matrix?p.a*u+p.c*f+p.tx:u,e.matrix?p.b*u+p.d*f+p.ty:f),o++,n.push(r[0],r[1]);for(var v=2;v<r.length;v+=2)n.push(r[v],r[v+1]),i.push(o++,a,o);i.push(a+1,a,o)}},DH={build:function(e){var t=e.shape,r=t.x,n=t.y,i=t.width,o=t.height,a=e.points;a.length=0,a.push(r,n,r+i,n,r+i,n+o,r,n+o)},triangulate:function(e,t){var r=e.points,n=t.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function ns(e,t,r){var n=t-e;return e+n*r}function Hc(e,t,r,n,i,o,a){a===void 0&&(a=[]);for(var u=20,f=a,c=0,d=0,p=0,v=0,_=0,y=0,T=0,g=0;T<=u;++T)g=T/u,c=ns(e,r,g),d=ns(t,n,g),p=ns(r,i,g),v=ns(n,o,g),_=ns(c,p,g),y=ns(d,v,g),!(T===0&&f[f.length-2]===_&&f[f.length-1]===y)&&f.push(_,y);return f}var GH={build:function(e){if(Kh.nextRoundedRectBehavior){qh.build(e);return}var t=e.shape,r=e.points,n=t.x,i=t.y,o=t.width,a=t.height,u=Math.max(0,Math.min(t.radius,Math.min(o,a)/2));r.length=0,u?(Hc(n,i+u,n,i,n+u,i,r),Hc(n+o-u,i,n+o,i,n+o,i+u,r),Hc(n+o,i+a-u,n+o,i+a,n+o-u,i+a,r),Hc(n+u,i+a,n,i+a,n,i+a-u,r)):r.push(n,i,n+o,i,n+o,i+a,n,i+a)},triangulate:function(e,t){if(Kh.nextRoundedRectBehavior){qh.triangulate(e,t);return}for(var r=e.points,n=t.points,i=t.indices,o=n.length/2,a=YC(r,null,2),u=0,f=a.length;u<f;u+=3)i.push(a[u]+o),i.push(a[u+1]+o),i.push(a[u+2]+o);for(var u=0,f=r.length;u<f;u++)n.push(r[u],r[++u])}};function ab(e,t,r,n,i,o,a,u){var f=e-r*i,c=t-n*i,d=e+r*o,p=t+n*o,v,_;a?(v=n,_=-r):(v=-n,_=r);var y=f+v,T=c+_,g=d+v,x=p+_;return u.push(y,T),u.push(g,x),2}function is(e,t,r,n,i,o,a,u){var f=r-e,c=n-t,d=Math.atan2(f,c),p=Math.atan2(i-e,o-t);u&&d<p?d+=Math.PI*2:!u&&d>p&&(p+=Math.PI*2);var v=d,_=p-d,y=Math.abs(_),T=Math.sqrt(f*f+c*c),g=(15*y*Math.sqrt(T)/Math.PI>>0)+1,x=_/g;if(v+=x,u){a.push(e,t),a.push(r,n);for(var w=1,I=v;w<g;w++,I+=x)a.push(e,t),a.push(e+Math.sin(I)*T,t+Math.cos(I)*T);a.push(e,t),a.push(i,o)}else{a.push(r,n),a.push(e,t);for(var w=1,I=v;w<g;w++,I+=x)a.push(e+Math.sin(I)*T,t+Math.cos(I)*T),a.push(e,t);a.push(i,o),a.push(e,t)}return g*2}function HH(e,t){var r=e.shape,n=e.points||r.points.slice(),i=t.closePointEps;if(n.length!==0){var o=e.lineStyle,a=new Ct(n[0],n[1]),u=new Ct(n[n.length-2],n[n.length-1]),f=r.type!==Ht.POLY||r.closeStroke,c=Math.abs(a.x-u.x)<i&&Math.abs(a.y-u.y)<i;if(f){n=n.slice(),c&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));var d=(a.x+u.x)*.5,p=(u.y+a.y)*.5;n.unshift(d,p),n.push(d,p)}var v=t.points,_=n.length/2,y=n.length,T=v.length/2,g=o.width/2,x=g*g,w=o.miterLimit*o.miterLimit,I=n[0],A=n[1],N=n[2],R=n[3],B=0,$=0,M=-(A-R),W=I-N,he=0,ae=0,de=Math.sqrt(M*M+W*W);M/=de,W/=de,M*=g,W*=g;var Ve=o.alignment,ue=(1-Ve)*2,le=Ve*2;f||(o.cap===co.ROUND?y+=is(I-M*(ue-le)*.5,A-W*(ue-le)*.5,I-M*ue,A-W*ue,I+M*le,A+W*le,v,!0)+2:o.cap===co.SQUARE&&(y+=ab(I,A,M,W,ue,le,!0,v))),v.push(I-M*ue,A-W*ue),v.push(I+M*le,A+W*le);for(var ye=1;ye<_-1;++ye){I=n[(ye-1)*2],A=n[(ye-1)*2+1],N=n[ye*2],R=n[ye*2+1],B=n[(ye+1)*2],$=n[(ye+1)*2+1],M=-(A-R),W=I-N,de=Math.sqrt(M*M+W*W),M/=de,W/=de,M*=g,W*=g,he=-(R-$),ae=N-B,de=Math.sqrt(he*he+ae*ae),he/=de,ae/=de,he*=g,ae*=g;var Le=N-I,ht=A-R,Z=N-B,j=$-R,re=ht*Z-j*Le,fe=re<0;if(Math.abs(re)<.1){v.push(N-M*ue,R-W*ue),v.push(N+M*le,R+W*le);continue}var Ee=(-M+I)*(-W+R)-(-M+N)*(-W+A),Ae=(-he+B)*(-ae+R)-(-he+N)*(-ae+$),Be=(Le*Ae-Z*Ee)/re,ot=(j*Ee-ht*Ae)/re,at=(Be-N)*(Be-N)+(ot-R)*(ot-R),We=N+(Be-N)*ue,Et=R+(ot-R)*ue,qe=N-(Be-N)*le,st=R-(ot-R)*le,De=Math.min(Le*Le+ht*ht,Z*Z+j*j),ft=fe?ue:le,et=De+ft*ft*x,ze=at<=et;ze?o.join===fo.BEVEL||at/x>w?(fe?(v.push(We,Et),v.push(N+M*le,R+W*le),v.push(We,Et),v.push(N+he*le,R+ae*le)):(v.push(N-M*ue,R-W*ue),v.push(qe,st),v.push(N-he*ue,R-ae*ue),v.push(qe,st)),y+=2):o.join===fo.ROUND?fe?(v.push(We,Et),v.push(N+M*le,R+W*le),y+=is(N,R,N+M*le,R+W*le,N+he*le,R+ae*le,v,!0)+4,v.push(We,Et),v.push(N+he*le,R+ae*le)):(v.push(N-M*ue,R-W*ue),v.push(qe,st),y+=is(N,R,N-M*ue,R-W*ue,N-he*ue,R-ae*ue,v,!1)+4,v.push(N-he*ue,R-ae*ue),v.push(qe,st)):(v.push(We,Et),v.push(qe,st)):(v.push(N-M*ue,R-W*ue),v.push(N+M*le,R+W*le),o.join===fo.BEVEL||at/x>w||(o.join===fo.ROUND?fe?y+=is(N,R,N+M*le,R+W*le,N+he*le,R+ae*le,v,!0)+2:y+=is(N,R,N-M*ue,R-W*ue,N-he*ue,R-ae*ue,v,!1)+2:(fe?(v.push(qe,st),v.push(qe,st)):(v.push(We,Et),v.push(We,Et)),y+=2)),v.push(N-he*ue,R-ae*ue),v.push(N+he*le,R+ae*le),y+=2)}I=n[(_-2)*2],A=n[(_-2)*2+1],N=n[(_-1)*2],R=n[(_-1)*2+1],M=-(A-R),W=I-N,de=Math.sqrt(M*M+W*W),M/=de,W/=de,M*=g,W*=g,v.push(N-M*ue,R-W*ue),v.push(N+M*le,R+W*le),f||(o.cap===co.ROUND?y+=is(N-M*(ue-le)*.5,R-W*(ue-le)*.5,N-M*ue,R-W*ue,N+M*le,R+W*le,v,!1)+2:o.cap===co.SQUARE&&(y+=ab(N,R,M,W,ue,le,!1,v)));for(var At=t.indices,Lr=Hl.epsilon*Hl.epsilon,ye=T;ye<y+T-2;++ye)I=v[ye*2],A=v[ye*2+1],N=v[(ye+1)*2],R=v[(ye+1)*2+1],B=v[(ye+2)*2],$=v[(ye+2)*2+1],!(Math.abs(I*(R-$)+N*($-A)+B*(A-R))<Lr)&&At.push(ye,ye+1,ye+2)}}function XH(e,t){var r=0,n=e.shape,i=e.points||n.points,o=n.type!==Ht.POLY||n.closeStroke;if(i.length!==0){var a=t.points,u=t.indices,f=i.length/2,c=a.length/2,d=c;for(a.push(i[0],i[1]),r=1;r<f;r++)a.push(i[r*2],i[r*2+1]),u.push(d,d+1),d++;o&&u.push(d,c)}}function sb(e,t){e.lineStyle.native?XH(e,t):HH(e,t)}var ub=function(){function e(){}return e.curveTo=function(t,r,n,i,o,a){var u=a[a.length-2],f=a[a.length-1],c=f-r,d=u-t,p=i-r,v=n-t,_=Math.abs(c*v-d*p);if(_<1e-8||o===0)return(a[a.length-2]!==t||a[a.length-1]!==r)&&a.push(t,r),null;var y=c*c+d*d,T=p*p+v*v,g=c*p+d*v,x=o*Math.sqrt(y)/_,w=o*Math.sqrt(T)/_,I=x*g/y,A=w*g/T,N=x*v+w*d,R=x*p+w*c,B=d*(w+I),$=c*(w+I),M=v*(x+A),W=p*(x+A),he=Math.atan2($-R,B-N),ae=Math.atan2(W-R,M-N);return{cx:N+t,cy:R+r,radius:o,startAngle:he,endAngle:ae,anticlockwise:d*p>v*c}},e.arc=function(t,r,n,i,o,a,u,f,c){for(var d=u-a,p=Hl._segmentsCount(Math.abs(d)*o,Math.ceil(Math.abs(d)/Vh)*40),v=d/(p*2),_=v*2,y=Math.cos(v),T=Math.sin(v),g=p-1,x=g%1/g,w=0;w<=g;++w){var I=w+x*w,A=v+a+_*I,N=Math.cos(A),R=-Math.sin(A);c.push((y*N+T*R)*o+n,(y*-R+T*N)*o+i)}},e}(),$H=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a,u,f){for(var c=10,d=0,p=0,v=0,_=0,y=0,T=0,g=0,x=0,w=0,I=0,A=0,N=t,R=r,B=1;B<=c;++B)p=B/c,v=p*p,_=v*p,y=1-p,T=y*y,g=T*y,x=g*t+3*T*p*n+3*y*v*o+_*u,w=g*r+3*T*p*i+3*y*v*a+_*f,I=N-x,A=R-w,N=x,R=w,d+=Math.sqrt(I*I+A*A);return d},e.curveTo=function(t,r,n,i,o,a,u){var f=u[u.length-2],c=u[u.length-1];u.length-=2;var d=Hl._segmentsCount(e.curveLength(f,c,t,r,n,i,o,a)),p=0,v=0,_=0,y=0,T=0;u.push(f,c);for(var g=1,x=0;g<=d;++g)x=g/d,p=1-x,v=p*p,_=v*p,y=x*x,T=y*x,u.push(_*f+3*v*x*t+3*p*y*n+T*o,_*c+3*v*x*r+3*p*y*i+T*a)},e}(),jH=function(){function e(){}return e.curveLength=function(t,r,n,i,o,a){var u=t-2*n+o,f=r-2*i+a,c=2*n-2*t,d=2*i-2*r,p=4*(u*u+f*f),v=4*(u*c+f*d),_=c*c+d*d,y=2*Math.sqrt(p+v+_),T=Math.sqrt(p),g=2*p*T,x=2*Math.sqrt(_),w=v/T;return(g*y+T*v*(y-x)+(4*_*p-v*v)*Math.log((2*T+w+y)/(w+x)))/(4*g)},e.curveTo=function(t,r,n,i,o){for(var a=o[o.length-2],u=o[o.length-1],f=Hl._segmentsCount(e.curveLength(a,u,t,r,n,i)),c=0,d=0,p=1;p<=f;++p){var v=p/f;c=a+(t-a)*v,d=u+(r-u)*v,o.push(c+(t+(n-t)*v-c)*v,d+(r+(i-r)*v-d)*v)}},e}(),zH=function(){function e(){this.reset()}return e.prototype.begin=function(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n},e.prototype.end=function(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),Jo,D_=(Jo={},Jo[Ht.POLY]=HI,Jo[Ht.CIRC]=qh,Jo[Ht.ELIP]=qh,Jo[Ht.RECT]=DH,Jo[Ht.RREC]=GH,Jo),lb=[],Xc=[],fb=function(){function e(t,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),os=new Ct,VH=new Gl,WH=function(e){dy(t,e);function t(){var r=e.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new Gl,r.boundsDirty=-1,r}return Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),Xc.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),lb.push(n)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(r,n,i,o){n===void 0&&(n=null),i===void 0&&(i=null),o===void 0&&(o=null);var a=new fb(r,n,i,o);return this.graphicsData.push(a),this.dirty++,this},t.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new fb(r,null,null,n),o=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=o.lineStyle,o.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var o=n[i];if(!!o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(r,os):os.copyFrom(r),o.shape.contains(os.x,os.y))){var a=!1;if(o.holes)for(var u=0;u<o.holes.length;u++){var f=o.holes[u];if(f.shape.contains(os.x,os.y)){a=!0;break}}if(!a)return!0}}return!1},t.prototype.updateBatches=function(r){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,o=null,a=null;this.batches.length>0&&(o=this.batches[this.batches.length-1],a=o.style);for(var u=this.shapeIndex;u<i.length;u++){this.shapeIndex++;var f=i[u],c=f.fillStyle,d=f.lineStyle,p=D_[f.type];p.build(f),f.matrix&&this.transformPoints(f.points,f.matrix),(c.visible||d.visible)&&this.processHoles(f.holes);for(var v=0;v<2;v++){var _=v===0?c:d;if(!!_.visible){var y=_.texture.baseTexture,T=this.indices.length,g=this.points.length/2;y.wrapMode=ki.REPEAT,v===0?this.processFill(f):this.processLine(f);var x=this.points.length/2-g;x!==0&&(o&&!this._compareStyles(a,_)&&(o.end(T,g),o=null),o||(o=lb.pop()||new zH,o.begin(_,T,g),this.batches.push(o),a=_),this.addUvs(this.points,n,_.texture,g,x,_.matrix))}}}var w=this.indices.length,I=this.points.length/2;if(o&&o.end(w,I),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var A=I>65535&&r;this.indicesUint16=A?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},t.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],o=i.fillStyle,a=i.lineStyle;if(o&&!o.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var o=r[n],a=0;a<o.size;a++){var u=o.start+a;this.indicesUint16[u]=this.indicesUint16[u]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<t.BATCHABLE_SIZE*2},t.prototype.buildDrawCalls=function(){for(var r=++Qe._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Xc.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,o=this.textureIds,a=Xc.pop();a||(a=new dg,a.texArray=new pg),a.texArray.count=0,a.start=0,a.size=0,a.type=Hn.TRIANGLES;var u=0,f=null,c=0,d=!1,p=Hn.TRIANGLES,v=0;this.drawCalls.push(a);for(var n=0;n<this.batches.length;n++){var _=this.batches[n],y=8,T=_.style,g=T.texture.baseTexture;d!==!!T.native&&(d=!!T.native,p=d?Hn.LINES:Hn.TRIANGLES,f=null,u=y,r++),f!==g&&(f=g,g._batchEnabled!==r&&(u===y&&(r++,u=0,a.size>0&&(a=Xc.pop(),a||(a=new dg,a.texArray=new pg),this.drawCalls.push(a)),a.start=v,a.size=0,a.texArray.count=0,a.type=p),g.touched=1,g._batchEnabled=r,g._batchLocation=u,g.wrapMode=ki.REPEAT,a.texArray.elements[a.texArray.count++]=g,u++)),a.size+=_.size,v+=_.size,c=g._batchLocation,this.addColors(i,T.color,T.alpha,_.attribSize,_.attribStart),this.addTextureIds(o,c,_.attribSize,_.attribStart)}Qe._globalBatch=r,this.packAttributes()},t.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,o=this.textureIds,a=new ArrayBuffer(r.length*3*4),u=new Float32Array(a),f=new Uint32Array(a),c=0,d=0;d<r.length/2;d++)u[c++]=r[d*2],u[c++]=r[d*2+1],u[c++]=n[d*2],u[c++]=n[d*2+1],f[c++]=i[d],u[c++]=o[d];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(r){if(r.holes.length)HI.triangulate(r,this);else{var n=D_[r.type];n.triangulate(r,this)}},t.prototype.processLine=function(r){sb(r,this);for(var n=0;n<r.holes.length;n++)sb(r.holes[n],this)},t.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],o=D_[i.type];o.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var r=this._bounds,n=VH,i=Yt.IDENTITY;this._bounds.clear(),n.clear();for(var o=0;o<this.graphicsData.length;o++){var a=this.graphicsData[o],u=a.shape,f=a.type,c=a.lineStyle,d=a.matrix||Yt.IDENTITY,p=0;if(c&&c.visible&&(p=c.width*Math.max(0,c.alignment)),i!==d&&(n.isEmpty()||(r.addBoundsMatrix(n,i),n.clear()),i=d),f===Ht.RECT||f===Ht.RREC){var v=u;n.addFramePad(v.x,v.y,v.x+v.width,v.y+v.height,p,p)}else if(f===Ht.CIRC){var _=u;n.addFramePad(_.x,_.y,_.x,_.y,_.radius+p,_.radius+p)}else if(f===Ht.ELIP){var y=u;n.addFramePad(y.x,y.y,y.x,y.y,y.width+p,y.height+p)}else{var T=u;r.addVerticesMatrix(i,T.points,0,T.points.length,p,p)}}n.isEmpty()||r.addBoundsMatrix(n,i),r.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var o=r[i*2],a=r[i*2+1];r[i*2]=n.a*o+n.c*a+n.tx,r[i*2+1]=n.b*o+n.d*a+n.ty}},t.prototype.addColors=function(r,n,i,o,a){a===void 0&&(a=0);var u=(n>>16)+(n&65280)+((n&255)<<16),f=oy(u,i);r.length=Math.max(r.length,a+o);for(var c=0;c<o;c++)r[a+c]=f},t.prototype.addTextureIds=function(r,n,i,o){o===void 0&&(o=0),r.length=Math.max(r.length,o+i);for(var a=0;a<i;a++)r[o+a]=n},t.prototype.addUvs=function(r,n,i,o,a,u){u===void 0&&(u=null);for(var f=0,c=n.length,d=i.frame;f<a;){var p=r[(o+f)*2],v=r[(o+f)*2+1];if(u){var _=u.a*p+u.c*v+u.tx;v=u.b*p+u.d*v+u.ty,p=_}f++,n.push(p/d.width,v/d.height)}var y=i.baseTexture;(d.width<y.width||d.height<y.height)&&this.adjustUvs(n,i,c,a)},t.prototype.adjustUvs=function(r,n,i,o){for(var a=n.baseTexture,u=1e-6,f=i+o*2,c=n.frame,d=c.width/a.width,p=c.height/a.height,v=c.x/c.width,_=c.y/c.height,y=Math.floor(r[i]+u),T=Math.floor(r[i+1]+u),g=i+2;g<f;g+=2)y=Math.min(y,Math.floor(r[g]+u)),T=Math.min(T,Math.floor(r[g+1]+u));v-=y,_-=T;for(var g=i;g<f;g+=2)r[g]=(r[g]+v)*d,r[g+1]=(r[g+1]+_)*p},t.BATCHABLE_SIZE=100,t}(UI),YH=function(e){dy(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=co.BUTT,r.join=fo.MITER,r.miterLimit=10,r}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(GI),qH=new Float32Array(3),G_={},Kh=function(e){dy(t,e);function t(r){r===void 0&&(r=null);var n=e.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new GI,n._lineStyle=new YH,n._matrix=null,n._holeMode=!1,n.state=Ra.for2d(),n._geometry=r||new WH,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=be.NORMAL,n}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(r,n,i,o,a){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),o===void 0&&(o=.5),a===void 0&&(a=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:o,native:a}),this.lineTextureStyle(r)},t.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:Se.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:co.BUTT,join:fo.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new lh,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new lh,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},t.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,o=i[i.length-2],a=i[i.length-1];return(o!==r||a!==n)&&i.push(r,n),this},t.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},t.prototype.quadraticCurveTo=function(r,n,i,o){this._initCurve();var a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),jH.curveTo(r,n,i,o,a),this},t.prototype.bezierCurveTo=function(r,n,i,o,a,u){return this._initCurve(),$H.curveTo(r,n,i,o,a,u,this.currentPath.points),this},t.prototype.arcTo=function(r,n,i,o,a){this._initCurve(r,n);var u=this.currentPath.points,f=ub.curveTo(r,n,i,o,a,u);if(f){var c=f.cx,d=f.cy,p=f.radius,v=f.startAngle,_=f.endAngle,y=f.anticlockwise;this.arc(c,d,p,v,_,y)}return this},t.prototype.arc=function(r,n,i,o,a,u){if(u===void 0&&(u=!1),o===a)return this;!u&&a<=o?a+=Vh:u&&o<=a&&(o+=Vh);var f=a-o;if(f===0)return this;var c=r+Math.cos(o)*i,d=n+Math.sin(o)*i,p=this._geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var _=Math.abs(v[v.length-2]-c),y=Math.abs(v[v.length-1]-d);_<p&&y<p||v.push(c,d)}else this.moveTo(c,d),v=this.currentPath.points;return ub.arc(c,d,r,n,i,o,a,u,v),this},t.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:Se.WHITE,color:r,alpha:n})},t.prototype.beginTextureFill=function(r){r=Object.assign({texture:Se.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(r,n,i,o){return this.drawShape(new it(r,n,i,o))},t.prototype.drawRoundedRect=function(r,n,i,o,a){return this.drawShape(new gG(r,n,i,o,a))},t.prototype.drawCircle=function(r,n,i){return this.drawShape(new _G(r,n,i))},t.prototype.drawEllipse=function(r,n,i,o){return this.drawShape(new mG(r,n,i,o))},t.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var o,a=!0,u=n[0];u.points?(a=u.closeStroke,o=u.points):Array.isArray(n[0])?o=n[0]:o=n;var f=new lh(o);return f.closeStroke=a,this.drawShape(f),this},t.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Ht.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},t.prototype._render=function(r){this.finishPoly();var n=this._geometry,i=r.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},t.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var o=0;o<i;o++){var a=r.batches[o],u=a.style.color,f=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),c=new Float32Array(r.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),d=new Uint16Array(r.indicesUint16.buffer,a.start*2,a.size),p={vertexData:f,blendMode:n,indices:d,uvs:c,_batchRGB:js(u),_tintRGB:u,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[o]=p}},t.prototype._renderBatched=function(r){if(!!this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var o=this.batches[n];o.worldAlpha=this.worldAlpha*o.alpha,r.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,o=this.tint,a=this.worldAlpha,u=n.uniforms,f=i.drawCalls;u.translationMatrix=this.transform.worldTransform,u.tint[0]=(o>>16&255)/255*a,u.tint[1]=(o>>8&255)/255*a,u.tint[2]=(o&255)/255*a,u.tint[3]=a,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var c=0,d=f.length;c<d;c++)this._renderDrawCallDirect(r,i.drawCalls[c])},t.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,o=n.type,a=n.size,u=n.start,f=i.count,c=0;c<f;c++)r.texture.bind(i.elements[c],c);r.geometry.draw(o,a,u)},t.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!G_[i]){for(var o=r.plugins.batch.MAX_TEXTURES,a=new Int32Array(o),u=0;u<o;u++)a[u]=u;var f={tint:new Float32Array([1,1,1,1]),translationMatrix:new Yt,default:pa.from({uSamplers:a},!0)},c=r.plugins[i]._shader.program;G_[i]=new To(c,f)}n=G_[i]}return n},t.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(!!r.graphicsData.length){var n=r.bounds,i=n.minX,o=n.minY,a=n.maxX,u=n.maxY;this._bounds.addFrame(this.transform,i,o,a,u)}},t.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=js(this.tint,qH),n=0;n<this.batches.length;n++){var i=this.batches[n],o=i._batchRGB,a=r[0]*o[0]*255,u=r[1]*o[1]*255,f=r[2]*o[2]*255,c=(a<<16)+(u<<8)+(f|0);i._tintRGB=(c>>16)+(c&65280)+((c&255)<<16)}}},t.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,u=n.d,f=n.tx,c=n.ty,d=this._geometry.points,p=this.vertexData,v=0,_=0;_<d.length;_+=2){var y=d[_],T=d[_+1];p[v++]=i*y+a*T+f,p[v++]=u*T+o*y+c}}},t.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(r){return this._matrix=r,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,r)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new Ct,t}(bn);/*!
 * @pixi/sprite - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Tg=function(e,t){return Tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Tg(e,t)};function KH(e,t){Tg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zu=new Ct,ZH=new Uint16Array([0,1,2,0,2,3]),Na=function(e){KH(t,e);function t(r){var n=e.call(this)||this;return n._anchor=new gs(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=be.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||Se.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=ZH,n.pluginName="batch",n.isSprite=!0,n._roundPixels=Te.ROUND_PIXELS,n}return t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ms(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ms(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,o=n.b,a=n.c,u=n.d,f=n.tx,c=n.ty,d=this.vertexData,p=r.trim,v=r.orig,_=this._anchor,y=0,T=0,g=0,x=0;if(p?(T=p.x-_._x*v.width,y=T+p.width,x=p.y-_._y*v.height,g=x+p.height):(T=-_._x*v.width,y=T+v.width,x=-_._y*v.height,g=x+v.height),d[0]=i*T+a*x+f,d[1]=u*x+o*T+c,d[2]=i*y+a*x+f,d[3]=u*x+o*y+c,d[4]=i*y+a*g+f,d[5]=u*g+o*y+c,d[6]=i*T+a*g+f,d[7]=u*g+o*T+c,this._roundPixels)for(var w=Te.RESOLUTION,I=0;I<d.length;++I)d[I]=Math.round((d[I]*w|0)/w)}},t.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,o=this._anchor,a=this.transform.worldTransform,u=a.a,f=a.b,c=a.c,d=a.d,p=a.tx,v=a.ty,_=-o._x*i.width,y=_+i.width,T=-o._y*i.height,g=T+i.height;n[0]=u*_+c*T+p,n[1]=d*T+f*_+v,n[2]=u*y+c*T+p,n[3]=d*T+f*y+v,n[4]=u*y+c*g+p,n[5]=d*g+f*y+v,n[6]=u*_+c*g+p,n[7]=d*g+f*_+v},t.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new Gl),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new it),r=this._localBoundsRect),this._localBounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,zu);var n=this._texture.orig.width,i=this._texture.orig.height,o=-n*this.anchor.x,a=0;return zu.x>=o&&zu.x<o+n&&(a=-i*this.anchor.y,zu.y>=a&&zu.y<a+i)},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(r,n){var i=r instanceof Se?r:Se.from(r,n);return new t(i)},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=ms(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=ms(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||Se.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(bn);/*!
 * @pixi/text - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Eg=function(e,t){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Eg(e,t)};function JH(e,t){Eg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Xl;(function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Xl||(Xl={}));var H_={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Xl.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},QH=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Vs=function(){function e(t){this.styleID=0,this.reset(),$_(this,t,t)}return e.prototype.clone=function(){var t={};return $_(t,this,H_),new e(t)},e.prototype.reset=function(){$_(this,H_,H_)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var r=X_(t);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(t){var r=X_(t);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){e7(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var r=X_(t);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var t=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&QH.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+r.join(",")},e}();function cb(e){return typeof e=="number"?qC(e):(typeof e=="string"&&e.indexOf("0x")===0&&(e=e.replace("0x","#")),e)}function X_(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=cb(e[t]);return e}else return cb(e)}function e7(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function $_(e,t,r){for(var n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}var Cn=function(){function e(t,r,n,i,o,a,u,f,c){this.text=t,this.style=r,this.width=n,this.height=i,this.lines=o,this.lineWidths=a,this.lineHeight=u,this.maxLineWidth=f,this.fontProperties=c}return e.measureText=function(t,r,n,i){i===void 0&&(i=e._canvas),n=n==null?r.wordWrap:n;var o=r.toFontString(),a=e.measureFont(o);a.fontSize===0&&(a.fontSize=r.fontSize,a.ascent=r.fontSize);var u=i.getContext("2d");u.font=o;for(var f=n?e.wordWrap(t,r,i):t,c=f.split(/(?:\r\n|\r|\n)/),d=new Array(c.length),p=0,v=0;v<c.length;v++){var _=u.measureText(c[v]).width+(c[v].length-1)*r.letterSpacing;d[v]=_,p=Math.max(p,_)}var y=p+r.strokeThickness;r.dropShadow&&(y+=r.dropShadowDistance);var T=r.lineHeight||a.fontSize+r.strokeThickness,g=Math.max(T,a.fontSize+r.strokeThickness)+(c.length-1)*(T+r.leading);return r.dropShadow&&(g+=r.dropShadowDistance),new e(t,r,y,g,c,d,T+r.leading,p,a)},e.wordWrap=function(t,r,n){n===void 0&&(n=e._canvas);for(var i=n.getContext("2d"),o=0,a="",u="",f=Object.create(null),c=r.letterSpacing,d=r.whiteSpace,p=e.collapseSpaces(d),v=e.collapseNewlines(d),_=!p,y=r.wordWrapWidth+c,T=e.tokenize(t),g=0;g<T.length;g++){var x=T[g];if(e.isNewline(x)){if(!v){u+=e.addLine(a),_=!p,a="",o=0;continue}x=" "}if(p){var w=e.isBreakingSpace(x),I=e.isBreakingSpace(a[a.length-1]);if(w&&I)continue}var A=e.getFromCache(x,c,f,i);if(A>y)if(a!==""&&(u+=e.addLine(a),a="",o=0),e.canBreakWords(x,r.breakWords))for(var N=e.wordWrapSplit(x),R=0;R<N.length;R++){for(var B=N[R],$=1;N[R+$];){var M=N[R+$],W=B[B.length-1];if(!e.canBreakChars(W,M,x,R,r.breakWords))B+=M;else break;$++}R+=B.length-1;var he=e.getFromCache(B,c,f,i);he+o>y&&(u+=e.addLine(a),_=!1,a="",o=0),a+=B,o+=he}else{a.length>0&&(u+=e.addLine(a),a="",o=0);var ae=g===T.length-1;u+=e.addLine(x,!ae),_=!1,a="",o=0}else A+o>y&&(_=!1,u+=e.addLine(a),a="",o=0),(a.length>0||!e.isBreakingSpace(x)||_)&&(a+=x,o+=A)}return u+=e.addLine(a,!1),u},e.addLine=function(t,r){return r===void 0&&(r=!0),t=e.trimRight(t),t=r?t+`
`:t,t},e.getFromCache=function(t,r,n,i){var o=n[t];if(typeof o!="number"){var a=t.length*r;o=i.measureText(t).width+a,n[t]=o}return o},e.collapseSpaces=function(t){return t==="normal"||t==="pre-line"},e.collapseNewlines=function(t){return t==="normal"},e.trimRight=function(t){if(typeof t!="string")return"";for(var r=t.length-1;r>=0;r--){var n=t[r];if(!e.isBreakingSpace(n))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return typeof t!="string"?!1:e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,r){return typeof t!="string"?!1:e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],n="";if(typeof t!="string")return r;for(var i=0;i<t.length;i++){var o=t[i],a=t[i+1];if(e.isBreakingSpace(o,a)||e.isNewline(o)){n!==""&&(r.push(n),n=""),r.push(o);continue}n+=o}return n!==""&&r.push(n),r},e.canBreakWords=function(t,r){return r},e.canBreakChars=function(t,r,n,i,o){return!0},e.wordWrapSplit=function(t){return t.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},n=e._canvas,i=e._context;i.font=t;var o=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(i.measureText(o).width),u=Math.ceil(i.measureText(e.BASELINE_SYMBOL).width),f=Math.ceil(e.HEIGHT_MULTIPLIER*u);u=u*e.BASELINE_MULTIPLIER|0,n.width=a,n.height=f,i.fillStyle="#f00",i.fillRect(0,0,a,f),i.font=t,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(o,0,u);var c=i.getImageData(0,0,a,f).data,d=c.length,p=a*4,v=0,_=0,y=!1;for(v=0;v<u;++v){for(var T=0;T<p;T+=4)if(c[_+T]!==255){y=!0;break}if(!y)_+=p;else break}for(r.ascent=u-v,_=d-p,y=!1,v=f;v>u;--v){for(var T=0;T<p;T+=4)if(c[_+T]!==255){y=!0;break}if(!y)_-=p;else break}return r.descent=v-u,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){t===void 0&&(t=""),t?delete e._fonts[t]:e._fonts={}},e}(),Zh=function(){try{var e=new OffscreenCanvas(0,0),t=e.getContext("2d");return t&&t.measureText?e:document.createElement("canvas")}catch{return document.createElement("canvas")}}();Zh.width=Zh.height=10;Cn._canvas=Zh;Cn._context=Zh.getContext("2d");Cn._fonts={};Cn.METRICS_STRING="|\xC9q\xC5";Cn.BASELINE_SYMBOL="M";Cn.BASELINE_MULTIPLIER=1.4;Cn.HEIGHT_MULTIPLIER=2;Cn._newlines=[10,13];Cn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var t7={texture:!0,children:!1,baseTexture:!0},XI=function(e){JH(t,e);function t(r,n,i){var o=this,a=!1;i||(i=document.createElement("canvas"),a=!0),i.width=3,i.height=3;var u=Se.from(i);return u.orig=new it,u.trim=new it,o=e.call(this,u)||this,o._ownCanvas=a,o.canvas=i,o.context=o.canvas.getContext("2d"),o._resolution=Te.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=r,o.style=n,o.localStyleID=-1,o}return t.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,o=Cn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.width,u=o.height,f=o.lines,c=o.lineHeight,d=o.lineWidths,p=o.maxLineWidth,v=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,u)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var _,y,T=n.dropShadow?2:1,g=0;g<T;++g){var x=n.dropShadow&&g===0,w=x?Math.ceil(Math.max(1,u)+n.padding*2):0,I=w*this._resolution;if(x){i.fillStyle="black",i.strokeStyle="black";var A=n.dropShadowColor,N=js(typeof A=="number"?A:KC(A)),R=n.dropShadowBlur*this._resolution,B=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+N[0]*255+","+N[1]*255+","+N[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=R,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*B,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*B+I}else i.fillStyle=this._generateFillStyle(n,f,o),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var $=(c-v.fontSize)/2;(!t.nextLineHeightBehavior||c-v.fontSize<0)&&($=0);for(var M=0;M<f.length;M++)_=n.strokeThickness/2,y=n.strokeThickness/2+M*c+v.ascent+$,n.align==="right"?_+=p-d[M]:n.align==="center"&&(_+=(p-d[M])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(f[M],_+n.padding,y+n.padding-w,!0),n.fill&&this.drawLetterSpacing(f[M],_+n.padding,y+n.padding-w)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(r,n,i,o){o===void 0&&(o=!1);var a=this._style,u=a.letterSpacing,f=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(u===0||f){f&&(this.context.letterSpacing=u,this.context.textLetterSpacing=u),o?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var c=n,d=Array.from?Array.from(r):r.split(""),p=this.context.measureText(r).width,v=0,_=0;_<d.length;++_){var y=d[_];o?this.context.strokeText(y,c,i):this.context.fillText(y,c,i);for(var T="",g=_+1;g<d.length;++g)T+=d[g];v=this.context.measureText(T).width,c+=p-v+u,p=v}},t.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=hG(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,o=this._style,a=o.trim?0:o.padding,u=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-a,i.trim.y=-a,i.orig.width=i._frame.width-a*2,i.orig.height=i._frame.height-a*2,this._onTextureUpdate(),u.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(r){return this.updateText(!0),e.prototype.getLocalBounds.call(this,r)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(r,n,i){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,u=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,c=this.canvas.width/this._resolution-u-f*2,d=this.canvas.height/this._resolution-u-f*2,p=o.slice(),v=r.fillGradientStops.slice();if(!v.length)for(var _=p.length+1,y=1;y<_;++y)v.push(y/_);if(p.unshift(o[0]),v.unshift(0),p.push(o[o.length-1]),v.push(1),r.fillGradientType===Xl.LINEAR_VERTICAL){a=this.context.createLinearGradient(c/2,f,c/2,d+f);for(var T=i.fontProperties.fontSize+r.strokeThickness,y=0;y<n.length;y++){var g=i.lineHeight*(y-1)+T,x=i.lineHeight*y,w=x;y>0&&g>x&&(w=(x+g)/2);var I=x+T,A=i.lineHeight*(y+1),N=I;y+1<n.length&&A<I&&(N=(I+A)/2);for(var R=(N-w)/d,B=0;B<p.length;B++){var $=0;typeof v[B]=="number"?$=v[B]:$=B/p.length;var M=Math.min(1,Math.max(0,w/d+$*R));M=Number(M.toFixed(5)),a.addColorStop(M,p[B])}}}else{a=this.context.createLinearGradient(f,d/2,c+f,d/2);for(var W=p.length+1,he=1,y=0;y<p.length;y++){var ae=void 0;typeof v[y]=="number"?ae=v[y]:ae=he/W,a.addColorStop(ae,p[y]),he++}}return a},t.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},t7,r),e.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=ms(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=ms(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof Vs?this._style=r:this._style=new Vs(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(Na);/*!
 * @pixi/prepare - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Te.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wg=function(e,t){return wg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wg(e,t)};function r7(e,t){wg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var n7=function(){function e(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function i7(e,t){var r=!1;if(e&&e._textures&&e._textures.length){for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof Se){var i=e._textures[n].baseTexture;t.indexOf(i)===-1&&(t.push(i),r=!0)}}return r}function o7(e,t){if(e.baseTexture instanceof Qe){var r=e.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function a7(e,t){if(e._texture&&e._texture instanceof Se){var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function s7(e,t){return t instanceof XI?(t.updateText(!0),!0):!1}function u7(e,t){if(t instanceof Vs){var r=t.toFontString();return Cn.measureFont(r),!0}return!1}function l7(e,t){if(e instanceof XI){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var r=e._texture.baseTexture;return t.indexOf(r)===-1&&t.push(r),!0}return!1}function f7(e,t){return e instanceof Vs?(t.indexOf(e)===-1&&t.push(e),!0):!1}var c7=function(){function e(t){var r=this;this.limiter=new n7(Te.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!r.queue||r.prepareItems()},this.registerFindHook(l7),this.registerFindHook(f7),this.registerFindHook(i7),this.registerFindHook(o7),this.registerFindHook(a7),this.registerUploadHook(s7),this.registerUploadHook(u7)}return e.prototype.upload=function(t,r){typeof t=="function"&&(r=t,t=null),t&&this.add(t),this.queue.length?(r&&this.completes.push(r),this.ticking||(this.ticking=!0,dr.system.addOnce(this.tick,this,Gi.UTILITY))):r&&r()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],r=!1;if(t&&!t._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)dr.system.addOnce(this.tick,this,Gi.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);this.completes.length=0;for(var n=0,i=o.length;n<i;n++)o[n]()}},e.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},e.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},e.prototype.add=function(t){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](t,this.queue);r++);if(t instanceof bn)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},e.prototype.destroy=function(){this.ticking&&dr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function $I(e,t){return t instanceof Qe?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function h7(e,t){if(!(t instanceof Kh))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var o=n[i].style.texture;o&&$I(e,o.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function d7(e,t){return e instanceof Kh?(t.push(e),!0):!1}var p7=function(e){r7(t,e);function t(r){var n=e.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(d7),n.registerUploadHook($I),n.registerUploadHook(h7),n}return t}(c7);/*!
 * @pixi/spritesheet - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var v7=function(){function e(t,r,n){n===void 0&&(n=null),this._texture=t instanceof Se?t:null,this.baseTexture=t instanceof Qe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(t){t===void 0&&(t=null);var r=this.data.meta.scale,n=zh(t,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,n=e.BATCH_SIZE;r-t<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],o=this._frames[i],a=o.frame;if(a){var u=null,f=null,c=o.trimmed!==!1&&o.sourceSize?o.sourceSize:o.frame,d=new it(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);o.rotated?u=new it(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):u=new it(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),o.trimmed!==!1&&o.spriteSourceSize&&(f=new it(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new Se(this.baseTexture,u,d,f,o.rotated?2:0,o.anchor),Se.addToCache(this.textures[i],i)}r++}},e.prototype._processAnimations=function(){var t=this.data.animations||{};for(var r in t){this.animations[r]=[];for(var n=0;n<t[r].length;n++){var i=t[r][n];this.animations[r].push(this.textures[i])}}},e.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},e.prototype.destroy=function(t){var r;t===void 0&&(t=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),_7=function(){function e(){}return e.use=function(t,r){var n,i,o=this,a=t.name+"_image";if(!t.data||t.type!==Xt.TYPE.JSON||!t.data.frames||o.resources[a]){r();return}var u=(i=(n=t.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(u))for(var f=function(y){if(typeof y!="string")return"continue";var T=y.replace(".json",""),g=_s.resolve(t.url.replace(o.baseUrl,""),y);if(o.resources[T]||Object.values(o.resources).some(function(w){return _s.format(_s.parse(w.url))===g}))return"continue";var x={crossOrigin:t.crossOrigin,loadType:Xt.LOAD_TYPE.XHR,xhrType:Xt.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};o.add(T,g,x)},c=0,d=u;c<d.length;c++){var p=d[c];f(p)}var v={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},_=e.getResourcePath(t,o.baseUrl);o.add(a,_,v,function(T){if(T.error){r(T.error);return}var g=new v7(T.texture,t.data,t.url);g.parse(function(){t.spritesheet=g,t.textures=g.textures,r()})})},e.getResourcePath=function(t,r){return t.isDataUrl?t.data.meta.image:_s.resolve(t.url.replace(r,""),t.data.meta.image)},e}();/*!
 * @pixi/sprite-tiling - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bg=function(e,t){return bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bg(e,t)};function jI(e,t){bg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Vu=new Ct;(function(e){jI(t,e);function t(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var o=e.call(this,r)||this;return o.tileTransform=new rI,o._width=n,o._height=i,o.uvMatrix=o.texture.uvMatrix||new cy(r),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),o=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,o)},t.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new it),r=this._localBoundsRect),this._bounds.getRectangle(r)):e.prototype.getLocalBounds.call(this,r)},t.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Vu);var n=this._width,i=this._height,o=-n*this.anchor._x;if(Vu.x>=o&&Vu.x<o+n){var a=-i*this.anchor._y;if(Vu.y>=a&&Vu.y<a+i)return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},t.from=function(r,n){var i=r instanceof Se?r:Se.from(r,n);return new t(i,n.width,n.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),t})(Na);var m7=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,hb=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,g7=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,y7=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,x7=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,$c=new Yt,T7=function(e){jI(t,e);function t(r){var n=e.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new hI,n.state=Ra.for2d(),n}return t.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=To.from(hb,m7,n),this.shader=r.context.webGLVersion>1?To.from(y7,x7,n):To.from(hb,g7,n)},t.prototype.render=function(r){var n=this.renderer,i=this.quad,o=i.vertices;o[0]=o[6]=r._width*-r.anchor.x,o[1]=o[3]=r._height*-r.anchor.y,o[2]=o[4]=r._width*(1-r.anchor.x),o[5]=o[7]=r._height*(1-r.anchor.y);var a=r.uvRespectAnchor?r.anchor.x:0,u=r.uvRespectAnchor?r.anchor.y:0;o=i.uvs,o[0]=o[6]=-a,o[1]=o[3]=-u,o[2]=o[4]=1-a,o[5]=o[7]=1-u,i.invalidate();var f=r._texture,c=f.baseTexture,d=r.tileTransform.localTransform,p=r.uvMatrix,v=c.isPowerOfTwo&&f.frame.width===c.width&&f.frame.height===c.height;v&&(c._glTextures[n.CONTEXT_UID]?v=c.wrapMode!==ki.CLAMP:c.wrapMode===ki.CLAMP&&(c.wrapMode=ki.REPEAT));var _=v?this.simpleShader:this.shader,y=f.width,T=f.height,g=r._width,x=r._height;$c.set(d.a*y/g,d.b*y/x,d.c*T/g,d.d*T/x,d.tx/g,d.ty/x),$c.invert(),v?$c.prepend(p.mapCoord):(_.uniforms.uMapCoord=p.mapCoord.toArray(!0),_.uniforms.uClampFrame=p.uClampFrame,_.uniforms.uClampOffset=p.uClampOffset),_.uniforms.uTransform=$c.toArray(!0),_.uniforms.uColor=QC(r.tint,r.worldAlpha,_.uniforms.uColor,c.alphaMode),_.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),_.uniforms.uSampler=f,n.shader.bind(_),n.geometry.bind(i),this.state.blendMode=JC(r.blendMode,c.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(Nd);/*!
 * @pixi/mesh - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Sg=function(e,t){return Sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Sg(e,t)};function py(e,t){Sg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var E7=function(){function e(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(t){if(!(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},e}(),j_=new Ct,db=new lh,$l=function(e){py(t,e);function t(r,n,i,o){o===void 0&&(o=Hn.TRIANGLES);var a=e.call(this)||this;return a.geometry=r,a.shader=n,a.state=i||Ra.for2d(),a.drawMode=o,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=-1,a._transformID=-1,a._roundPixels=Te.ROUND_PIXELS,a.batchUvs=null,a}return Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Hn.TRIANGLES&&n.length<t.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},t.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var o=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[o]),r.plugins[o].render(this)},t.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,o=n._updateID;if(!(o===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var a=this.transform.worldTransform,u=a.a,f=a.b,c=a.c,d=a.d,p=a.tx,v=a.ty,_=this.vertexData,y=0;y<_.length/2;y++){var T=i[y*2],g=i[y*2+1];_[y*2]=u*T+c*g+p,_[y*2+1]=f*T+d*g+v}if(this._roundPixels)for(var x=Te.RESOLUTION,y=0;y<_.length;++y)_[y]=Math.round((_[y]*x|0)/x);this.vertexDirty=o}},t.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new E7(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,j_);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=db.points,o=this.geometry.getIndex().data,a=o.length,u=this.drawMode===4?3:1,f=0;f+2<a;f+=u){var c=o[f]*2,d=o[f+1]*2,p=o[f+2]*2;if(i[0]=n[c],i[1]=n[c+1],i[2]=n[d],i[3]=n[d+1],i[4]=n[p],i[5]=n[p+1],db.contains(j_.x,j_.y))return!0}return!1},t.prototype.destroy=function(r){e.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(bn),w7=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,b7=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,jl=function(e){py(t,e);function t(r,n){var i=this,o={uSampler:r,alpha:1,uTextureMatrix:Yt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(o,n.uniforms),i=e.call(this,n.program||nf.from(b7,w7),o)||this,i._colorDirty=!1,i.uvMatrix=new cy(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;QC(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(To),Ad=function(e){py(t,e);function t(r,n,i){var o=e.call(this)||this,a=new Qt(r),u=new Qt(n,!0),f=new Qt(i,!0,!0);return o.addAttribute("aVertexPosition",a,2,!1,we.FLOAT).addAttribute("aTextureCoord",u,2,!1,we.FLOAT).addIndex(f),o._updateId=-1,o}return Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(rf);/*!
 * @pixi/text-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Cg=function(e,t){return Cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Cg(e,t)};function S7(e,t){Cg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Jh=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),C7=function(){function e(){}return e.test=function(t){return typeof t=="string"&&t.indexOf("info face=")===0},e.parse=function(t){var r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var o=r[i].match(/^[a-z]+/gm)[0],a=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(var f in a){var c=a[f].split("="),d=c[0],p=c[1].replace(/"/gm,""),v=parseFloat(p),_=isNaN(v)?p:v;u[d]=_}n[o].push(u)}var y=new Jh;return n.info.forEach(function(T){return y.info.push({face:T.face,size:parseInt(T.size,10)})}),n.common.forEach(function(T){return y.common.push({lineHeight:parseInt(T.lineHeight,10)})}),n.page.forEach(function(T){return y.page.push({id:parseInt(T.id,10),file:T.file})}),n.char.forEach(function(T){return y.char.push({id:parseInt(T.id,10),page:parseInt(T.page,10),x:parseInt(T.x,10),y:parseInt(T.y,10),width:parseInt(T.width,10),height:parseInt(T.height,10),xoffset:parseInt(T.xoffset,10),yoffset:parseInt(T.yoffset,10),xadvance:parseInt(T.xadvance,10)})}),n.kerning.forEach(function(T){return y.kerning.push({first:parseInt(T.first,10),second:parseInt(T.second,10),amount:parseInt(T.amount,10)})}),n.distanceField.forEach(function(T){return y.distanceField.push({distanceRange:parseInt(T.distanceRange,10),fieldType:T.fieldType})}),y},e}(),Ig=function(){function e(){}return e.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(t){for(var r=new Jh,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),u=t.getElementsByTagName("kerning"),f=t.getElementsByTagName("distanceField"),c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(var c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(var c=0;c<o.length;c++)r.page.push({id:parseInt(o[c].getAttribute("id"),10)||0,file:o[c].getAttribute("file")});for(var c=0;c<a.length;c++){var d=a[c];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var c=0;c<u.length;c++)r.kerning.push({first:parseInt(u[c].getAttribute("first"),10),second:parseInt(u[c].getAttribute("second"),10),amount:parseInt(u[c].getAttribute("amount"),10)});for(var c=0;c<f.length;c++)r.distanceField.push({fieldType:f[c].getAttribute("fieldType"),distanceRange:parseInt(f[c].getAttribute("distanceRange"),10)});return r},e}(),I7=function(){function e(){}return e.test=function(t){if(typeof t=="string"&&t.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Ig.test(r)}return!1},e.parse=function(t){var r=new globalThis.DOMParser().parseFromString(t,"text/xml");return Ig.parse(r)},e}(),z_=[C7,Ig,I7];function zI(e){for(var t=0;t<z_.length;t++)if(z_[t].test(e))return z_[t];return null}function R7(e,t,r,n,i,o){var a=r.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var u,f=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,d=e.width/n-f-c*2,p=e.height/n-f-c*2,v=a.slice(),_=r.fillGradientStops.slice();if(!_.length)for(var y=v.length+1,T=1;T<y;++T)_.push(T/y);if(v.unshift(a[0]),_.unshift(0),v.push(a[a.length-1]),_.push(1),r.fillGradientType===Xl.LINEAR_VERTICAL){u=t.createLinearGradient(d/2,c,d/2,p+c);for(var g=0,x=o.fontProperties.fontSize+r.strokeThickness,w=x/p,T=0;T<i.length;T++)for(var I=o.lineHeight*T,A=0;A<v.length;A++){var N=0;typeof _[A]=="number"?N=_[A]:N=A/v.length;var R=I/p+N*w,B=Math.max(g,R);B=Math.min(B,1),u.addColorStop(B,v[A]),g=B}}else{u=t.createLinearGradient(c,p/2,d+c,p/2);for(var $=v.length+1,M=1,T=0;T<v.length;T++){var W=void 0;typeof _[T]=="number"?W=_[T]:W=M/$,u.addColorStop(W,v[T]),M++}}return u}function N7(e,t,r,n,i,o,a){var u=r.text,f=r.fontProperties;t.translate(n,i),t.scale(o,o);var c=a.strokeThickness/2,d=-(a.strokeThickness/2);if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=R7(e,t,a,o,[u],r),t.strokeStyle=a.stroke,a.dropShadow){var p=a.dropShadowColor,v=js(typeof p=="number"?p:KC(p)),_=a.dropShadowBlur*o,y=a.dropShadowDistance*o;t.shadowColor="rgba("+v[0]*255+","+v[1]*255+","+v[2]*255+","+a.dropShadowAlpha+")",t.shadowBlur=_,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*y,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*y}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(u,c,d+r.lineHeight-f.descent),a.fill&&t.fillText(u,c,d+r.lineHeight-f.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function VI(e){return Array.from?Array.from(e):e.split("")}function P7(e){typeof e=="string"&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var o=i[0].charCodeAt(0),a=i[1].charCodeAt(0);if(a<o)throw new Error("[BitmapFont]: Invalid character range.");for(var u=o,f=a;u<=f;u++)t.push(String.fromCharCode(u))}else t.push.apply(t,VI(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function fh(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var us=function(){function e(t,r,n){var i,o,a=t.info[0],u=t.common[0],f=t.page[0],c=t.distanceField[0],d=zh(f.file),p={};this._ownsTextures=n,this.font=a.face,this.size=a.size,this.lineHeight=u.lineHeight/d,this.chars={},this.pageTextures=p;for(var v=0;v<t.page.length;v++){var _=t.page[v],y=_.id,T=_.file;p[y]=r instanceof Array?r[v]:r[T],(c==null?void 0:c.fieldType)&&c.fieldType!=="none"&&(p[y].baseTexture.alphaMode=$n.NO_PREMULTIPLIED_ALPHA)}for(var v=0;v<t.char.length;v++){var g=t.char[v],y=g.id,x=g.page,w=t.char[v],I=w.x,A=w.y,N=w.width,R=w.height,B=w.xoffset,$=w.yoffset,M=w.xadvance;I/=d,A/=d,N/=d,R/=d,B/=d,$/=d,M/=d;var W=new it(I+p[x].frame.x/d,A+p[x].frame.y/d,N,R);this.chars[y]={xOffset:B,yOffset:$,xAdvance:M,kerning:{},texture:new Se(p[x].baseTexture,W),page:x}}for(var v=0;v<t.kerning.length;v++){var he=t.kerning[v],ae=he.first,de=he.second,Ve=he.amount;ae/=d,de/=d,Ve/=d,this.chars[de]&&(this.chars[de].kerning[ae]=Ve)}this.distanceFieldRange=c==null?void 0:c.distanceRange,this.distanceFieldType=(o=(i=c==null?void 0:c.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&o!==void 0?o:"none"}return e.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,n){var i;if(t instanceof Jh)i=t;else{var o=zI(t);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(t)}r instanceof Se&&(r=[r]);var a=new e(i,r,n);return e.available[a.font]=a,a},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,n),o=i.chars,a=i.padding,u=i.resolution,f=i.textureWidth,c=i.textureHeight,d=P7(o),p=r instanceof Vs?r:new Vs(r),v=f,_=new Jh;_.info[0]={face:p.fontFamily,size:p.fontSize},_.common[0]={lineHeight:p.fontSize};for(var y=0,T=0,g,x,w,I=0,A=[],N=0;N<d.length;N++){g||(g=document.createElement("canvas"),g.width=f,g.height=c,x=g.getContext("2d"),w=new Qe(g,{resolution:u}),A.push(new Se(w)),_.page.push({id:A.length-1,file:""}));var R=Cn.measureText(d[N],p,!1,g),B=R.width,$=Math.ceil(R.height),M=Math.ceil((p.fontStyle==="italic"?2:1)*B);if(T>=c-$*u){if(T===0)throw new Error("[BitmapFont] textureHeight "+c+"px is "+("too small for "+p.fontSize+"px fonts"));--N,g=null,x=null,w=null,T=0,y=0,I=0;continue}if(I=Math.max($+R.fontProperties.descent,I),M*u+y>=v){--N,T+=I*u,T=Math.ceil(T),y=0,I=0;continue}N7(g,x,R,y,T,u,p);var W=fh(R.text);_.char.push({id:W,page:A.length-1,x:y/u,y:T/u,width:M,height:$,xoffset:0,yoffset:0,xadvance:Math.ceil(B-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),y+=(M+2*a)*u,y=Math.ceil(y)}for(var N=0,he=d.length;N<he;N++)for(var ae=d[N],de=0;de<he;de++){var Ve=d[de],ue=x.measureText(ae).width,le=x.measureText(Ve).width,ye=x.measureText(ae+Ve).width,Le=ye-(ue+le);Le&&_.kerning.push({first:fh(ae),second:fh(Ve),amount:Le})}var ht=new e(_,A,!0);return e.available[t]!==void 0&&e.uninstall(t),e.available[t]=ht,ht},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),A7=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,O7=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,L7=[],F7=[],pb=[];(function(e){S7(t,e);function t(r,n){n===void 0&&(n={});var i=e.call(this)||this;i._tint=16777215;var o=Object.assign({},t.styleDefaults,n),a=o.align,u=o.tint,f=o.maxWidth,c=o.letterSpacing,d=o.fontName,p=o.fontSize;if(!us.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=a,i._tint=u,i._fontName=d,i._fontSize=p||us.available[d].size,i._text=r,i._maxWidth=f,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new gs(function(){i.dirty=!0},i,0,0),i._roundPixels=Te.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return t.prototype.updateText=function(){for(var r,n=us.available[this._fontName],i=this._fontSize/n.size,o=new Ct,a=[],u=[],f=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=VI(c),p=this._maxWidth*n.size/this._fontSize,v=n.distanceFieldType==="none"?L7:F7,_=null,y=0,T=0,g=0,x=-1,w=0,I=0,A=0,N=0,R=0;R<d.length;R++){var B=d[R],$=fh(B);if(/(?:\s)/.test(B)&&(x=R,w=y,N++),B==="\r"||B===`
`){u.push(y),f.push(-1),T=Math.max(T,y),++g,++I,o.x=0,o.y+=n.lineHeight,_=null,N=0;continue}var M=n.chars[$];if(!!M){_&&M.kerning[_]&&(o.x+=M.kerning[_]);var W=pb.pop()||{texture:Se.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ct};W.texture=M.texture,W.line=g,W.charCode=$,W.position.x=o.x+M.xOffset+this._letterSpacing/2,W.position.y=o.y+M.yOffset,W.prevSpaces=N,a.push(W),y=W.position.x+Math.max(M.xAdvance,M.texture.orig.width),o.x+=M.xAdvance+this._letterSpacing,A=Math.max(A,M.yOffset+M.texture.height),_=$,x!==-1&&p>0&&o.x>p&&(++I,Fs(a,1+x-I,1+R-x),R=x,x=-1,u.push(w),f.push(a.length>0?a[a.length-1].prevSpaces:0),T=Math.max(T,w),g++,o.x=0,o.y+=n.lineHeight,_=null,N=0)}}var he=d[d.length-1];he!=="\r"&&he!==`
`&&(/(?:\s)/.test(he)&&(y=w),u.push(y),T=Math.max(T,y),f.push(-1));for(var ae=[],R=0;R<=g;R++){var de=0;this._align==="right"?de=T-u[R]:this._align==="center"?de=(T-u[R])/2:this._align==="justify"&&(de=f[R]<0?0:(T-u[R])/f[R]),ae.push(de)}for(var Ve=a.length,ue={},le=[],ye=this._activePagesMeshData,R=0;R<ye.length;R++)v.push(ye[R]);for(var R=0;R<Ve;R++){var Le=a[R].texture,ht=Le.baseTexture.uid;if(!ue[ht]){var Z=v.pop();if(!Z){var j=new Ad,re=void 0,fe=void 0;n.distanceFieldType==="none"?(re=new jl(Se.EMPTY),fe=be.NORMAL):(re=new jl(Se.EMPTY,{program:nf.from(O7,A7),uniforms:{uFWidth:0}}),fe=be.NORMAL_NPM);var Ee=new $l(j,re);Ee.blendMode=fe,Z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Ee,vertices:null,uvs:null,indices:null}}Z.index=0,Z.indexCount=0,Z.vertexCount=0,Z.uvsCount=0,Z.total=0;var Ae=this._textureCache;Ae[ht]=Ae[ht]||new Se(Le.baseTexture),Z.mesh.texture=Ae[ht],Z.mesh.tint=this._tint,le.push(Z),ue[ht]=Z}ue[ht].total++}for(var R=0;R<ye.length;R++)le.indexOf(ye[R])===-1&&this.removeChild(ye[R].mesh);for(var R=0;R<le.length;R++)le[R].mesh.parent!==this&&this.addChild(le[R].mesh);this._activePagesMeshData=le;for(var R in ue){var Z=ue[R],Be=Z.total;if(!(((r=Z.indices)===null||r===void 0?void 0:r.length)>6*Be)||Z.vertices.length<$l.BATCHABLE_SIZE*2)Z.vertices=new Float32Array(4*2*Be),Z.uvs=new Float32Array(4*2*Be),Z.indices=new Uint16Array(6*Be);else for(var ot=Z.total,at=Z.vertices,We=ot*4*2;We<at.length;We++)at[We]=0;Z.mesh.size=6*Be}for(var R=0;R<Ve;R++){var B=a[R],Et=B.position.x+ae[B.line]*(this._align==="justify"?B.prevSpaces:1);this._roundPixels&&(Et=Math.round(Et));var qe=Et*i,st=B.position.y*i,Le=B.texture,De=ue[Le.baseTexture.uid],ft=Le.frame,et=Le._uvs,ze=De.index++;De.indices[ze*6+0]=0+ze*4,De.indices[ze*6+1]=1+ze*4,De.indices[ze*6+2]=2+ze*4,De.indices[ze*6+3]=0+ze*4,De.indices[ze*6+4]=2+ze*4,De.indices[ze*6+5]=3+ze*4,De.vertices[ze*8+0]=qe,De.vertices[ze*8+1]=st,De.vertices[ze*8+2]=qe+ft.width*i,De.vertices[ze*8+3]=st,De.vertices[ze*8+4]=qe+ft.width*i,De.vertices[ze*8+5]=st+ft.height*i,De.vertices[ze*8+6]=qe,De.vertices[ze*8+7]=st+ft.height*i,De.uvs[ze*8+0]=et.x0,De.uvs[ze*8+1]=et.y0,De.uvs[ze*8+2]=et.x1,De.uvs[ze*8+3]=et.y1,De.uvs[ze*8+4]=et.x2,De.uvs[ze*8+5]=et.y2,De.uvs[ze*8+6]=et.x3,De.uvs[ze*8+7]=et.y3}this._textWidth=T*i,this._textHeight=(o.y+n.lineHeight)*i;for(var R in ue){var Z=ue[R];if(this.anchor.x!==0||this.anchor.y!==0)for(var At=0,Lr=this._textWidth*this.anchor.x,jn=this._textHeight*this.anchor.y,sn=0;sn<Z.total;sn++)Z.vertices[At++]-=Lr,Z.vertices[At++]-=jn,Z.vertices[At++]-=Lr,Z.vertices[At++]-=jn,Z.vertices[At++]-=Lr,Z.vertices[At++]-=jn,Z.vertices[At++]-=Lr,Z.vertices[At++]-=jn;this._maxLineHeight=A*i;var rr=Z.mesh.geometry.getBuffer("aVertexPosition"),Nn=Z.mesh.geometry.getBuffer("aTextureCoord"),zn=Z.mesh.geometry.getIndex();rr.data=Z.vertices,Nn.data=Z.uvs,zn.data=Z.indices,rr.update(),Nn.update(),zn.update()}for(var R=0;R<a.length;R++)pb.push(a[R])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(r){var n=us.available[this._fontName],i=n.distanceFieldRange,o=n.distanceFieldType,a=n.size;if(o!=="none")for(var u=this.worldTransform,f=u.a,c=u.b,d=u.c,p=u.d,v=Math.sqrt(f*f+c*c),_=Math.sqrt(d*d+p*p),y=(Math.abs(v)+Math.abs(_))/2,T=this._fontSize/a,g=0,x=this._activePagesMeshData;g<x.length;g++){var w=x[g];w.mesh.shader.uniforms.uFWidth=y*i*T*r.resolution}e.prototype._render.call(this,r)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!us.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r){var n=this._textureCache;for(var i in n){var o=n[i];o.destroy(),delete n[i]}this._textureCache=null,e.prototype.destroy.call(this,r)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t})(bn);var U7=function(){function e(){}return e.add=function(){Xt.setExtensionXhrType("fnt",Xt.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=zI(t.data);if(!n){r();return}for(var i=e.getBaseUrl(this,t),o=n.parse(t.data),a={},u=function(T){a[T.metadata.pageFile]=T.texture,Object.keys(a).length===o.page.length&&(t.bitmapFont=us.install(o,a,!0),r())},f=0;f<o.page.length;++f){var c=o.page[f].file,d=i+c,p=!1;for(var v in this.resources){var _=this.resources[v];if(_.url===d){_.metadata.pageFile=c,_.texture?u(_):_.onAfterMiddleware.add(u),p=!0;break}}if(!p){var y={crossOrigin:t.crossOrigin,loadType:Xt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(d,y,u)}}},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),t.baseUrl&&n&&t.baseUrl.charAt(t.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(t.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},e.dirname=function(t){var r=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===t?".":r===""?"/":r},e}();/*!
 * @pixi/filter-alpha - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Rg=function(e,t){return Rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Rg(e,t)};function k7(e,t){Rg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var B7=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(e){k7(t,e);function t(r){r===void 0&&(r=1);var n=e.call(this,G9,B7,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t})(Fo);/*!
 * @pixi/filter-blur - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ng=function(e,t){return Ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ng(e,t)};function WI(e,t){Ng(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var M7=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function D7(e,t){var r=Math.ceil(e/2),n=M7,i="",o;t?o="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":o="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var u=o.replace("%index%",a.toString());u=u.replace("%sampleIndex%",a-(r-1)+".0"),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}var G7={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},H7=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function X7(e){for(var t=G7[e],r=t.length,n=H7,i="",o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",a,u=0;u<e;u++){var f=o.replace("%index%",u.toString());a=u,u>=r&&(a=e-u-1),f=f.replace("%value%",t[a].toString()),i+=f,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}/*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var vb;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(vb||(vb={}));var _b;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(_b||(_b={}));var mb;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(mb||(mb={}));var gb;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(gb||(gb={}));var yb;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(yb||(yb={}));var xb;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(xb||(xb={}));var Tb;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Tb||(Tb={}));var Eb;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Eb||(Eb={}));var wb;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})(wb||(wb={}));var bb;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(bb||(bb={}));var Sb;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Sb||(Sb={}));var Cb;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(Cb||(Cb={}));var Ib;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Ib||(Ib={}));var zl;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(zl||(zl={}));var Rb;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(Rb||(Rb={}));var Nb;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Nb||(Nb={}));var Pb;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(Pb||(Pb={}));var Ab;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Ab||(Ab={}));var Ob;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Ob||(Ob={}));var Lb=function(e){WI(t,e);function t(r,n,i,o,a){n===void 0&&(n=8),i===void 0&&(i=4),o===void 0&&(o=Te.FILTER_RESOLUTION),a===void 0&&(a=5);var u=this,f=D7(a,r),c=X7(a);return u=e.call(this,f,c)||this,u.horizontal=r,u.resolution=o,u._quality=0,u.quality=i,u.blur=n,u}return t.prototype.apply=function(r,n,i,o){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,o);else{var a=r.getFilterTexture(),u=r.renderer,f=n,c=a;this.state.blend=!1,r.applyFilter(this,f,c,zl.CLEAR);for(var d=1;d<this.passes-1;d++){r.bindAndClear(f,zl.BLIT),this.uniforms.uSampler=c;var p=c;c=f,f=p,u.shader.bind(this),u.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,c,i,o),r.returnFilterTexture(a)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),t}(Fo);(function(e){WI(t,e);function t(r,n,i,o){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=Te.FILTER_RESOLUTION),o===void 0&&(o=5);var a=e.call(this)||this;return a.blurXFilter=new Lb(!0,r,n,i,o),a.blurYFilter=new Lb(!1,r,n,i,o),a.resolution=i,a.quality=n,a.blur=r,a.repeatEdgePixels=!1,a}return t.prototype.apply=function(r,n,i,o){var a=Math.abs(this.blurXFilter.strength),u=Math.abs(this.blurYFilter.strength);if(a&&u){var f=r.getFilterTexture();this.blurXFilter.apply(r,n,f,zl.CLEAR),this.blurYFilter.apply(r,f,i,o),r.returnFilterTexture(f)}else u?this.blurYFilter.apply(r,n,i,o):this.blurXFilter.apply(r,n,i,o)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),t})(Fo);/*!
 * @pixi/filter-color-matrix - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Pg=function(e,t){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Pg(e,t)};function $7(e,t){Pg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var j7=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,Fb=function(e){$7(t,e);function t(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=e.call(this,FI,j7,n)||this,r.alpha=1,r}return t.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},t.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},t.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.tint=function(r,n){var i=r>>16&255,o=r>>8&255,a=r&255,u=[i/255,0,0,0,0,0,o/255,0,0,0,0,0,a/255,0,0,0,0,0,1,0];this._loadMatrix(u,n)},t.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),o=Math.sin(r),a=Math.sqrt,u=1/3,f=a(u),c=i+(1-i)*u,d=u*(1-i)-f*o,p=u*(1-i)+f*o,v=u*(1-i)+f*o,_=i+u*(1-i),y=u*(1-i)-f*o,T=u*(1-i)-f*o,g=u*(1-i)+f*o,x=i+u*(1-i),w=[c,d,p,0,0,v,_,y,0,0,T,g,x,0,0,0,0,0,1,0];this._loadMatrix(w,n)},t.prototype.contrast=function(r,n){var i=(r||0)+1,o=-.5*(i-1),a=[i,0,0,0,o,0,i,0,0,o,0,0,i,0,o,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,o=(i-1)*-.5,a=[i,o,o,0,0,o,i,o,0,0,o,o,i,0,0,0,0,0,1,0];this._loadMatrix(a,n)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.colorTone=function(r,n,i,o,a){r=r||.2,n=n||.15,i=i||16770432,o=o||3375104;var u=(i>>16&255)/255,f=(i>>8&255)/255,c=(i&255)/255,d=(o>>16&255)/255,p=(o>>8&255)/255,v=(o&255)/255,_=[.3,.59,.11,0,0,u,f,c,r,0,d,p,v,n,0,u-d,f-p,c-v,0,0];this._loadMatrix(_,a)},t.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},t.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},t.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),t}(Fo);Fb.prototype.grayscale=Fb.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ag=function(e,t){return Ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ag(e,t)};function z7(e,t){Ag(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var V7=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,W7=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(e){z7(t,e);function t(r,n){var i=this,o=new Yt;return r.renderable=!1,i=e.call(this,W7,V7,{mapSampler:r._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=o,n==null&&(n=20),i.scale=new Ct(n,n),i}return t.prototype.apply=function(r,n,i,o){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var a=this.maskSprite.worldTransform,u=Math.sqrt(a.a*a.a+a.b*a.b),f=Math.sqrt(a.c*a.c+a.d*a.d);u!==0&&f!==0&&(this.uniforms.rotation[0]=a.a/u,this.uniforms.rotation[1]=a.b/u,this.uniforms.rotation[2]=a.c/f,this.uniforms.rotation[3]=a.d/f),r.applyFilter(this,n,i,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),t})(Fo);/*!
 * @pixi/filter-fxaa - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Og=function(e,t){return Og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Og(e,t)};function Y7(e,t){Og(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var q7=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,K7=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(e){Y7(t,e);function t(){return e.call(this,q7,K7)||this}return t})(Fo);/*!
 * @pixi/filter-noise - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Lg=function(e,t){return Lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Lg(e,t)};function Z7(e,t){Lg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var J7=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(e){Z7(t,e);function t(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=e.call(this,FI,J7,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),t})(Fo);/*!
 * @pixi/mixin-cache-as-bitmap - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ub;(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Ub||(Ub={}));var kb;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"})(kb||(kb={}));var Bb;(function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"})(Bb||(Bb={}));var Mb;(function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"})(Mb||(Mb={}));var Db;(function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Db||(Db={}));var Gb;(function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Gb||(Gb={}));var Hb;(function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Hb||(Hb={}));var Xb;(function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"})(Xb||(Xb={}));var $b;(function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"})($b||($b={}));var jb;(function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"})(jb||(jb={}));var zb;(function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(zb||(zb={}));var Vb;(function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"})(Vb||(Vb={}));var Wb;(function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Wb||(Wb={}));var Yb;(function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"})(Yb||(Yb={}));var qb;(function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"})(qb||(qb={}));var Kb;(function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"})(Kb||(Kb={}));var Zb;(function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"})(Zb||(Zb={}));var Fg;(function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"})(Fg||(Fg={}));var Jb;(function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Jb||(Jb={}));var YI=new Yt;qt.prototype._cacheAsBitmap=!1;qt.prototype._cacheData=null;qt.prototype._cacheAsBitmapResolution=null;qt.prototype._cacheAsBitmapMultisample=Fg.NONE;var Q7=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(qt.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t;e?(this._cacheData||(this._cacheData=new Q7),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}});qt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};qt.prototype._initCachedDisplayObject=function(t){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var o=this.filters[0].padding;i.pad(o)}i.ceil(Te.RESOLUTION);var a=t.renderTexture.current,u=t.renderTexture.sourceFrame.clone(),f=t.renderTexture.destinationFrame.clone(),c=t.projection.transform,d=Ea.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:t.multisample}),p="cacheAsBitmap_"+xa();this._cacheData.textureCacheId=p,Qe.addToCache(d.baseTexture,p),Se.addToCache(d,p);var v=this.transform.localTransform.copyTo(YI).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:d,clear:!0,transform:v,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=c,t.renderTexture.bind(a,u,f),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var _=new Na(d);_.transform.worldTransform=this.transform.worldTransform,_.anchor.x=-(i.x/i.width),_.anchor.y=-(i.y/i.height),_.alpha=n,_._bounds=this._bounds,this._cacheData.sprite=_,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=_.containsPoint.bind(_)}};qt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};qt.prototype._initCachedDisplayObjectCanvas=function(t){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=t.context,o=t._projTransform;r.ceil(Te.RESOLUTION);var a=Ea.create({width:r.width,height:r.height}),u="cacheAsBitmap_"+xa();this._cacheData.textureCacheId=u,Qe.addToCache(a.baseTexture,u),Se.addToCache(a,u);var f=YI;this.transform.localTransform.copyTo(f),f.invert(),f.tx-=r.x,f.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:f,skipUpdateTransform:!1}),t.context=i,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var c=new Na(a);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=n,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}};qt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};qt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};qt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Qe.removeFromCache(this._cacheData.textureCacheId),Se.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};qt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};/*!
 * @pixi/mixin-get-child-by-name - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */qt.prototype.name=null;bn.prototype.getChildByName=function(t,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===t)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var o=this.children[n];if(!!o.getChildByName){var a=this.children[n].getChildByName(t,!0);if(a)return a}}return null};/*!
 * @pixi/mixin-get-global-position - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */qt.prototype.getGlobalPosition=function(t,r){return t===void 0&&(t=new Ct),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,t,r):(t.x=this.position.x,t.y=this.position.y),t};/*!
 * @pixi/mesh-extras - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ug=function(e,t){return Ug=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ug(e,t)};function ou(e,t){Ug(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var eX=function(e){ou(t,e);function t(r,n,i,o){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),o===void 0&&(o=10);var a=e.call(this)||this;return a.segWidth=i,a.segHeight=o,a.width=r,a.height=n,a.build(),a}return t.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],o=[],a=this.segWidth-1,u=this.segHeight-1,f=this.width/a,c=this.height/u,d=0;d<r;d++){var p=d%this.segWidth,v=d/this.segWidth|0;n.push(p*f,v*c),i.push(p/a,v/u)}for(var _=a*u,d=0;d<_;d++){var y=d%a,T=d/a|0,g=T*this.segWidth+y,x=T*this.segWidth+y+1,w=(T+1)*this.segWidth+y,I=(T+1)*this.segWidth+y+1;o.push(g,x,w,x,I,w)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(Ad),tX=function(e){ou(t,e);function t(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var o=e.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return o.points=n,o._width=r,o.textureScale=i,o.build(),o}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var r=this.points;if(!!r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),o.data=new Uint16Array((r.length-1)*6));var a=i.data,u=o.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;for(var f=0,c=r[0],d=this._width*this.textureScale,p=r.length,v=0;v<p;v++){var _=v*4;if(this.textureScale>0){var y=c.x-r[v].x,T=c.y-r[v].y,g=Math.sqrt(y*y+T*T);c=r[v],f+=g/d}else f=v/(p-1);a[_]=f,a[_+1]=0,a[_+2]=f,a[_+3]=1}for(var x=0,v=0;v<p-1;v++){var _=v*2;u[x++]=_,u[x++]=_+1,u[x++]=_+2,u[x++]=_+2,u[x++]=_+1,u[x++]=_+3}i.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,o=0,a=0,u=this.buffers[0].data,f=r.length,c=0;c<f;c++){var d=r[c],p=c*4;c<r.length-1?i=r[c+1]:i=d,a=-(i.x-n.x),o=i.y-n.y;var v=Math.sqrt(o*o+a*a),_=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=v,a/=v,o*=_,a*=_,u[p]=d.x+o,u[p+1]=d.y+a,u[p+2]=d.x-o,u[p+3]=d.y-a,n=d}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(Ad);(function(e){ou(t,e);function t(r,n,i){i===void 0&&(i=0);var o=this,a=new tX(r.height,n,i),u=new jl(r);return i>0&&(r.baseTexture.wrapMode=ki.REPEAT),o=e.call(this,a,u)||this,o.autoUpdate=!0,o}return t.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),e.prototype._render.call(this,r)},t})($l);var rX=function(e){ou(t,e);function t(r,n,i){var o=this,a=new eX(r.width,r.height,n,i),u=new jl(Se.WHITE);return o=e.call(this,a,u)||this,o.texture=r,o.autoResize=!0,o}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,o=n.height;this.autoResize&&(r.width!==i||r.height!==o)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,r)},t.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,r)},t}($l);(function(e){ou(t,e);function t(r,n,i,o,a){r===void 0&&(r=Se.EMPTY);var u=this,f=new Ad(n,i,o);f.getBuffer("aVertexPosition").static=!1;var c=new jl(r);return u=e.call(this,f,c,null,a)||this,u.autoUpdate=!0,u}return Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,r)},t})($l);var jc=10;(function(e){ou(t,e);function t(r,n,i,o,a){n===void 0&&(n=jc),i===void 0&&(i=jc),o===void 0&&(o=jc),a===void 0&&(a=jc);var u=e.call(this,Se.WHITE,4,4)||this;return u._origWidth=r.orig.width,u._origHeight=r.orig.height,u._width=u._origWidth,u._height=u._origHeight,u._leftWidth=n,u._rightWidth=o,u._topHeight=i,u._bottomHeight=a,u.texture=r,u}return t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},t.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},t.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,o=this._height>i?1:this._height/i,a=Math.min(n,o);return a},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,o=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=o*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t})(rX);/*!
 * @pixi/sprite-animated - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var kg=function(e,t){return kg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},kg(e,t)};function nX(e,t){kg(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}(function(e){nX(t,e);function t(r,n){n===void 0&&(n=!0);var i=e.call(this,r[0]instanceof Se?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(dr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(dr.shared.add(this.update,this,Gi.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(r){if(!!this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=n/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var a=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},t.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(r){this.stop(),e.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Se.from(r[i]));return new t(n)},t.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(Se.from(r[i]));return new t(n)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof Se)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(dr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(dr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t})(Na);/*!
 * pixi.js - v6.3.0
 * Compiled Wed, 23 Mar 2022 18:58:56 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Uo.registerPlugin("accessibility",RG);Uo.registerPlugin("extract",K9);Uo.registerPlugin("interaction",FG);Uo.registerPlugin("particle",MH);Uo.registerPlugin("prepare",p7);Uo.registerPlugin("batch",j9);Uo.registerPlugin("tilingSprite",T7);ui.registerPlugin(U7);ui.registerPlugin(dH);ui.registerPlugin(PH);ui.registerPlugin(UH);ui.registerPlugin(_7);Pd.registerPlugin(NG);Pd.registerPlugin(oH);const iX=(e,t)=>{const n=_e.currentPixi,i=new bn;n.stage.addChild(i);const o=Se.from("./game/tex/raindrop.png");i.x=n.screen.width/2,i.y=n.screen.height/2,i.pivot.x=i.width/2,i.pivot.y=i.height/2,i.scale.x=1,i.scale.y=1;const a=[];return n.ticker.add(u=>{for(let d=0;d<t;d++){const p=new Na(o);let v=Math.random();v<=.5&&(v=.5),p.scale.x=.3*v,p.scale.y=.3*v,p.anchor.set(.5),p.x=Math.random()*1600-.5*1600,p.y=0-.5*900,p.dropSpeed=Math.random()*2,p.acc=Math.random(),p.alpha=Math.random(),p.alpha>=.5&&(p.alpha=.5),p.alpha<=.2&&(p.alpha=.2),i.addChild(p),a.push(p)}for(const d of a)d.dropSpeed=d.acc*.01+d.dropSpeed,d.y+=u*e*d.dropSpeed*1.1+3;a.length>=2500&&(a.unshift(),i.removeChild(i.children[0]))}),i},oX=e=>{const r=_e.currentPixi,n=new bn;r.stage.addChild(n);const i=Se.from("./game/tex/snowFlake_min.png");n.x=r.screen.width/2,n.y=r.screen.height/2,n.pivot.x=n.width/2,n.pivot.y=n.height/2,n.scale.x=1,n.scale.y=1;const o=[];return r.ticker.add(a=>{const c=new Na(i);let d=Math.random();d<=.5&&(d=.5),c.scale.x=.09*d,c.scale.y=.09*d,c.anchor.set(.5),c.x=Math.random()*1600-.5*1600,c.y=0-.5*900,c.dropSpeed=Math.random()*2,c.acc=Math.random(),n.addChild(c),o.push(c);let p=0;for(const v of o){p++;const _=Math.random();v.dropSpeed=v.acc*.01+v.dropSpeed,v.y+=a*e*v.dropSpeed*.3+.7,p%2===0?(v.x+=a*_*.5,v.rotation+=a*_*.03):(v.x-=a*_*.5,v.rotation-=a*_*.03)}o.length>=500&&(o.unshift(),n.removeChild(n.children[0]))}),n},aX=e=>{const t="PixiPerform"+e.content;_e.performList.forEach(n=>{if(n.performName===t)return{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}});let r;switch(e.content){case"rain":r=iX(6,10);break;case"snow":r=oX(3);break}return{performName:t,duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{lt.warn("\u73B0\u5728\u6B63\u5728\u5378\u8F7Dpixi\u6F14\u51FA"),r.destroy({texture:!0,baseTexture:!0})},blockingNext:()=>!1,blockingAuto:()=>!1,stopTimeout:void 0}},sX=e=>{let t=e.content;return(e.content==="none"||e.content==="")&&(t=""),Ue.dispatch(en({key:"miniAvatar",value:t})),{performName:"none",duration:0,isOver:!1,isHoldOn:!0,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},uX=e=>(_e.performList.forEach(t=>{if(t.performName.match(/PixiPerform/)){lt.warn("pixi \u88AB\u811A\u672C\u91CD\u65B0\u521D\u59CB\u5316",t.performName);for(let i=0;i<_e.performList.length;i++){const o=_e.performList[i];o.performName===t.performName&&(o.stopFunction(),clearTimeout(o.stopTimeout),_e.performList.splice(i,1),i--)}const r=Ue.getState().stage,n=ya.cloneDeep(r);for(let i=0;i<n.PerformList.length;i++)n.PerformList[i].script.command===se.pixi&&(n.PerformList.splice(i,1),i--);Ue.dispatch(ru(n))}}),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),lX=e=>{const t=ny();return Gs.render(X("div",{className:Ll.videoContainer,children:X("video",{className:Ll.fullScreen_video,id:"playVideoElement",src:e.content,autoPlay:!0})}),document.getElementById("videoContainer")),setTimeout(()=>{let r=document.getElementById("playVideoElement");if(r!==null){r.currentTime=0;const n={performName:t,duration:1e3*60*60,isOver:!1,isHoldOn:!1,stopFunction:()=>{r.oncanplay=()=>{};const i=Ue.getState().userData,o=i.optionData.volumeMain,a=o*.01*i.optionData.vocalVolume*.01,u=o*.01*i.optionData.bgmVolume*.01,f=document.getElementById("currentBgm");f&&(f.volume=u.toString());const c=document.getElementById("currentVocal");f&&(c.volume=a.toString()),Gs.render(X("div",{}),document.getElementById("videoContainer")),setTimeout(In,1)},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0};_e.performList.push(n),r.oncanplay=()=>{const a=document.getElementById("currentBgm");a&&(a.volume=0 .toString());const u=document.getElementById("currentVocal");a&&(u.volume=0 .toString()),r.play()},r.onended=()=>{for(const i of _e.performList)i.performName===t&&(i.isOver=!0,i.stopFunction(),wd(i.performName))}}},1),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},qI=e=>{const t=Oe.currentSentenceId;let r=t;Oe.currentScene.sentenceList.forEach((n,i)=>{n.command===se.label&&n.content===e&&i>=t&&(r=i)}),Oe.currentSentenceId=r,setTimeout(In,1)},fX=e=>(qI(e.content),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),cX=e=>({performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}),hX="_Choose_Main_10dwa_1",dX="_Choose_item_10dwa_12";var Qb={Choose_Main:hX,Choose_item:dX};const pX=e=>{const n=e.content.split("|").map(i=>i.split(":")).map((i,o)=>X("div",{className:Qb.Choose_item,onClick:()=>{i[1].match(/\./)?MC(i[1],i[0]):qI(i[1]),wd("choose")},children:i[0]},i[0]+o));return Gs.render(X("div",{className:Qb.Choose_Main,children:n}),document.getElementById("chooseContainer")),{performName:"choose",duration:1e3*60*60*24,isOver:!1,isHoldOn:!1,stopFunction:()=>{Gs.render(X("div",{}),document.getElementById("chooseContainer"))},blockingNext:()=>!0,blockingAuto:()=>!0,stopTimeout:void 0}},vX=e=>{ry(!0);const t=Ue.dispatch,r=Nr("start.txt",Dt.scene);return hi(r).then(n=>{Oe.currentScene=di(n,"start.txt",r)}),t(tr({component:"showTitle",visibility:!0})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},_X=e=>{const r=Ue.getState().stage.effects,n=ya.cloneDeep(r);let i=!1;return n.forEach(o=>{o.target==="MainStage_bg_MainContainer"&&(lt.warn("\u5DF2\u5B58\u5728\u6548\u679C\uFF0C\u6B63\u5728\u4FEE\u6539"),i=!0,o.filter=e.content)}),i||n.push({target:"MainStage_bg_MainContainer",transform:"",filter:e.content}),Ue.dispatch(en({key:"effects",value:n})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},mX=e=>{const t=e.content;return setTimeout(()=>{const r=document.getElementById("MainStage_bg_MainContainer");r&&(r.style.animation="none",setTimeout(()=>{r.style.animation=t},1))},50),{performName:"bgAni",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},gX=e=>{const t=e.content;return e.args.forEach(r=>{if(r.key==="left"&&r.value){const n=document.getElementById("figLeftContainer");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation=t},1))}if(r.key==="center"&&r.value){const n=document.getElementById("figCenterContainer");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation=t},1))}if(r.key==="right"&&r.value){const n=document.getElementById("figRightContainer");n&&(n.style.animation="none",setTimeout(()=>{n.style.animation=t},1))}}),{performName:"figAni",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},yX=e=>{const r=Ue.getState().stage.effects,n=ya.cloneDeep(r);let i=!1;return n.forEach(o=>{o.target==="MainStage_bg_MainContainer"&&(i=!0,o.transform=e.content)}),i||n.push({target:"MainStage_bg_MainContainer",transform:e.content,filter:""}),Ue.dispatch(en({key:"effects",value:n})),{performName:"none",duration:0,isOver:!1,isHoldOn:!1,stopFunction:()=>{},blockingNext:()=>!1,blockingAuto:()=>!0,stopTimeout:void 0}},KI=e=>{let t=r6,r=AE;const n=new Map([[se.say,AE],[se.changeBg,f6],[se.changeFigure,c6],[se.bgm,h6],[se.callScene,p6],[se.changeScene,v6],[se.intro,I6],[se.pixi,aX],[se.miniAvatar,sX],[se.pixiInit,uX],[se.video,lX],[se.jumpLabel,fX],[se.label,cX],[se.choose,pX],[se.end,vX],[se.setBgFilter,_X],[se.perform_bgAni,mX],[se.perform_FigAni,gX],[se.setBgTransform,yX]]);if(n.has(e.command)&&(r=n.get(e.command)),t=r(e),t.performName==="none"){lt.warn("\u672C\u6761\u8BED\u53E5\u4E0D\u6267\u884C\u6F14\u51FA");return}const i=Ue.getState().stage,o=ya.cloneDeep(i);o.PerformList.push({isHoldOn:t.isHoldOn,script:e}),Ue.dispatch(ru(o)),t.stopTimeout=setTimeout(()=>{t.isOver=!0,t.isHoldOn||wd(t.performName)},t.duration),_e.performList.push(t)},xX=e=>{hi(e.sceneUrl).then(t=>{Oe.currentScene=di(t,e.sceneName,e.sceneUrl),Oe.currentSentenceId=e.continueLine+1,lt.debug("\u73B0\u5728\u6062\u590D\u573A\u666F\uFF0C\u6062\u590D\u540E\u573A\u666F\uFF1A",Oe.currentScene),In()})},ZI=()=>{if(Oe.currentSentenceId>Oe.currentScene.sentenceList.length-1){if(Oe.sceneStack.length!==0){const i=Oe.sceneStack.pop();i!==void 0&&xX(i)}return}const e=Oe.currentScene.sentenceList[Oe.currentSentenceId];KI(e);let t=!1;e.args.forEach(i=>{i.key==="next"&&i.value&&(t=!0)});const r=e.command===se.say;let n;if(t){Oe.currentSentenceId++,ZI();return}setTimeout(()=>{if(n=Ue.getState().stage,lt.debug("\u672C\u6761\u8BED\u53E5\u6267\u884C\u7ED3\u679C",n),r){const i={currentStageState:Gr.exports.cloneDeep(n),saveScene:{currentSentenceId:Oe.currentSentenceId,sceneStack:Gr.exports.cloneDeep(Oe.sceneStack),sceneName:Oe.currentScene.sceneName,sceneUrl:Oe.currentScene.sceneUrl}};tn.push(i)}},0),Oe.currentSentenceId++},In=()=>{if(Ue.getState().GUI.showTitle)return;let t=!1;if(_e.performList.forEach(n=>{n.blockingNext()&&!n.isOver&&(t=!0)}),t){lt.warn("next \u88AB\u963B\u585E\uFF01");return}let r=!0;if(_e.performList.forEach(n=>{n.isHoldOn||(r=!1)}),r){const n=Ue.getState().stage,i=ya.cloneDeep(n);for(let o=0;o<i.PerformList.length;o++)i.PerformList[o].isHoldOn||(i.PerformList.splice(o,1),o--);Ue.dispatch(ru(i)),ZI();return}lt.warn("\u63D0\u524D\u7ED3\u675F\u88AB\u89E6\u53D1\uFF0C\u73B0\u5728\u6E05\u9664\u666E\u901A\u6F14\u51FA");for(let n=0;n<_e.performList.length;n++){const i=_e.performList[n];i.isHoldOn||(i.stopFunction(),clearTimeout(i.stopTimeout),_e.performList.splice(n,1),n--)}},TX=()=>{ry(!0);const e=Nr("start.txt",Dt.scene);hi(e).then(t=>{Oe.currentScene=di(t,"start.txt",e),In()}),Ue.dispatch(tr({component:"showTitle",visibility:!1}))};var JI={exports:{}},QI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ws=jt.exports;function EX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wX=typeof Object.is=="function"?Object.is:EX,bX=Ws.useState,SX=Ws.useEffect,CX=Ws.useLayoutEffect,IX=Ws.useDebugValue;function RX(e,t){var r=t(),n=bX({inst:{value:r,getSnapshot:t}}),i=n[0].inst,o=n[1];return CX(function(){i.value=r,i.getSnapshot=t,V_(i)&&o({inst:i})},[e,r,t]),SX(function(){return V_(i)&&o({inst:i}),e(function(){V_(i)&&o({inst:i})})},[e]),IX(r),r}function V_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!wX(e,r)}catch{return!0}}function NX(e,t){return t()}var PX=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?NX:RX;QI.useSyncExternalStore=Ws.useSyncExternalStore!==void 0?Ws.useSyncExternalStore:PX;JI.exports=QI;var eR={exports:{}},tR={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Od=jt.exports,AX=JI.exports;function OX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LX=typeof Object.is=="function"?Object.is:OX,FX=AX.useSyncExternalStore,UX=Od.useRef,kX=Od.useEffect,BX=Od.useMemo,MX=Od.useDebugValue;tR.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var o=UX(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=BX(function(){function f(_){if(!c){if(c=!0,d=_,_=n(_),i!==void 0&&a.hasValue){var y=a.value;if(i(y,_))return p=y}return p=_}if(y=p,LX(d,_))return y;var T=n(_);return i!==void 0&&i(y,T)?y:(d=_,p=T)}var c=!1,d,p,v=r===void 0?null:r;return[function(){return f(t())},v===null?void 0:function(){return f(v())}]},[t,r,n,i]);var u=FX(e,o[0],o[1]);return kX(function(){a.hasValue=!0,a.value=u},[u]),MX(u),u};eR.exports=tR;function DX(e){e()}let rR=DX;const GX=e=>rR=e,HX=()=>rR,Po=xe.createContext(null);function nR(){return jt.exports.useContext(Po)}const XX=()=>{throw new Error("uSES not initialized!")};let iR=XX;const $X=e=>{iR=e},jX=(e,t)=>e===t;function zX(e=Po){const t=e===Po?nR:()=>jt.exports.useContext(e);return function(n,i=jX){const{store:o,subscription:a,getServerState:u}=t(),f=iR(a.addNestedSub,o.getState,u||o.getState,n,i);return jt.exports.useDebugValue(f),f}}const Ar=zX();var oR={exports:{}},pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ar=typeof Symbol=="function"&&Symbol.for,vy=ar?Symbol.for("react.element"):60103,_y=ar?Symbol.for("react.portal"):60106,Ld=ar?Symbol.for("react.fragment"):60107,Fd=ar?Symbol.for("react.strict_mode"):60108,Ud=ar?Symbol.for("react.profiler"):60114,kd=ar?Symbol.for("react.provider"):60109,Bd=ar?Symbol.for("react.context"):60110,my=ar?Symbol.for("react.async_mode"):60111,Md=ar?Symbol.for("react.concurrent_mode"):60111,Dd=ar?Symbol.for("react.forward_ref"):60112,Gd=ar?Symbol.for("react.suspense"):60113,VX=ar?Symbol.for("react.suspense_list"):60120,Hd=ar?Symbol.for("react.memo"):60115,Xd=ar?Symbol.for("react.lazy"):60116,WX=ar?Symbol.for("react.block"):60121,YX=ar?Symbol.for("react.fundamental"):60117,qX=ar?Symbol.for("react.responder"):60118,KX=ar?Symbol.for("react.scope"):60119;function an(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case vy:switch(e=e.type,e){case my:case Md:case Ld:case Ud:case Fd:case Gd:return e;default:switch(e=e&&e.$$typeof,e){case Bd:case Dd:case Xd:case Hd:case kd:return e;default:return t}}case _y:return t}}}function aR(e){return an(e)===Md}pt.AsyncMode=my;pt.ConcurrentMode=Md;pt.ContextConsumer=Bd;pt.ContextProvider=kd;pt.Element=vy;pt.ForwardRef=Dd;pt.Fragment=Ld;pt.Lazy=Xd;pt.Memo=Hd;pt.Portal=_y;pt.Profiler=Ud;pt.StrictMode=Fd;pt.Suspense=Gd;pt.isAsyncMode=function(e){return aR(e)||an(e)===my};pt.isConcurrentMode=aR;pt.isContextConsumer=function(e){return an(e)===Bd};pt.isContextProvider=function(e){return an(e)===kd};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===vy};pt.isForwardRef=function(e){return an(e)===Dd};pt.isFragment=function(e){return an(e)===Ld};pt.isLazy=function(e){return an(e)===Xd};pt.isMemo=function(e){return an(e)===Hd};pt.isPortal=function(e){return an(e)===_y};pt.isProfiler=function(e){return an(e)===Ud};pt.isStrictMode=function(e){return an(e)===Fd};pt.isSuspense=function(e){return an(e)===Gd};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ld||e===Md||e===Ud||e===Fd||e===Gd||e===VX||typeof e=="object"&&e!==null&&(e.$$typeof===Xd||e.$$typeof===Hd||e.$$typeof===kd||e.$$typeof===Bd||e.$$typeof===Dd||e.$$typeof===YX||e.$$typeof===qX||e.$$typeof===KX||e.$$typeof===WX)};pt.typeOf=an;oR.exports=pt;var sR=oR.exports,ZX={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},JX={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},uR={};uR[sR.ForwardRef]=ZX;uR[sR.Memo]=JX;var mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy=Symbol.for("react.element"),yy=Symbol.for("react.portal"),$d=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),zd=Symbol.for("react.profiler"),Vd=Symbol.for("react.provider"),Wd=Symbol.for("react.context"),QX=Symbol.for("react.server_context"),Yd=Symbol.for("react.forward_ref"),qd=Symbol.for("react.suspense"),Kd=Symbol.for("react.suspense_list"),Zd=Symbol.for("react.memo"),Jd=Symbol.for("react.lazy"),e$=Symbol.for("react.offscreen"),lR;lR=Symbol.for("react.module.reference");function Rn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case gy:switch(e=e.type,e){case $d:case zd:case jd:case qd:case Kd:return e;default:switch(e=e&&e.$$typeof,e){case QX:case Wd:case Yd:case Jd:case Zd:case Vd:return e;default:return t}}case yy:return t}}}mt.ContextConsumer=Wd;mt.ContextProvider=Vd;mt.Element=gy;mt.ForwardRef=Yd;mt.Fragment=$d;mt.Lazy=Jd;mt.Memo=Zd;mt.Portal=yy;mt.Profiler=zd;mt.StrictMode=jd;mt.Suspense=qd;mt.SuspenseList=Kd;mt.isAsyncMode=function(){return!1};mt.isConcurrentMode=function(){return!1};mt.isContextConsumer=function(e){return Rn(e)===Wd};mt.isContextProvider=function(e){return Rn(e)===Vd};mt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===gy};mt.isForwardRef=function(e){return Rn(e)===Yd};mt.isFragment=function(e){return Rn(e)===$d};mt.isLazy=function(e){return Rn(e)===Jd};mt.isMemo=function(e){return Rn(e)===Zd};mt.isPortal=function(e){return Rn(e)===yy};mt.isProfiler=function(e){return Rn(e)===zd};mt.isStrictMode=function(e){return Rn(e)===jd};mt.isSuspense=function(e){return Rn(e)===qd};mt.isSuspenseList=function(e){return Rn(e)===Kd};mt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$d||e===zd||e===jd||e===qd||e===Kd||e===e$||typeof e=="object"&&e!==null&&(e.$$typeof===Jd||e.$$typeof===Zd||e.$$typeof===Vd||e.$$typeof===Wd||e.$$typeof===Yd||e.$$typeof===lR||e.getModuleId!==void 0)};mt.typeOf=Rn;function t$(){const e=HX();let t=null,r=null;return{clear(){t=null,r=null},notify(){e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,o=r={callback:n,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const eS={notify(){},get:()=>[]};function r$(e,t){let r,n=eS;function i(p){return f(),n.subscribe(p)}function o(){n.notify()}function a(){d.onStateChange&&d.onStateChange()}function u(){return Boolean(r)}function f(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=t$())}function c(){r&&(r(),r=void 0,n.clear(),n=eS)}const d={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:a,isSubscribed:u,trySubscribe:f,tryUnsubscribe:c,getListeners:()=>n};return d}const n$=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",i$=n$?jt.exports.useLayoutEffect:jt.exports.useEffect;function o$({store:e,context:t,children:r,serverState:n}){const i=jt.exports.useMemo(()=>{const u=r$(e);return{store:e,subscription:u,getServerState:n?()=>n:void 0}},[e,n]),o=jt.exports.useMemo(()=>e.getState(),[e]);return i$(()=>{const{subscription:u}=i;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[i,o]),X((t||Po).Provider,{value:i,children:r})}function fR(e=Po){const t=e===Po?nR:()=>jt.exports.useContext(e);return function(){const{store:n}=t();return n}}const a$=fR();function s$(e=Po){const t=e===Po?a$:fR(e);return function(){return t().dispatch}}const ko=s$();$X(eR.exports.useSyncExternalStoreWithSelector);GX(zg.exports.unstable_batchedUpdates);const u$=()=>{const e=Ar(i=>i.GUI),t=ko(),r=e.titleBg,n=r===""?"rgba(0,0,0,1)":`url("${r}")`;return Pe(nu,{children:[e.showTitle&&X("div",{className:Lt.Title_backup_background}),X("div",{id:"play_title_bgm_target",onClick:()=>{gd(e.titleBgm)}}),e.showTitle&&X("div",{className:Lt.Title_main,style:{backgroundImage:n,backgroundSize:"cover"},children:Pe("div",{className:Lt.Title_buttonList,children:[Pe("div",{className:Lt.Title_button,onClick:TX,children:[X("div",{className:Lt.Title_button_text+" "+Lt.Title_button_text_up,children:"\u5F00\u59CB\u6E38\u620F"}),X("div",{className:Lt.Title_button_text,children:"START"})]}),Pe("div",{className:Lt.Title_button,onClick:()=>{t(tr({component:"showTitle",visibility:!1})),Oe.currentSentenceId===0&&Oe.currentScene.sceneName==="start.txt"&&In()},children:[X("div",{className:Lt.Title_button_text+" "+Lt.Title_button_text_up,children:"\u7EE7\u7EED\u6E38\u620F"}),X("div",{className:Lt.Title_button_text,children:"CONTINUE"})]}),Pe("div",{className:Lt.Title_button,onClick:()=>{t(tr({component:"showMenuPanel",visibility:!0})),t(Os(Bt.Option))},children:[X("div",{className:Lt.Title_button_text+" "+Lt.Title_button_text_up,children:"\u6E38\u620F\u9009\u9879"}),X("div",{className:Lt.Title_button_text,children:"OPTIONS"})]}),Pe("div",{className:Lt.Title_button,onClick:()=>{t(tr({component:"showMenuPanel",visibility:!0})),t(Os(Bt.Load))},children:[X("div",{className:Lt.Title_button_text+" "+Lt.Title_button_text_up,children:"\u8BFB\u53D6\u5B58\u6863"}),X("div",{className:Lt.Title_button_text,children:"LOAD"})]}),Pe("div",{className:Lt.Title_button,onClick:()=>{window.opener=null,window.open("","_self"),window.close()},children:[X("div",{className:Lt.Title_button_text+" "+Lt.Title_button_text_up,children:"\u9000\u51FA\u6E38\u620F"}),X("div",{className:Lt.Title_button_text,children:"EXIT"})]})]})})]})},l$=e=>{const t=Ue.getState().GUI,r=Ue.dispatch;BC.get(e).then(n=>{var a;let i=n.data.split(`
`);i=i.map(u=>u.split(";")[0]);const o=i.map(u=>u.split(":"));lt.info("\u83B7\u53D6\u5230\u6E38\u620F\u4FE1\u606F",o),t&&o.forEach(u=>{if(u[0]==="Title_img"){const f=Nr(u[1],Dt.background);r(xE({asset:"titleBg",value:f}))}if(u[0]==="Title_bgm"){const f=Nr(u[1],Dt.bgm);r(xE({asset:"titleBgm",value:f}))}u[0]==="Game_name"&&(Xs.gameName=u[1],document.title=u[1]),u[0]==="Game_key"&&(Xs.gameKey=u[1],Hh())}),(a=window==null?void 0:window.renderPromise)==null||a.call(window),delete window.renderPromise})},zc=()=>{const r=window.innerHeight,n=window.innerWidth,i=r/900,o=n/1600,a=n/900,u=r/1600;let f=(900-r)/2,c=(1600-n)/2,d=1600/2-n/2,p=900/2-r/2;const v=document.getElementById("root");v&&(n>r?(c=-c,f=-f,n*(9/16)>=r&&(v.style.transform=`translate(${c}px, ${f}px) scale(${i},${i})`),n*(9/16)<r&&(v.style.transform=`translate(${c}px, ${f}px) scale(${o},${o})`)):(p=-p,r*(9/16)>=n&&(v.style.transform=`rotate(90deg) translate(${p}px, ${d}px) scale(${a},${a})`),r*(9/16)<n&&(v.style.transform=`rotate(90deg) translate(${p}px, ${d}px) scale(${u},${u})`)));const _=document.getElementById("Title_enter_page");f=(900-r)/2,c=(1600-n)/2,d=1600/2-n/2,p=900/2-r/2,_&&(n>r?(c=-c,f=-f,n*(9/16)>=r&&(_.style.transform=`translate(${c}px, ${f}px) scale(${i},${i})`),n*(9/16)<r&&(_.style.transform=`translate(${c}px, ${f}px) scale(${o},${o})`)):(p=-p,r*(9/16)>=n&&(_.style.transform=`rotate(90deg) translate(${p}px, ${d}px) scale(${a},${a})`),r*(9/16)<n&&(_.style.transform=`rotate(90deg) translate(${p}px, ${d}px) scale(${u},${u})`)))},ch=()=>{const e=Ue.getState().userData,t=e.optionData.volumeMain,r=t*.01*e.optionData.vocalVolume*.01,n=t*.01*e.optionData.bgmVolume*.01;lt.debug(`\u8BBE\u7F6E\u80CC\u666F\u97F3\u91CF\uFF1A${n},\u8BED\u97F3\u97F3\u91CF\uFF1A${r}`);const i=document.getElementById("currentBgm");i&&(i.volume=n.toString());const o=document.getElementById("currentVocal");i&&(o.volume=r.toString())},f$=e=>{if(e){let t=new Pd({backgroundAlpha:0});const r=document.getElementById("pixiContianer");r&&(r.innerHTML="",r.appendChild(t.view)),t.renderer.view.style.position="absolute",t.renderer.view.style.display="block",t.renderer.autoResize=!0;const n=document.getElementById("root");n&&t.renderer.resize(n.clientWidth,n.clientHeight),t.renderer.view.style.zIndex="5",_e.currentPixi=t}else{const t=document.getElementById("pixiContianer");t&&(t.innerHTML="")}},c$=e=>{const t=e.split(" "),r=t[1].replace(/json/g,"txt"),n=parseInt(t[2],10);lt.warn("\u6B63\u5728\u8DF3\u8F6C\u5230"+r+":"+n);const i=Ue.dispatch;i(tr({component:"showTitle",visibility:!1})),i(tr({component:"showMenuPanel",visibility:!1})),ry(!0);const o=Nr(r,Dt.scene);hi(o).then(a=>{Oe.currentScene=di(a,"start.txt",o),xy(n)})};function xy(e){Oe.currentSentenceId<e&&(In(),setTimeout(()=>xy(e),2))}const h$=()=>{window.JMP=xy},d$=()=>{try{const t=`ws://${window.location.hostname}:9999`;lt.info("\u6B63\u5728\u542F\u52A8socket\u8FDE\u63A5\u4F4D\u4E8E\uFF1A"+t);const r=new WebSocket(t);r.onopen=()=>{lt.info("socket\u5DF2\u8FDE\u63A5"),r.send(" WebGAL \u5DF2\u548C Terre \u5EFA\u7ACB\u8FDE\u63A5\u3002")},r.onmessage=n=>{lt.info("\u6536\u5230\u4FE1\u606F",n.data);const i=n.data;i.match("jmp")&&c$(i)}}catch{lt.warn("ws\u8FDE\u63A5\u5931\u8D25")}},p$=()=>{lt.info("WebGAL 4.1.4"),lt.info("Github: https://github.com/MakinoharaShoko/WebGAL "),lt.info("Made with \u2764 by MakinoharaShoko"),setTimeout(zc,100),zc(),window.onresize=zc,document.onkeydown=function(t){const r=t;r&&r.keyCode===122&&setTimeout(()=>{zc()},50)},l$("./game/config.txt");const e=Nr("start.txt",Dt.scene);hi(e).then(t=>{Oe.currentScene=di(t,"start.txt",e)}),ch(),f$(!0),h$(),d$()},v$="_Menu_main_h8wt8_1",_$="_Menu_ShowSoftly_h8wt8_1",m$="_Menu_TagContent_h8wt8_9";var tS={Menu_main:v$,Menu_ShowSoftly:_$,Menu_TagContent:m$};const g$="_MenuPanel_main_1qtug_1",y$="_MenuPanel_button_1qtug_11",x$="_MenuPanel_button_icon_1qtug_34";var ys={MenuPanel_main:g$,MenuPanel_button:y$,MenuPanel_button_icon:x$},T$=["size","strokeWidth","strokeLinecap","strokeLinejoin","theme","fill","className","spin"];function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){E$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E$(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e,t){if(e==null)return{};var r=b$(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function b$(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var S$={size:"1em",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",rtl:!1,theme:"outline",colors:{outline:{fill:"#333",background:"transparent"},filled:{fill:"#333",background:"#FFF"},twoTone:{fill:"#333",twoTone:"#2F88FF"},multiColor:{outStrokeColor:"#333",outFillColor:"#2F88FF",innerStrokeColor:"#FFF",innerFillColor:"#43CCF8"}},prefix:"i"};function C$(){return"icon-"+((1+Math.random())*4294967296|0).toString(16).substring(1)}function I$(e,t,r){var n=typeof t.fill=="string"?[t.fill]:t.fill||[],i=[],o=t.theme||r.theme;switch(o){case"outline":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("none");break;case"filled":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push("#FFF"),i.push("#FFF");break;case"two-tone":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone),i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.twoTone.twoTone);break;case"multi-color":i.push(typeof n[0]=="string"?n[0]:"currentColor"),i.push(typeof n[1]=="string"?n[1]:r.colors.multiColor.outFillColor),i.push(typeof n[2]=="string"?n[2]:r.colors.multiColor.innerStrokeColor),i.push(typeof n[3]=="string"?n[3]:r.colors.multiColor.innerFillColor);break}return{size:t.size||r.size,strokeWidth:t.strokeWidth||r.strokeWidth,strokeLinecap:t.strokeLinecap||r.strokeLinecap,strokeLinejoin:t.strokeLinejoin||r.strokeLinejoin,colors:i,id:e}}var cR=jt.exports.createContext(S$);cR.Provider;function jr(e,t,r){return function(n){var i=n.size,o=n.strokeWidth,a=n.strokeLinecap,u=n.strokeLinejoin,f=n.theme,c=n.fill,d=n.className,p=n.spin,v=w$(n,T$),_=jt.exports.useContext(cR),y=jt.exports.useMemo(C$,[]),T=I$(y,{size:i,strokeWidth:o,strokeLinecap:a,strokeLinejoin:u,theme:f,fill:c},_),g=[_.prefix+"-icon"];return g.push(_.prefix+"-icon-"+e),t&&_.rtl&&g.push(_.prefix+"-icon-rtl"),p&&g.push(_.prefix+"-icon-spin"),d&&g.push(d),X("span",Lx(Ox({},nS(nS({},v),{},{className:g.join(" ")})),{children:r(T)}))}}var R$=jr("align-text-left-one",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M39 6H9C7.34315 6 6 7.34315 6 9V39C6 40.6569 7.34315 42 9 42H39C40.6569 42 42 40.6569 42 39V9C42 7.34315 40.6569 6 39 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M26 24H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M34 15H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M32 33H14",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),N$=jr("close-small",!1,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M14 14L34 34",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M14 34L34 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),P$=jr("double-right",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M12 12L24 24L12 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M24 12L36 24L24 36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),hR=jr("folder-open",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M4 9V41L9 21H39.5V15C39.5 13.8954 38.6046 13 37.5 13H24L19 7H6C4.89543 7 4 7.89543 4 9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M40 41L44 21H8.8125L4 41H40Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),dR=jr("home",!1,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:e.colors[1]}),xe.createElement("path",{d:"M9 42V18L4 22L24 6L44 22L39 18V42H9Z",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M19 29V42H29V29H19Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M9 42H39",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),A$=jr("logout",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M23.9917 6L6 6L6 42H24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M33 33L42 24L33 15",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M16 23.9917H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),O$=jr("play-one",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M15 24V11.8756L25.5 17.9378L36 24L25.5 30.0622L15 36.1244V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),L$=jr("preview-close-one",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M9.85786 18C6.23858 21 4 24 4 24C4 24 12.9543 36 24 36C25.3699 36 26.7076 35.8154 28 35.4921M20.0318 12.5C21.3144 12.1816 22.6414 12 24 12C35.0457 12 44 24 44 24C44 24 41.7614 27 38.1421 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M20.3142 20.6213C19.4981 21.5112 19 22.6974 19 24C19 26.7614 21.2386 29 24 29C25.3627 29 26.5981 28.4548 27.5 27.5707",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M42 42L6 6",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),F$=jr("preview-open",!1,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M24 36C35.0457 36 44 24 44 24C44 24 35.0457 12 24 12C12.9543 12 4 24 4 24C4 24 12.9543 36 24 36Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M24 29C26.7614 29 29 26.7614 29 24C29 21.2386 26.7614 19 24 19C21.2386 19 19 21.2386 19 24C19 26.7614 21.2386 29 24 29Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),U$=jr("replay-music",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M21 24V18L26 21L31 24L26 27L21 30V24Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M11.2721 36.7279C14.5294 39.9853 19.0294 42 24 42C33.9411 42 42 33.9411 42 24C42 14.0589 33.9411 6 24 6C19.0294 6 14.5294 8.01472 11.2721 11.2721C9.6141 12.9301 6 17 6 17",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M6 9V17H14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),k$=jr("return",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M12.9998 8L6 14L12.9998 21",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M6 14H28.9938C35.8768 14 41.7221 19.6204 41.9904 26.5C42.2739 33.7696 36.2671 40 28.9938 40H11.9984",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),pR=jr("save",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M6 9C6 7.34315 7.34315 6 9 6H34.2814L42 13.2065V39C42 40.6569 40.6569 42 39 42H9C7.34315 42 6 40.6569 6 39V9Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6",fill:e.colors[3]}),xe.createElement("path",{d:"M24.0083 6L24 13.3846C24 13.7245 23.5523 14 23 14H15C14.4477 14 14 13.7245 14 13.3846L14 6H24.0083Z",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M9 6H34.2814",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M14 26H34",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M14 34H24.0083",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),vR=jr("setting-two",!1,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M18.2838 43.1712C14.9327 42.1735 11.9498 40.3212 9.58787 37.8669C10.469 36.8226 11 35.4733 11 34C11 30.6863 8.31371 28 5 28C4.79955 28 4.60139 28.0098 4.40599 28.029C4.13979 26.7276 4 25.3801 4 24C4 21.9094 4.32077 19.8937 4.91579 17.9994C4.94381 17.9998 4.97188 18 5 18C8.31371 18 11 15.3137 11 12C11 11.0487 10.7786 10.1491 10.3846 9.34999C12.6975 7.19937 15.5205 5.5899 18.6521 4.72302C19.6444 6.66807 21.6667 8.00001 24 8.00001C26.3333 8.00001 28.3556 6.66807 29.3479 4.72302C32.4795 5.5899 35.3025 7.19937 37.6154 9.34999C37.2214 10.1491 37 11.0487 37 12C37 15.3137 39.6863 18 43 18C43.0281 18 43.0562 17.9998 43.0842 17.9994C43.6792 19.8937 44 21.9094 44 24C44 25.3801 43.8602 26.7276 43.594 28.029C43.3986 28.0098 43.2005 28 43 28C39.6863 28 37 30.6863 37 34C37 35.4733 37.531 36.8226 38.4121 37.8669C36.0502 40.3212 33.0673 42.1735 29.7162 43.1712C28.9428 40.7518 26.676 39 24 39C21.324 39 19.0572 40.7518 18.2838 43.1712Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z",fill:e.colors[3],stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}))}),B$=jr("volume-notice",!0,function(e){return xe.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},xe.createElement("path",{d:"M24 6V42C17 42 11.7985 32.8391 11.7985 32.8391H6C4.89543 32.8391 4 31.9437 4 30.8391V17.0108C4 15.9062 4.89543 15.0108 6 15.0108H11.7985C11.7985 15.0108 17 6 24 6Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M32 15L32 15C32.6232 15.5565 33.1881 16.1797 33.6841 16.8588C35.1387 18.8504 36 21.3223 36 24C36 26.6545 35.1535 29.1067 33.7218 31.0893C33.2168 31.7885 32.6391 32.4293 32 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),xe.createElement("path",{d:"M34.2358 41.1857C40.0835 37.6953 43.9999 31.305 43.9999 24C43.9999 16.8085 40.2042 10.5035 34.507 6.97906",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))});const M$=e=>{let t;switch(e.iconName){case"save":t=X(pR,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"load":t=X(hR,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"option":t=X(vR,{theme:"outline",size:"1.2em",fill:e.iconColor,strokeWidth:2});break;case"title":t=X(dR,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;case"exit":t=X(A$,{theme:"outline",size:"1.2em",fill:"rgba(185,185,185,1)",strokeWidth:2});break;default:t=X("div",{})}return t},Wu=e=>{let t=ys.MenuPanel_button;return e.hasOwnProperty("buttonOnClassName")&&(t=t+e.buttonOnClassName),Pe("div",{className:t,onClick:()=>{e.clickFunc()},style:{color:e.tagColor},children:[X("div",{className:ys.MenuPanel_button_icon,children:X(M$,{iconName:e.iconName,iconColor:e.iconColor})}),e.tagName]})},D$=()=>{const e=Ar(p=>p.GUI),t=ko(),r=e.currentMenuTag===Bt.Save?` ${ys.MenuPanel_button_hl}`:"",n=e.currentMenuTag===Bt.Load?` ${ys.MenuPanel_button_hl}`:"",i=e.currentMenuTag===Bt.Option?` ${ys.MenuPanel_button_hl}`:"",o=e.currentMenuTag===Bt.Save?"rgba(74, 34, 93, 0.9)":"rgba(8, 8, 8, 0.3)",a=e.currentMenuTag===Bt.Load?"rgba(11, 52, 110, 0.9)":"rgba(8, 8, 8, 0.3)",u=e.currentMenuTag===Bt.Option?"rgba(81, 110, 65, 0.9)":"rgba(8, 8, 8, 0.3)",f=e.currentMenuTag===Bt.Save?"rgba(74, 34, 93, 0.9)":"rgba(185, 185, 185, 1)",c=e.currentMenuTag===Bt.Load?"rgba(11, 52, 110, 0.9)":"rgba(185, 185, 185, 1)",d=e.currentMenuTag===Bt.Option?"rgba(81, 110, 65, 0.9)":"rgba(185, 185, 185, 1)";return Pe("div",{className:ys.MenuPanel_main,children:[X(Wu,{iconName:"save",buttonOnClassName:r,iconColor:f,tagColor:o,clickFunc:()=>{t(Os(Bt.Save))},tagName:"\u5B58\u6863"},"saveButton"),X(Wu,{iconName:"load",buttonOnClassName:n,iconColor:c,tagColor:a,clickFunc:()=>{t(Os(Bt.Load))},tagName:"\u8BFB\u6863"},"loadButton"),X(Wu,{iconName:"option",buttonOnClassName:i,iconColor:d,tagColor:u,clickFunc:()=>{t(Os(Bt.Option))},tagName:"\u9009\u9879"},"optionButton"),X(Wu,{iconName:"title",clickFunc:()=>{t(tr({component:"showTitle",visibility:!0})),t(tr({component:"showMenuPanel",visibility:!1})),gd(e.titleBgm)},tagName:"\u6807\u9898"},"titleIcon"),X(Wu,{iconName:"exit",clickFunc:()=>{t(tr({component:"showMenuPanel",visibility:!1}))},tagName:"\u8FD4\u56DE"},"exitIcon")]})},G$="_Save_Load_main_1i6yu_2",H$="_Save_Load_top_1i6yu_9",X$="_Elements_in_1i6yu_1",$$="_Save_Load_title_1i6yu_19",j$="_Save_title_text_1i6yu_32",z$="_Load_title_text_1i6yu_42",V$="_Save_Load_top_buttonList_1i6yu_52",W$="_Save_Load_top_button_1i6yu_52",Y$="_Save_Load_top_button_text_1i6yu_71",q$="_Save_Load_top_button_on_1i6yu_82",K$="_Load_top_button_on_1i6yu_95",Z$="_Load_top_button_1i6yu_95",J$="_Save_Load_content_1i6yu_108",Q$="_Save_Load_content_element_1i6yu_117",ej="_Elements_in_transform_1i6yu_1",tj="_Save_Load_content_element_top_1i6yu_135",rj="_Save_Load_content_element_top_index_1i6yu_142",nj="_Load_content_elememt_top_index_1i6yu_151",ij="_Save_Load_content_element_top_date_1i6yu_155",oj="_Load_content_element_top_date_1i6yu_164",aj="_Save_Load_content_text_1i6yu_168",sj="_Save_Load_content_text_padding_1i6yu_178",uj="_Save_Load_content_speaker_1i6yu_182",lj="_Load_content_speaker_1i6yu_190",fj="_Load_content_text_1i6yu_194",cj="_Save_Load_content_miniRen_1i6yu_198",hj="_Save_Load_content_miniRen_bg_1i6yu_204",dj="_Save_Load_content_miniRen_figure_1i6yu_210",pj="_Save_Load_content_miniRen_figLeft_1i6yu_218",vj="_Save_Load_content_miniRen_figRight_1i6yu_223";var Ie={Save_Load_main:G$,Save_Load_top:H$,Elements_in:X$,Save_Load_title:$$,Save_title_text:j$,Load_title_text:z$,Save_Load_top_buttonList:V$,Save_Load_top_button:W$,Save_Load_top_button_text:Y$,Save_Load_top_button_on:q$,Load_top_button_on:K$,Load_top_button:Z$,Save_Load_content:J$,Save_Load_content_element:Q$,Elements_in_transform:ej,Save_Load_content_element_top:tj,Save_Load_content_element_top_index:rj,Load_content_elememt_top_index:nj,Save_Load_content_element_top_date:ij,Load_content_element_top_date:oj,Save_Load_content_text:aj,Save_Load_content_text_padding:sj,Save_Load_content_speaker:uj,Load_content_speaker:lj,Load_content_text:fj,Save_Load_content_miniRen:cj,Save_Load_content_miniRen_bg:hj,Save_Load_content_miniRen_figure:dj,Save_Load_content_miniRen_figLeft:pj,Save_Load_content_miniRen_figRight:vj};const _j=e=>{const t=Ue.getState().userData,r=Ue.getState().stage,n=Gr.exports.cloneDeep(tn),i={nowStageState:Gr.exports.cloneDeep(r),backlog:n,index:e,saveTime:new Date().toLocaleDateString()+" "+new Date().toLocaleTimeString("chinese",{hour12:!1}),sceneData:{currentSentenceId:Oe.currentSentenceId,sceneStack:Gr.exports.cloneDeep(Oe.sceneStack),sceneName:Oe.currentScene.sceneName,sceneUrl:Oe.currentScene.sceneUrl}};lt.debug("\u5B58\u6863\u6570\u636E\uFF1A",i);const o=Gr.exports.cloneDeep(t.saveData);lt.debug("newSaveData:",o),o[e]=i,Ue.dispatch(xB({key:"saveData",value:[...o]})),lt.debug("\u5B58\u6863\u5B8C\u6210\uFF0C\u5B58\u6863\u7ED3\u679C\uFF1A",o),EB()},mj=()=>{const e=Ar(u=>u.userData),t=ko(),r=[];for(let u=1;u<=20;u++){let f=Ie.Save_Load_top_button;u===e.optionData.slPage&&(f=f+" "+Ie.Save_Load_top_button_on);const c=X("div",{onClick:()=>{t(yC(u)),gr()},className:f,children:X("div",{className:Ie.Save_Load_top_button_text,children:u})},"Save_element_page"+u);r.push(c)}const n=[],i=(e.optionData.slPage-1)*10+1,o=i+9;let a=0;for(let u=i;u<=o;u++){a++;const f=e.saveData[u];let c=X("div",{});if(f){const p=f.nowStageState.showName===""?"":`${f.nowStageState.showName}`;c=Pe(nu,{children:[Pe("div",{className:Ie.Save_Load_content_element_top,children:[X("div",{className:Ie.Save_Load_content_element_top_index,children:f.index}),X("div",{className:Ie.Save_Load_content_element_top_date,children:f.saveTime})]}),Pe("div",{className:Ie.Save_Load_content_miniRen,children:[f.nowStageState.bgName!==""&&X("img",{className:Ie.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:f.nowStageState.bgName}),f.nowStageState.bgName===""&&X("div",{style:{background:"rgba(0,0,0,0.6)",width:"100%",height:"100%"}}),f.nowStageState.figNameLeft!==""&&X("img",{className:Ie.Save_Load_content_miniRen_figure+" "+Ie.Save_Load_content_miniRen_figLeft,alt:"Save_img_previewLeft",src:f.nowStageState.figNameLeft}),f.nowStageState.figNameRight!==""&&X("img",{className:Ie.Save_Load_content_miniRen_figure+" "+Ie.Save_Load_content_miniRen_figRight,alt:"Save_img_preview",src:f.nowStageState.figNameRight}),f.nowStageState.figName!==""&&X("div",{style:{display:"flex",width:"100%",height:"100%",position:"absolute",bottom:"0",justifyContent:"center"},children:X("img",{className:Ie.Save_Load_content_miniRen_figure,alt:"Save_img_preview",src:f.nowStageState.figName})})]}),Pe("div",{className:Ie.Save_Load_content_text,children:[X("div",{className:Ie.Save_Load_content_speaker,children:p}),X("div",{className:Ie.Save_Load_content_text_padding,children:f.nowStageState.showText})]})]})}const d=X("div",{onClick:()=>_j(u),className:Ie.Save_Load_content_element,style:{animationDelay:`${a*30}ms`},children:c},"saveElement_"+u);n.push(d)}return Pe("div",{className:Ie.Save_Load_main,children:[Pe("div",{className:Ie.Save_Load_top,children:[X("div",{className:Ie.Save_Load_title,children:X("div",{className:Ie.Save_title_text,children:"\u5B58\u6863"})}),X("div",{className:Ie.Save_Load_top_buttonList,children:r})]}),X("div",{className:Ie.Save_Load_content,id:"Save_content_page_"+e.optionData.slPage,children:n})]})},Ty=()=>{lt.warn("\u6E05\u9664\u6240\u6709\u6F14\u51FA");for(let e=0;e<_e.performList.length;e++){const t=_e.performList[e];t.stopFunction(),clearTimeout(t.stopTimeout),_e.performList.splice(e,1),e--}},_R=()=>{Ue.getState().stage.PerformList.forEach(t=>{KI(t.script)})},gj=e=>{const t=Ue.dispatch,r=tn[e];lt.debug("\u8BFB\u53D6\u7684backlog\u6570\u636E",r),hi(r.saveScene.sceneUrl).then(i=>{Oe.currentScene=di(i,r.saveScene.sceneName,r.saveScene.sceneUrl)}),Oe.currentSentenceId=r.saveScene.currentSentenceId,Oe.sceneStack=Gr.exports.cloneDeep(r.saveScene.sceneStack),Ty();for(let i=tn.length-1;i>e;i--)tn.pop();const n=Gr.exports.cloneDeep(r.currentStageState);t(ru(n)),_R(),t(tr({component:"showBacklog",visibility:!1})),t(tr({component:"showTextBox",visibility:!0}))},yj=e=>{const r=Ue.getState().userData.saveData[e];lt.debug("\u8BFB\u53D6\u7684\u5B58\u6863\u6570\u636E",r),hi(r.sceneData.sceneUrl).then(a=>{Oe.currentScene=di(a,r.sceneData.sceneName,r.sceneData.sceneUrl)}),Oe.currentSentenceId=r.sceneData.currentSentenceId,Oe.sceneStack=Gr.exports.cloneDeep(r.sceneData.sceneStack),Ty();const n=r.backlog;tn.splice(0,tn.length);for(const a of n)tn.push(a);const i=Gr.exports.cloneDeep(r.nowStageState),o=Ue.dispatch;o(ru(i)),_R(),o(tr({component:"showTitle",visibility:!1})),o(tr({component:"showMenuPanel",visibility:!1}))},xj=()=>{const e=Ar(u=>u.userData),t=ko(),r=[];for(let u=1;u<=20;u++){let f=Ie.Save_Load_top_button+" "+Ie.Load_top_button;u===e.optionData.slPage&&(f=f+" "+Ie.Save_Load_top_button_on+" "+Ie.Load_top_button_on);const c=X("div",{onClick:()=>{t(yC(u)),gr()},className:f,children:X("div",{className:Ie.Save_Load_top_button_text,children:u})},"Load_element_page"+u);r.push(c)}const n=[],i=(e.optionData.slPage-1)*10+1,o=i+9;let a=0;for(let u=i;u<=o;u++){a++;const f=e.saveData[u];let c=X("div",{});if(f){const p=f.nowStageState.showName===""?"":`${f.nowStageState.showName}`;c=Pe(nu,{children:[Pe("div",{className:Ie.Save_Load_content_element_top,children:[X("div",{className:Ie.Save_Load_content_element_top_index+" "+Ie.Load_content_elememt_top_index,children:f.index}),X("div",{className:Ie.Save_Load_content_element_top_date+" "+Ie.Load_content_element_top_date,children:f.saveTime})]}),Pe("div",{className:Ie.Save_Load_content_miniRen,children:[f.nowStageState.bgName!==""&&X("img",{className:Ie.Save_Load_content_miniRen_bg,alt:"Save_img_preview",src:f.nowStageState.bgName}),f.nowStageState.bgName===""&&X("div",{style:{background:"rgba(0,0,0,0.6)",width:"100%",height:"100%"}}),f.nowStageState.figNameLeft!==""&&X("img",{className:Ie.Save_Load_content_miniRen_figure+" "+Ie.Save_Load_content_miniRen_figLeft,alt:"Save_img_previewLeft",src:f.nowStageState.figNameLeft}),f.nowStageState.figNameRight!==""&&X("img",{className:Ie.Save_Load_content_miniRen_figure+" "+Ie.Save_Load_content_miniRen_figRight,alt:"Save_img_preview",src:f.nowStageState.figNameRight}),f.nowStageState.figName!==""&&X("div",{style:{display:"flex",width:"100%",height:"100%",position:"absolute",bottom:"0",justifyContent:"center"},children:X("img",{className:Ie.Save_Load_content_miniRen_figure,alt:"Save_img_preview",src:f.nowStageState.figName})})]}),Pe("div",{className:Ie.Save_Load_content_text,children:[X("div",{className:Ie.Save_Load_content_speaker+" "+Ie.Load_content_speaker,children:p}),X("div",{className:Ie.Save_Load_content_text_padding,children:f.nowStageState.showText})]})]})}const d=X("div",{onClick:()=>yj(u),className:Ie.Save_Load_content_element,style:{animationDelay:`${a*30}ms`},children:c},"loadElement_"+u);n.push(d)}return Pe("div",{className:Ie.Save_Load_main,children:[Pe("div",{className:Ie.Save_Load_top,children:[X("div",{className:Ie.Save_Load_title,children:X("div",{className:Ie.Load_title_text,children:"\u8BFB\u6863"})}),X("div",{className:Ie.Save_Load_top_buttonList,children:r})]}),X("div",{className:Ie.Save_Load_content,id:"Load_content_page_"+e.optionData.slPage,children:n})]})},Tj="_Options_main_1gaqr_2",Ej="_Options_top_1gaqr_9",wj="_Options_title_1gaqr_16",bj="_Option_title_text_1gaqr_25",Sj="_Elements_in_1gaqr_1",Cj="_Option_title_text_shadow_1gaqr_34",Ij="_Option_title_text_ts_1gaqr_41",Rj="_Options_main_content_1gaqr_48",Nj="_Options_main_content_half_1gaqr_53";var Qo={Options_main:Tj,Options_top:Ej,Options_title:wj,Option_title_text:bj,Elements_in:Sj,Option_title_text_shadow:Cj,Option_title_text_ts:Ij,Options_main_content:Rj,Options_main_content_half:Nj};const Pj="_NormalButton_1y8da_1",Aj="_NormalButtonChecked_1y8da_17";var W_={NormalButton:Pj,NormalButtonChecked:Aj};const Y_=e=>{const t=e.textList.length,r=[];for(let n=0;n<t;n++)if(n===e.currentChecked){const i=X("div",{className:W_.NormalButton+" "+W_.NormalButtonChecked,onClick:e.functionList[n],children:e.textList[n]},e.textList[n]+n+e);r.push(i)}else{const i=X("div",{className:W_.NormalButton,onClick:e.functionList[n],children:e.textList[n]},e.textList[n]+n);r.push(i)}return X(nu,{children:r})},Oj="_NormalOption_mh1vg_1",Lj="_Elements_in_mh1vg_1",Fj="_NormalOption_title_mh1vg_10",Uj="_NormalOption_title_bef_mh1vg_19",kj="_NormalOption_title_sd_mh1vg_29",Bj="_NormalOption_buttonList_mh1vg_39";var q_={NormalOption:Oj,Elements_in:Lj,NormalOption_title:Fj,NormalOption_title_bef:Uj,NormalOption_title_sd:kj,NormalOption_buttonList:Bj};const ea=e=>Pe("div",{className:q_.NormalOption,children:[X("div",{className:q_.NormalOption_title,children:e.title}),X("div",{className:q_.NormalOption_buttonList,children:e.children})]});const K_=e=>(jt.exports.useEffect(()=>{setTimeout(()=>{const t=document.getElementById(e.uniqueID);t!==null&&t.setAttribute("value",e.initValue.toString())},1)},[]),X("div",{className:"Option_WebGAL_slider",children:X("input",{id:e.uniqueID,type:"range",onChange:e.onChange})})),Mj="_textPreviewMain_1dkgu_2",Dj="_singleText_1dkgu_11",Gj="_TextDelayShow_1dkgu_1";var iS={textPreviewMain:Mj,singleText:Dj,TextDelayShow:Gj};const Hj=e=>{const t=Ar(u=>u.userData),r=55-20*t.optionData.textSpeed,n="\u73B0\u5728\u9884\u89C8\u7684\u662F\u6587\u672C\u6846\u5B57\u4F53\u5927\u5C0F\u548C\u64AD\u653E\u901F\u5EA6\u7684\u60C5\u51B5\uFF0C\u60A8\u53EF\u4EE5\u6839\u636E\u60A8\u7684\u89C2\u611F\u8C03\u6574\u4E0A\u9762\u7684\u9009\u9879\u3002",i=t.optionData.textSize*50+200+"%";let o=iS.singleText;const a=n.split("").map((u,f)=>X("span",{id:r+"text"+f,style:{fontSize:i,animationDelay:String(f*r)+"ms"},className:o,children:u},u+f+t.optionData.textSpeed));return X("div",{className:iS.textPreviewMain,children:a})},Xj=()=>{const e=Ar(r=>r.userData),t=ko();return jt.exports.useEffect(Hh,[]),Pe("div",{className:Qo.Options_main,children:[X("div",{className:Qo.Options_top,children:X("div",{className:Qo.Options_title,children:X("div",{className:Qo.Option_title_text,children:"\u9009\u9879"})})}),Pe("div",{className:Qo.Options_main_content,children:[Pe("div",{className:Qo.Options_main_content_half,children:[X(ea,{title:"\u6587\u5B57\u663E\u793A\u901F\u5EA6",children:X(Y_,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{t(_n({key:"textSpeed",value:Ri.slow})),gr()},()=>{t(_n({key:"textSpeed",value:Ri.normal})),gr()},()=>{t(_n({key:"textSpeed",value:Ri.fast})),gr()}],currentChecked:e.optionData.textSpeed})},"option0"),X(ea,{title:"\u81EA\u52A8\u64AD\u653E\u901F\u5EA6",children:X(Y_,{textList:["\u6162","\u4E2D","\u5FEB"],functionList:[()=>{t(_n({key:"autoSpeed",value:Ri.slow})),gr()},()=>{t(_n({key:"autoSpeed",value:Ri.normal})),gr()},()=>{t(_n({key:"autoSpeed",value:Ri.fast})),gr()}],currentChecked:e.optionData.autoSpeed})},"option1"),X(ea,{title:"\u6587\u672C\u5927\u5C0F",children:X(Y_,{textList:["\u5C0F","\u4E2D","\u5927"],functionList:[()=>{t(_n({key:"textSize",value:hl.small})),gr()},()=>{t(_n({key:"textSize",value:hl.medium})),gr()},()=>{t(_n({key:"textSize",value:hl.large})),gr()}],currentChecked:e.optionData.textSize})},"option2"),X(ea,{title:"\u6587\u672C\u663E\u793A\u9884\u89C8",children:X(Hj,{})},"option3")]}),Pe("div",{className:Qo.Options_main_content_half,children:[X(ea,{title:"\u4E3B\u97F3\u91CF",children:X(K_,{initValue:e.optionData.volumeMain,uniqueID:"\u4E3B\u97F3\u91CF",onChange:r=>{const n=r.target.value;t(_n({key:"volumeMain",value:Number(n)})),gr(),ch()}})},"option4"),X(ea,{title:"\u8BED\u97F3\u97F3\u91CF",children:X(K_,{initValue:e.optionData.vocalVolume,uniqueID:"\u8BED\u97F3\u97F3\u91CF",onChange:r=>{const n=r.target.value;t(_n({key:"vocalVolume",value:Number(n)})),gr(),ch()}})},"option5"),X(ea,{title:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",children:X(K_,{initValue:e.optionData.bgmVolume,uniqueID:"\u80CC\u666F\u97F3\u4E50\u97F3\u91CF",onChange:r=>{const n=r.target.value;t(_n({key:"bgmVolume",value:Number(n)})),gr(),ch()}})},"option6")]})]})]})},$j=()=>{const e=Ar(n=>n.GUI);let t,r="linear-gradient(135deg, rgba(253,251,251,0.95) 0%, rgba(235,237,238,1) 100%)";switch(e.currentMenuTag){case Bt.Save:t=X(mj,{});break;case Bt.Load:t=X(xj,{});break;case Bt.Option:t=X(Xj,{});break}return X(nu,{children:e.showMenuPanel&&Pe("div",{className:tS.Menu_main,style:{background:r},children:[X("div",{className:tS.Menu_TagContent,children:t}),X(D$,{})]})})},jj=()=>{const e=Ar(a=>a.stage),t=Ar(a=>a.userData);jt.exports.useEffect(()=>{});const r=55-20*t.optionData.textSpeed,n=t.optionData.textSize*50+200+"%",o=e.showText.split("").map((a,u)=>X("span",{className:Pi.TextBox_textElement_start,style:{animationDelay:String(u*r)+"ms"},children:a},u+"textElement"+a+e.showText));return Pe("div",{id:"textBoxMain",className:Pi.TextBox_main,children:[X("div",{id:"miniAvatar",className:Pi.miniAvatarContainer,children:e.miniAvatar!==""&&X("img",{className:Pi.miniAvatarImg,alt:"miniAvatar",src:e.miniAvatar})}),e.showName!==""&&X("div",{className:Pi.TextBox_showName,style:{fontSize:"200%"},children:e.showName}),X("div",{style:{fontSize:n},children:o})]})},zj="_FigureContainer_main_1s73g_1",Vj="_figurePic_1s73g_10",Wj="_centerIn_1s73g_1",Yj="_figContainer_1s73g_19",qj="_figContainerLeft_1s73g_30",Kj="_figContainerCenter_1s73g_34",Zj="_figContainerRight_1s73g_38";var Zn={FigureContainer_main:zj,figurePic:Vj,centerIn:Wj,figContainer:Yj,figContainerLeft:qj,figContainerCenter:Kj,figContainerRight:Zj};const Jj=()=>{const e=Ar(t=>t.stage);return Pe("div",{className:Zn.FigureContainer_main,children:[X("div",{className:Zn.figContainerLeft+" "+Zn.figContainer,id:"figLeftContainer",children:e.figNameLeft!==""&&X("img",{className:Zn.figurePic,src:e.figNameLeft,alt:"fig_left"})}),X("div",{className:Zn.figContainerCenter+" "+Zn.figContainer,id:"figCenterContainer",children:e.figName!==""&&X("img",{className:Zn.figurePic,src:e.figName,alt:"fig_center"})}),X("div",{className:Zn.figContainerRight+" "+Zn.figContainer,id:"figRightContainer",children:e.figNameRight!==""&&X("img",{className:Zn.figurePic,src:e.figNameRight,alt:"fig_right"})})]})},Qj=()=>{const e=Ar(t=>t.stage);return Pe("div",{children:[X("audio",{id:"currentBgm",src:e.bgm,loop:!0,autoPlay:!0}),X("audio",{id:"currentVocal",src:e.vocal})]})},ez=()=>Pe("div",{className:Ll.FullScreenPerform_main,children:[X("div",{id:"videoContainer"}),X("div",{className:Ll.introContainer,id:"introContainer"}),X("div",{id:"pixiContianer"}),X("div",{id:"chooseContainer"})]}),tz="_ToCenter_jbsjq_1",rz="_main_jbsjq_6",nz="_button_jbsjq_17",iz="_button_text_jbsjq_23",oz="_button_on_jbsjq_28",az="_singleButton_jbsjq_38";var Ze={ToCenter:tz,main:rz,button:nz,button_text:iz,button_on:oz,singleButton:az};const Bg=e=>{const t=document.getElementById("Button_ControlPanel_auto");t&&(e?t.className=Ze.button_on:t.className=Ze.singleButton)},mR=()=>{_e.isAuto=!1,Bg(!1),_e.autoInterval!==null&&(clearInterval(_e.autoInterval),_e.autoInterval=null),_e.autoTimeout!==null&&(clearTimeout(_e.autoTimeout),_e.autoTimeout=null)},sz=()=>{_e.isAuto?(_e.isAuto=!1,Bg(!1),_e.autoInterval!==null&&(clearInterval(_e.autoInterval),_e.autoInterval=null)):(_e.isAuto=!0,Bg(!0),_e.autoInterval=setInterval(lz,100))},uz=()=>{In(),_e.autoTimeout=null},lz=()=>{const e=Ue.getState().userData.optionData.autoSpeed,t=750-250*e;let r=!1;_e.performList.forEach(n=>{n.blockingAuto()&&!n.isOver&&(r=!0)}),!r&&_e.autoTimeout===null&&(_e.autoTimeout=setTimeout(uz,t))},Mg=e=>{const t=document.getElementById("Button_ControlPanel_fast");t&&(e?t.className=Ze.button_on:t.className=Ze.singleButton)},gR=()=>{_e.isFast=!1,Mg(!1),_e.fastInterval!==null&&(clearInterval(_e.fastInterval),_e.fastInterval=null)},fz=()=>{gR(),mR()},cz=()=>{_e.isFast?(_e.isFast=!1,Mg(!1),_e.fastInterval!==null&&(clearInterval(_e.fastInterval),_e.fastInterval=null)):(_e.isFast=!0,Mg(!0),_e.fastInterval=setInterval(()=>{In()},100))},hz=()=>{const e=Ar(n=>n.stage),t=Ar(n=>n.GUI),r=ko();return jt.exports.useEffect(()=>{const n=e.effects;setTimeout(()=>{n.forEach(i=>{const o=document.getElementById(i.target);o&&(i.filter!==""&&(o.style.filter=i.filter),i.transform!==""&&(o.style.transform=i.transform))})},100)}),Pe("div",{className:uh.MainStage_main,children:[X("div",{id:"MainStage_bg_OldContainer",className:uh.MainStage_oldBgContainer,style:{backgroundImage:`url("${e.oldBgName}")`,backgroundSize:"cover"}},"bgOld"+e.oldBgName),X("div",{id:"MainStage_bg_MainContainer",className:uh.MainStage_bgContainer,style:{backgroundImage:`url("${e.bgName}")`,backgroundSize:"cover"}},"bgMain"+e.bgName),X(Jj,{}),t.showTextBox&&X(jj,{}),X(Qj,{}),X(ez,{}),X("div",{onClick:()=>{if(!t.showTextBox){r(tr({component:"showTextBox",visibility:!0}));return}fz(),In()},id:"FullScreenClcck",style:{width:"100%",height:"100%",position:"absolute",zIndex:"12",top:"0"}})]})},dz=()=>{const e=Ue.getState().GUI,t=Ue.dispatch;gd(e.titleBgm),Ty(),mR(),gR(),t(tr({component:"showTitle",visibility:!0}))},pz=()=>{const e=Ar(i=>i.GUI),t=ko(),r=(i,o)=>{t(tr({component:i,visibility:o}))},n=i=>{t(Os(i))};return X("div",{className:Ze.ToCenter,children:e.showTextBox&&Pe("div",{className:Ze.main,children:[e.showTextBox&&Pe("span",{className:Ze.singleButton,onClick:()=>r("showTextBox",!1),children:[X(L$,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u9690\u85CF"})]}),!e.showTextBox&&Pe("span",{className:Ze.singleButton,onClick:()=>r("showTextBox",!0),children:[X(F$,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u663E\u793A"})]}),Pe("span",{className:Ze.singleButton,onClick:()=>{r("showBacklog",!0),r("showTextBox",!1)},children:[X(R$,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u56DE\u60F3"})]}),Pe("span",{className:Ze.singleButton,onClick:()=>{let i=document.getElementById("currentVocal");i!==null&&(i.currentTime=0,i.pause(),i.play())},children:[X(U$,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u91CD\u64AD"})]}),Pe("span",{id:"Button_ControlPanel_auto",className:Ze.singleButton,onClick:sz,children:[X(O$,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u81EA\u52A8"})]}),Pe("span",{id:"Button_ControlPanel_fast",className:Ze.singleButton,onClick:cz,children:[X(P$,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u5FEB\u8FDB"})]}),Pe("span",{className:Ze.singleButton,onClick:()=>{n(Bt.Save),r("showMenuPanel",!0)},children:[X(pR,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u5B58\u6863"})]}),Pe("span",{className:Ze.singleButton,onClick:()=>{n(Bt.Load),r("showMenuPanel",!0)},children:[X(hR,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u8BFB\u6863"})]}),Pe("span",{className:Ze.singleButton,onClick:()=>{n(Bt.Option),r("showMenuPanel",!0)},children:[X(vR,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u9009\u9879"})]}),Pe("span",{className:Ze.singleButton,onClick:()=>{dz()},children:[X(dR,{className:Ze.button,theme:"outline",size:"30",fill:"#f5f5f7",strokeWidth:3.5}),X("span",{className:Ze.button_text,children:"\u6807\u9898"})]})]})})},vz="_Backlog_main_g4zkn_2",_z="_backlog_soft_in_g4zkn_1",mz="_backlog_top_g4zkn_15",gz="_backlog_top_icon_g4zkn_21",yz="_backlog_icon_softin_g4zkn_1",xz="_backlog_title_g4zkn_40",Tz="_backlog_content_g4zkn_50",Ez="_backlog_item_g4zkn_62",wz="_backlog_item_in_g4zkn_1",bz="_backlog_item_content_g4zkn_72",Sz="_backlog_item_button_list_g4zkn_77",Cz="_backlog_item_button_element_g4zkn_84",Iz="_backlog_item_content_name_g4zkn_98",Rz="_backlog_item_content_text_g4zkn_104";var mn={Backlog_main:vz,backlog_soft_in:_z,backlog_top:mz,backlog_top_icon:gz,backlog_icon_softin:yz,backlog_title:xz,backlog_content:Tz,backlog_item:Ez,backlog_item_in:wz,backlog_item_content:bz,backlog_item_button_list:Sz,backlog_item_button_element:Cz,backlog_item_content_name:Iz,backlog_item_content_text:Rz};const Nz=()=>{const e=Ar(n=>n.GUI),t=[],r=ko();for(let n=0;n<tn.length;n++){const i=tn[n],o=Pe("div",{className:mn.backlog_item,style:{animationDelay:`${20*(tn.length-n)}ms`},children:[Pe("div",{className:mn.backlog_item_button_list,children:[X("div",{onClick:a=>{gj(n),a.preventDefault(),a.stopPropagation()},className:mn.backlog_item_button_element,children:X(k$,{theme:"outline",size:"26",fill:"#ffffff",strokeWidth:3})}),X("div",{onClick:()=>{const a=document.getElementById("backlog_audio_play_element_"+n);if(a){a.currentTime=0;const u=Ue.getState().userData,f=u.optionData.volumeMain;a.volume=f*.01*u.optionData.vocalVolume*.01,a.play()}},className:mn.backlog_item_button_element,children:X(B$,{theme:"outline",size:"26",fill:"#ffffff",strokeWidth:3})})]}),Pe("div",{className:mn.backlog_item_content,children:[Pe("span",{className:mn.backlog_item_content_name,children:[i.currentStageState.showName,i.currentStageState.showName===""?"":"\uFF1A"]}),X("span",{className:mn.backlog_item_content_text,children:i.currentStageState.showText})]}),X("audio",{id:"backlog_audio_play_element_"+n,src:i.currentStageState.vocal})]},"backlogItem"+i.currentStageState.showText+i.saveScene.currentSentenceId);t.unshift(o)}return X(nu,{children:e.showBacklog&&Pe("div",{className:mn.Backlog_main,children:[Pe("div",{className:mn.backlog_top,children:[X(N$,{className:mn.backlog_top_icon,onClick:()=>{r(tr({component:"showBacklog",visibility:!1})),r(tr({component:"showTextBox",visibility:!0}))},theme:"outline",size:"4em",fill:"#ffffff",strokeWidth:3}),X("div",{className:mn.backlog_title,children:"\u56DE\u60F3"})]}),X("div",{className:mn.backlog_content,children:t})]})})};function Pz(){return jt.exports.useEffect(()=>{p$()},[]),X("div",{className:"App",style:{height:"100%",width:"100%",background:"rgba(0, 0, 0, 0.6)"},children:Pe(o$,{store:Ue,children:[X(u$,{}),X($j,{}),X(hz,{}),X(pz,{}),X(Nz,{})]})})}Gs.render(X(xe.StrictMode,{children:X(Pz,{})}),document.getElementById("root"));
